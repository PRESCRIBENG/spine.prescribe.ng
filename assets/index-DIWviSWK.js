function ef(p,m){for(var f=0;f<m.length;f++){const y=m[f];if(typeof y!="string"&&!Array.isArray(y)){for(const w in y)if(w!=="default"&&!(w in p)){const I=Object.getOwnPropertyDescriptor(y,w);I&&Object.defineProperty(p,w,I.get?I:{enumerable:!0,get:()=>y[w]})}}}return Object.freeze(Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}))}(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const w of document.querySelectorAll('link[rel="modulepreload"]'))y(w);new MutationObserver(w=>{for(const I of w)if(I.type==="childList")for(const O of I.addedNodes)O.tagName==="LINK"&&O.rel==="modulepreload"&&y(O)}).observe(document,{childList:!0,subtree:!0});function f(w){const I={};return w.integrity&&(I.integrity=w.integrity),w.referrerPolicy&&(I.referrerPolicy=w.referrerPolicy),w.crossOrigin==="use-credentials"?I.credentials="include":w.crossOrigin==="anonymous"?I.credentials="omit":I.credentials="same-origin",I}function y(w){if(w.ep)return;w.ep=!0;const I=f(w);fetch(w.href,I)}})();function $u(p){return p&&p.__esModule&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p}var Nu={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ld;function tf(){if(Ld)return Je;Ld=1;var p=Symbol.for("react.element"),m=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),O=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),F=Symbol.iterator;function V(_){return _===null||typeof _!="object"?null:(_=F&&_[F]||_["@@iterator"],typeof _=="function"?_:null)}var ne={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,A={};function Z(_,j,pe){this.props=_,this.context=j,this.refs=A,this.updater=pe||ne}Z.prototype.isReactComponent={},Z.prototype.setState=function(_,j){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,j,"setState")},Z.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function z(){}z.prototype=Z.prototype;function q(_,j,pe){this.props=_,this.context=j,this.refs=A,this.updater=pe||ne}var Y=q.prototype=new z;Y.constructor=q,k(Y,Z.prototype),Y.isPureReactComponent=!0;var se=Array.isArray,Ce=Object.prototype.hasOwnProperty,Be={current:null},Oe={key:!0,ref:!0,__self:!0,__source:!0};function X(_,j,pe){var Te,_e={},xe=null,me=null;if(j!=null)for(Te in j.ref!==void 0&&(me=j.ref),j.key!==void 0&&(xe=""+j.key),j)Ce.call(j,Te)&&!Oe.hasOwnProperty(Te)&&(_e[Te]=j[Te]);var Ge=arguments.length-2;if(Ge===1)_e.children=pe;else if(1<Ge){for(var ge=Array(Ge),Pe=0;Pe<Ge;Pe++)ge[Pe]=arguments[Pe+2];_e.children=ge}if(_&&_.defaultProps)for(Te in Ge=_.defaultProps,Ge)_e[Te]===void 0&&(_e[Te]=Ge[Te]);return{$$typeof:p,type:_,key:xe,ref:me,props:_e,_owner:Be.current}}function J(_,j){return{$$typeof:p,type:_.type,key:j,ref:_.ref,props:_.props,_owner:_._owner}}function Re(_){return typeof _=="object"&&_!==null&&_.$$typeof===p}function D(_){var j={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(pe){return j[pe]})}var Ie=/\/+/g;function we(_,j){return typeof _=="object"&&_!==null&&_.key!=null?D(""+_.key):j.toString(36)}function re(_,j,pe,Te,_e){var xe=typeof _;(xe==="undefined"||xe==="boolean")&&(_=null);var me=!1;if(_===null)me=!0;else switch(xe){case"string":case"number":me=!0;break;case"object":switch(_.$$typeof){case p:case m:me=!0}}if(me)return me=_,_e=_e(me),_=Te===""?"."+we(me,0):Te,se(_e)?(pe="",_!=null&&(pe=_.replace(Ie,"$&/")+"/"),re(_e,j,pe,"",function(Pe){return Pe})):_e!=null&&(Re(_e)&&(_e=J(_e,pe+(!_e.key||me&&me.key===_e.key?"":(""+_e.key).replace(Ie,"$&/")+"/")+_)),j.push(_e)),1;if(me=0,Te=Te===""?".":Te+":",se(_))for(var Ge=0;Ge<_.length;Ge++){xe=_[Ge];var ge=Te+we(xe,Ge);me+=re(xe,j,pe,ge,_e)}else if(ge=V(_),typeof ge=="function")for(_=ge.call(_),Ge=0;!(xe=_.next()).done;)xe=xe.value,ge=Te+we(xe,Ge++),me+=re(xe,j,pe,ge,_e);else if(xe==="object")throw j=String(_),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return me}function ae(_,j,pe){if(_==null)return _;var Te=[],_e=0;return re(_,Te,"","",function(xe){return j.call(pe,xe,_e++)}),Te}function te(_){if(_._status===-1){var j=_._result;j=j(),j.then(function(pe){(_._status===0||_._status===-1)&&(_._status=1,_._result=pe)},function(pe){(_._status===0||_._status===-1)&&(_._status=2,_._result=pe)}),_._status===-1&&(_._status=0,_._result=j)}if(_._status===1)return _._result.default;throw _._result}var oe={current:null},b={transition:null},Q={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:b,ReactCurrentOwner:Be};function C(){throw Error("act(...) is not supported in production builds of React.")}return Je.Children={map:ae,forEach:function(_,j,pe){ae(_,function(){j.apply(this,arguments)},pe)},count:function(_){var j=0;return ae(_,function(){j++}),j},toArray:function(_){return ae(_,function(j){return j})||[]},only:function(_){if(!Re(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},Je.Component=Z,Je.Fragment=f,Je.Profiler=w,Je.PureComponent=q,Je.StrictMode=y,Je.Suspense=N,Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,Je.act=C,Je.cloneElement=function(_,j,pe){if(_==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_+".");var Te=k({},_.props),_e=_.key,xe=_.ref,me=_._owner;if(j!=null){if(j.ref!==void 0&&(xe=j.ref,me=Be.current),j.key!==void 0&&(_e=""+j.key),_.type&&_.type.defaultProps)var Ge=_.type.defaultProps;for(ge in j)Ce.call(j,ge)&&!Oe.hasOwnProperty(ge)&&(Te[ge]=j[ge]===void 0&&Ge!==void 0?Ge[ge]:j[ge])}var ge=arguments.length-2;if(ge===1)Te.children=pe;else if(1<ge){Ge=Array(ge);for(var Pe=0;Pe<ge;Pe++)Ge[Pe]=arguments[Pe+2];Te.children=Ge}return{$$typeof:p,type:_.type,key:_e,ref:xe,props:Te,_owner:me}},Je.createContext=function(_){return _={$$typeof:O,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_.Provider={$$typeof:I,_context:_},_.Consumer=_},Je.createElement=X,Je.createFactory=function(_){var j=X.bind(null,_);return j.type=_,j},Je.createRef=function(){return{current:null}},Je.forwardRef=function(_){return{$$typeof:P,render:_}},Je.isValidElement=Re,Je.lazy=function(_){return{$$typeof:S,_payload:{_status:-1,_result:_},_init:te}},Je.memo=function(_,j){return{$$typeof:x,type:_,compare:j===void 0?null:j}},Je.startTransition=function(_){var j=b.transition;b.transition={};try{_()}finally{b.transition=j}},Je.unstable_act=C,Je.useCallback=function(_,j){return oe.current.useCallback(_,j)},Je.useContext=function(_){return oe.current.useContext(_)},Je.useDebugValue=function(){},Je.useDeferredValue=function(_){return oe.current.useDeferredValue(_)},Je.useEffect=function(_,j){return oe.current.useEffect(_,j)},Je.useId=function(){return oe.current.useId()},Je.useImperativeHandle=function(_,j,pe){return oe.current.useImperativeHandle(_,j,pe)},Je.useInsertionEffect=function(_,j){return oe.current.useInsertionEffect(_,j)},Je.useLayoutEffect=function(_,j){return oe.current.useLayoutEffect(_,j)},Je.useMemo=function(_,j){return oe.current.useMemo(_,j)},Je.useReducer=function(_,j,pe){return oe.current.useReducer(_,j,pe)},Je.useRef=function(_){return oe.current.useRef(_)},Je.useState=function(_){return oe.current.useState(_)},Je.useSyncExternalStore=function(_,j,pe){return oe.current.useSyncExternalStore(_,j,pe)},Je.useTransition=function(){return oe.current.useTransition()},Je.version="18.3.1",Je}var Od;function rs(){return Od||(Od=1,Nu.exports=tf()),Nu.exports}var T=rs();const nr=$u(T),nf=ef({__proto__:null,default:nr},[T]);var Xl={},zu={exports:{}},Xt={},Iu={exports:{}},Mu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nd;function rf(){return Nd||(Nd=1,function(p){function m(b,Q){var C=b.length;b.push(Q);e:for(;0<C;){var _=C-1>>>1,j=b[_];if(0<w(j,Q))b[_]=Q,b[C]=j,C=_;else break e}}function f(b){return b.length===0?null:b[0]}function y(b){if(b.length===0)return null;var Q=b[0],C=b.pop();if(C!==Q){b[0]=C;e:for(var _=0,j=b.length,pe=j>>>1;_<pe;){var Te=2*(_+1)-1,_e=b[Te],xe=Te+1,me=b[xe];if(0>w(_e,C))xe<j&&0>w(me,_e)?(b[_]=me,b[xe]=C,_=xe):(b[_]=_e,b[Te]=C,_=Te);else if(xe<j&&0>w(me,C))b[_]=me,b[xe]=C,_=xe;else break e}}return Q}function w(b,Q){var C=b.sortIndex-Q.sortIndex;return C!==0?C:b.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var I=performance;p.unstable_now=function(){return I.now()}}else{var O=Date,P=O.now();p.unstable_now=function(){return O.now()-P}}var N=[],x=[],S=1,F=null,V=3,ne=!1,k=!1,A=!1,Z=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Y(b){for(var Q=f(x);Q!==null;){if(Q.callback===null)y(x);else if(Q.startTime<=b)y(x),Q.sortIndex=Q.expirationTime,m(N,Q);else break;Q=f(x)}}function se(b){if(A=!1,Y(b),!k)if(f(N)!==null)k=!0,te(Ce);else{var Q=f(x);Q!==null&&oe(se,Q.startTime-b)}}function Ce(b,Q){k=!1,A&&(A=!1,z(X),X=-1),ne=!0;var C=V;try{for(Y(Q),F=f(N);F!==null&&(!(F.expirationTime>Q)||b&&!D());){var _=F.callback;if(typeof _=="function"){F.callback=null,V=F.priorityLevel;var j=_(F.expirationTime<=Q);Q=p.unstable_now(),typeof j=="function"?F.callback=j:F===f(N)&&y(N),Y(Q)}else y(N);F=f(N)}if(F!==null)var pe=!0;else{var Te=f(x);Te!==null&&oe(se,Te.startTime-Q),pe=!1}return pe}finally{F=null,V=C,ne=!1}}var Be=!1,Oe=null,X=-1,J=5,Re=-1;function D(){return!(p.unstable_now()-Re<J)}function Ie(){if(Oe!==null){var b=p.unstable_now();Re=b;var Q=!0;try{Q=Oe(!0,b)}finally{Q?we():(Be=!1,Oe=null)}}else Be=!1}var we;if(typeof q=="function")we=function(){q(Ie)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ae=re.port2;re.port1.onmessage=Ie,we=function(){ae.postMessage(null)}}else we=function(){Z(Ie,0)};function te(b){Oe=b,Be||(Be=!0,we())}function oe(b,Q){X=Z(function(){b(p.unstable_now())},Q)}p.unstable_IdlePriority=5,p.unstable_ImmediatePriority=1,p.unstable_LowPriority=4,p.unstable_NormalPriority=3,p.unstable_Profiling=null,p.unstable_UserBlockingPriority=2,p.unstable_cancelCallback=function(b){b.callback=null},p.unstable_continueExecution=function(){k||ne||(k=!0,te(Ce))},p.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<b?Math.floor(1e3/b):5},p.unstable_getCurrentPriorityLevel=function(){return V},p.unstable_getFirstCallbackNode=function(){return f(N)},p.unstable_next=function(b){switch(V){case 1:case 2:case 3:var Q=3;break;default:Q=V}var C=V;V=Q;try{return b()}finally{V=C}},p.unstable_pauseExecution=function(){},p.unstable_requestPaint=function(){},p.unstable_runWithPriority=function(b,Q){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var C=V;V=b;try{return Q()}finally{V=C}},p.unstable_scheduleCallback=function(b,Q,C){var _=p.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?_+C:_):C=_,b){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=C+j,b={id:S++,callback:Q,priorityLevel:b,startTime:C,expirationTime:j,sortIndex:-1},C>_?(b.sortIndex=C,m(x,b),f(N)===null&&b===f(x)&&(A?(z(X),X=-1):A=!0,oe(se,C-_))):(b.sortIndex=j,m(N,b),k||ne||(k=!0,te(Ce))),b},p.unstable_shouldYield=D,p.unstable_wrapCallback=function(b){var Q=V;return function(){var C=V;V=Q;try{return b.apply(this,arguments)}finally{V=C}}}}(Mu)),Mu}var zd;function of(){return zd||(zd=1,Iu.exports=rf()),Iu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Id;function af(){if(Id)return Xt;Id=1;var p=rs(),m=of();function f(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y=new Set,w={};function I(e,n){O(e,n),O(e+"Capture",n)}function O(e,n){for(w[e]=n,e=0;e<n.length;e++)y.add(n[e])}var P=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),N=Object.prototype.hasOwnProperty,x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S={},F={};function V(e){return N.call(F,e)?!0:N.call(S,e)?!1:x.test(e)?F[e]=!0:(S[e]=!0,!1)}function ne(e,n,r,l){if(r!==null&&r.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function k(e,n,r,l){if(n===null||typeof n>"u"||ne(e,n,r,l))return!0;if(l)return!1;if(r!==null)switch(r.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function A(e,n,r,l,u,c,g){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=u,this.mustUseProperty=r,this.propertyName=e,this.type=n,this.sanitizeURL=c,this.removeEmptyString=g}var Z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Z[e]=new A(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];Z[n]=new A(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){Z[e]=new A(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Z[e]=new A(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Z[e]=new A(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){Z[e]=new A(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){Z[e]=new A(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){Z[e]=new A(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){Z[e]=new A(e,5,!1,e.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function q(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(z,q);Z[n]=new A(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(z,q);Z[n]=new A(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(z,q);Z[n]=new A(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){Z[e]=new A(e,1,!1,e.toLowerCase(),null,!1,!1)}),Z.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){Z[e]=new A(e,1,!1,e.toLowerCase(),null,!0,!0)});function Y(e,n,r,l){var u=Z.hasOwnProperty(n)?Z[n]:null;(u!==null?u.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(k(n,r,u,l)&&(r=null),l||u===null?V(n)&&(r===null?e.removeAttribute(n):e.setAttribute(n,""+r)):u.mustUseProperty?e[u.propertyName]=r===null?u.type===3?!1:"":r:(n=u.attributeName,l=u.attributeNamespace,r===null?e.removeAttribute(n):(u=u.type,r=u===3||u===4&&r===!0?"":""+r,l?e.setAttributeNS(l,n,r):e.setAttribute(n,r))))}var se=p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ce=Symbol.for("react.element"),Be=Symbol.for("react.portal"),Oe=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),Re=Symbol.for("react.provider"),D=Symbol.for("react.context"),Ie=Symbol.for("react.forward_ref"),we=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),b=Symbol.iterator;function Q(e){return e===null||typeof e!="object"?null:(e=b&&e[b]||e["@@iterator"],typeof e=="function"?e:null)}var C=Object.assign,_;function j(e){if(_===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);_=n&&n[1]||""}return`
`+_+e}var pe=!1;function Te(e,n){if(!e||pe)return"";pe=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(K){var l=K}Reflect.construct(e,[],n)}else{try{n.call()}catch(K){l=K}e.call(n.prototype)}else{try{throw Error()}catch(K){l=K}e()}}catch(K){if(K&&l&&typeof K.stack=="string"){for(var u=K.stack.split(`
`),c=l.stack.split(`
`),g=u.length-1,E=c.length-1;1<=g&&0<=E&&u[g]!==c[E];)E--;for(;1<=g&&0<=E;g--,E--)if(u[g]!==c[E]){if(g!==1||E!==1)do if(g--,E--,0>E||u[g]!==c[E]){var B=`
`+u[g].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=g&&0<=E);break}}}finally{pe=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?j(e):""}function _e(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=Te(e.type,!1),e;case 11:return e=Te(e.type.render,!1),e;case 1:return e=Te(e.type,!0),e;default:return""}}function xe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Oe:return"Fragment";case Be:return"Portal";case J:return"Profiler";case X:return"StrictMode";case we:return"Suspense";case re:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case D:return(e.displayName||"Context")+".Consumer";case Re:return(e._context.displayName||"Context")+".Provider";case Ie:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ae:return n=e.displayName||null,n!==null?n:xe(e.type)||"Memo";case te:n=e._payload,e=e._init;try{return xe(e(n))}catch{}}return null}function me(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(n);case 8:return n===X?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Ge(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ge(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Pe(e){var n=ge(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,c=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(g){l=""+g,c.call(this,g)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(g){l=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function We(e){e._valueTracker||(e._valueTracker=Pe(e))}function it(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return e&&(l=ge(e)?e.checked?"true":"false":e.value),e=l,e!==r?(n.setValue(e),!0):!1}function Se(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ht(e,n){var r=n.checked;return C({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ye(e,n){var r=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;r=Ge(n.value!=null?n.value:r),e._wrapperState={initialChecked:l,initialValue:r,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function ee(e,n){n=n.checked,n!=null&&Y(e,"checked",n,!1)}function Fe(e,n){ee(e,n);var r=Ge(n.value),l=n.type;if(r!=null)l==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?be(e,n.type,r):n.hasOwnProperty("defaultValue")&&be(e,n.type,Ge(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function de(e,n,r){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,r||n===e.value||(e.value=n),e.defaultValue=n}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function be(e,n,r){(n!=="number"||Se(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var U=Array.isArray;function ie(e,n,r,l){if(e=e.options,n){n={};for(var u=0;u<r.length;u++)n["$"+r[u]]=!0;for(r=0;r<e.length;r++)u=n.hasOwnProperty("$"+e[r].value),e[r].selected!==u&&(e[r].selected=u),u&&l&&(e[r].defaultSelected=!0)}else{for(r=""+Ge(r),n=null,u=0;u<e.length;u++){if(e[u].value===r){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function he(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(f(91));return C({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ke(e,n){var r=n.value;if(r==null){if(r=n.children,n=n.defaultValue,r!=null){if(n!=null)throw Error(f(92));if(U(r)){if(1<r.length)throw Error(f(93));r=r[0]}n=r}n==null&&(n=""),r=n}e._wrapperState={initialValue:Ge(r)}}function rt(e,n){var r=Ge(n.value),l=Ge(n.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),n.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),l!=null&&(e.defaultValue=""+l)}function Dr(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function qn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rr(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?qn(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var or,Ia=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,r,l,u){MSApp.execUnsafeLocalFunction(function(){return e(n,r,l,u)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(or=or||document.createElement("div"),or.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=or.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function wi(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var Ci={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ls=["Webkit","ms","Moz","O"];Object.keys(Ci).forEach(function(e){ls.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Ci[n]=Ci[e]})});function Oo(e,n,r){return n==null||typeof n=="boolean"||n===""?"":r||typeof n!="number"||n===0||Ci.hasOwnProperty(e)&&Ci[e]?(""+n).trim():n+"px"}function Fr(e,n){e=e.style;for(var r in n)if(n.hasOwnProperty(r)){var l=r.indexOf("--")===0,u=Oo(r,n[r],l);r==="float"&&(r="cssFloat"),l?e.setProperty(r,u):e[r]=u}}var Ma=C({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function No(e,n){if(n){if(Ma[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(f(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(f(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(f(61))}if(n.style!=null&&typeof n.style!="object")throw Error(f(62))}}function Jn(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zo=null;function Io(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jr=null,Qn=null,Xn=null;function Aa(e){if(e=di(e)){if(typeof jr!="function")throw Error(f(280));var n=e.stateNode;n&&(n=po(n),jr(e.stateNode,e.type,n))}}function Ba(e){Qn?Xn?Xn.push(e):Xn=[e]:Qn=e}function Da(){if(Qn){var e=Qn,n=Xn;if(Xn=Qn=null,Aa(e),n)for(e=0;e<n.length;e++)Aa(n[e])}}function Ra(e,n){return e(n)}function Fa(){}var Mo=!1;function Ur(e,n,r){if(Mo)return e(n,r);Mo=!0;try{return Ra(e,n,r)}finally{Mo=!1,(Qn!==null||Xn!==null)&&(Fa(),Da())}}function ar(e,n){var r=e.stateNode;if(r===null)return null;var l=po(r);if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(f(231,n,typeof r));return r}var Ao=!1;if(P)try{var lr={};Object.defineProperty(lr,"passive",{get:function(){Ao=!0}}),window.addEventListener("test",lr,lr),window.removeEventListener("test",lr,lr)}catch{Ao=!1}function ss(e,n,r,l,u,c,g,E,B){var K=Array.prototype.slice.call(arguments,3);try{n.apply(r,K)}catch(ce){this.onError(ce)}}var Nt=!1,Ae=null,sr=!1,Zr=null,ja={onError:function(e){Nt=!0,Ae=e}};function Ua(e,n,r,l,u,c,g,E,B){Nt=!1,Ae=null,ss.apply(ja,arguments)}function Bo(e,n,r,l,u,c,g,E,B){if(Ua.apply(this,arguments),Nt){if(Nt){var K=Ae;Nt=!1,Ae=null}else throw Error(f(198));sr||(sr=!0,Zr=K)}}function Rn(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function ei(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Do(e){if(Rn(e)!==e)throw Error(f(188))}function us(e){var n=e.alternate;if(!n){if(n=Rn(e),n===null)throw Error(f(188));return n!==e?null:e}for(var r=e,l=n;;){var u=r.return;if(u===null)break;var c=u.alternate;if(c===null){if(l=u.return,l!==null){r=l;continue}break}if(u.child===c.child){for(c=u.child;c;){if(c===r)return Do(u),e;if(c===l)return Do(u),n;c=c.sibling}throw Error(f(188))}if(r.return!==l.return)r=u,l=c;else{for(var g=!1,E=u.child;E;){if(E===r){g=!0,r=u,l=c;break}if(E===l){g=!0,l=u,r=c;break}E=E.sibling}if(!g){for(E=c.child;E;){if(E===r){g=!0,r=c,l=u;break}if(E===l){g=!0,l=c,r=u;break}E=E.sibling}if(!g)throw Error(f(189))}}if(r.alternate!==l)throw Error(f(190))}if(r.tag!==3)throw Error(f(188));return r.stateNode.current===r?e:n}function Za(e){return e=us(e),e!==null?$a(e):null}function $a(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=$a(e);if(n!==null)return n;e=e.sibling}return null}var Wa=m.unstable_scheduleCallback,Ro=m.unstable_cancelCallback,cs=m.unstable_shouldYield,$r=m.unstable_requestPaint,ht=m.unstable_now,ds=m.unstable_getCurrentPriorityLevel,Fo=m.unstable_ImmediatePriority,Ha=m.unstable_UserBlockingPriority,Wr=m.unstable_NormalPriority,jo=m.unstable_LowPriority,xi=m.unstable_IdlePriority,ur=null,tn=null;function cr(e){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(ur,e,void 0,(e.current.flags&128)===128)}catch{}}var Ye=Math.clz32?Math.clz32:Si,ut=Math.log,Hr=Math.LN2;function Si(e){return e>>>=0,e===0?32:31-(ut(e)/Hr|0)|0}var Tn=64,bi=4194304;function Ke(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function lt(e,n){var r=e.pendingLanes;if(r===0)return 0;var l=0,u=e.suspendedLanes,c=e.pingedLanes,g=r&268435455;if(g!==0){var E=g&~u;E!==0?l=Ke(E):(c&=g,c!==0&&(l=Ke(c)))}else g=r&~u,g!==0?l=Ke(g):c!==0&&(l=Ke(c));if(l===0)return 0;if(n!==0&&n!==l&&(n&u)===0&&(u=l&-l,c=n&-n,u>=c||u===16&&(c&4194240)!==0))return n;if((l&4)!==0&&(l|=r&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=l;0<n;)r=31-Ye(n),u=1<<r,l|=e[r],n&=~u;return l}function Uo(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vr(e,n){for(var r=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,c=e.pendingLanes;0<c;){var g=31-Ye(c),E=1<<g,B=u[g];B===-1?((E&r)===0||(E&l)!==0)&&(u[g]=Uo(E,n)):B<=n&&(e.expiredLanes|=E),c&=~E}}function zt(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Va(){var e=Tn;return Tn<<=1,(Tn&4194240)===0&&(Tn=64),e}function ki(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function nn(e,n,r){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Ye(n),e[n]=r}function gt(e,n){var r=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<r;){var u=31-Ye(r),c=1<<u;n[u]=0,l[u]=-1,e[u]=-1,r&=~c}}function En(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var l=31-Ye(r),u=1<<l;u&n|e[l]&n&&(e[l]|=n),r&=~u}}var Xe=0;function Pi(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Gr,ti,Kr,Yr,dr,hr=!1,Ti=[],rn=null,Ln=null,pn=null,fr=new Map,He=new Map,xt=[],ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zo(e,n){switch(e){case"focusin":case"focusout":rn=null;break;case"dragenter":case"dragleave":Ln=null;break;case"mouseover":case"mouseout":pn=null;break;case"pointerover":case"pointerout":fr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":He.delete(n.pointerId)}}function ni(e,n,r,l,u,c){return e===null||e.nativeEvent!==c?(e={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:c,targetContainers:[u]},n!==null&&(n=di(n),n!==null&&ti(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function $o(e,n,r,l,u){switch(n){case"focusin":return rn=ni(rn,e,n,r,l,u),!0;case"dragenter":return Ln=ni(Ln,e,n,r,l,u),!0;case"mouseover":return pn=ni(pn,e,n,r,l,u),!0;case"pointerover":var c=u.pointerId;return fr.set(c,ni(fr.get(c)||null,e,n,r,l,u)),!0;case"gotpointercapture":return c=u.pointerId,He.set(c,ni(He.get(c)||null,e,n,r,l,u)),!0}return!1}function qr(e){var n=ci(e.target);if(n!==null){var r=Rn(n);if(r!==null){if(n=r.tag,n===13){if(n=ei(r),n!==null){e.blockedOn=n,dr(e.priority,function(){Kr(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mn(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Xr(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);zo=l,r.target.dispatchEvent(l),zo=null}else return n=di(r),n!==null&&ti(n),e.blockedOn=r,!1;n.shift()}return!0}function Jr(e,n,r){mn(e)&&r.delete(n)}function pr(){hr=!1,rn!==null&&mn(rn)&&(rn=null),Ln!==null&&mn(Ln)&&(Ln=null),pn!==null&&mn(pn)&&(pn=null),fr.forEach(Jr),He.forEach(Jr)}function ft(e,n){e.blockedOn===n&&(e.blockedOn=null,hr||(hr=!0,m.unstable_scheduleCallback(m.unstable_NormalPriority,pr)))}function on(e){function n(u){return ft(u,e)}if(0<Ti.length){ft(Ti[0],e);for(var r=1;r<Ti.length;r++){var l=Ti[r];l.blockedOn===e&&(l.blockedOn=null)}}for(rn!==null&&ft(rn,e),Ln!==null&&ft(Ln,e),pn!==null&&ft(pn,e),fr.forEach(n),He.forEach(n),r=0;r<xt.length;r++)l=xt[r],l.blockedOn===e&&(l.blockedOn=null);for(;0<xt.length&&(r=xt[0],r.blockedOn===null);)qr(r),r.blockedOn===null&&xt.shift()}var ii=se.ReactCurrentBatchConfig,mr=!0;function hs(e,n,r,l){var u=Xe,c=ii.transition;ii.transition=null;try{Xe=1,gr(e,n,r,l)}finally{Xe=u,ii.transition=c}}function Ga(e,n,r,l){var u=Xe,c=ii.transition;ii.transition=null;try{Xe=4,gr(e,n,r,l)}finally{Xe=u,ii.transition=c}}function gr(e,n,r,l){if(mr){var u=Xr(e,n,r,l);if(u===null)t(e,n,l,Qr,r),Zo(e,l);else if($o(u,e,n,r,l))l.stopPropagation();else if(Zo(e,l),n&4&&-1<ot.indexOf(e)){for(;u!==null;){var c=di(u);if(c!==null&&Gr(c),c=Xr(e,n,r,l),c===null&&t(e,n,l,Qr,r),c===u)break;u=c}u!==null&&l.stopPropagation()}else t(e,n,l,null,r)}}var Qr=null;function Xr(e,n,r,l){if(Qr=null,e=Io(l),e=ci(e),e!==null)if(n=Rn(e),n===null)e=null;else if(r=n.tag,r===13){if(e=ei(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Qr=e,null}function Qe(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ds()){case Fo:return 1;case Ha:return 4;case Wr:case jo:return 16;case xi:return 536870912;default:return 16}default:return 16}}var Fn=null,jt=null,jn=null;function Wo(){if(jn)return jn;var e,n=jt,r=n.length,l,u="value"in Fn?Fn.value:Fn.textContent,c=u.length;for(e=0;e<r&&n[e]===u[e];e++);var g=r-e;for(l=1;l<=g&&n[r-l]===u[c-l];l++);return jn=u.slice(e,1<l?1-l:void 0)}function eo(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ei(){return!0}function Ka(){return!1}function It(e){function n(r,l,u,c,g){this._reactName=r,this._targetInst=u,this.type=l,this.nativeEvent=c,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(c):c[E]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Ei:Ka,this.isPropagationStopped=Ka,this}return C(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ei)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ei)},persist:function(){},isPersistent:Ei}),n}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ho=It(Li),ri=C({},Li,{view:0,detail:0}),fs=It(ri),Vt,Vo,Oi,an=C({},ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ai,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Oi&&(Oi&&e.type==="mousemove"?(Vt=e.screenX-Oi.screenX,Vo=e.screenY-Oi.screenY):Vo=Vt=0,Oi=e),Vt)},movementY:function(e){return"movementY"in e?e.movementY:Vo}}),Go=It(an),Ya=C({},an,{dataTransfer:0}),Ko=It(Ya),ps=C({},ri,{relatedTarget:0}),to=It(ps),qa=C({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),ms=It(qa),gs=C({},Li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yo=It(gs),vs=C({},Li,{data:0}),qo=It(vs),Ja={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},no={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ys(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=oi[e])?!!n[e]:!1}function ai(){return ys}var Gt=C({},ri,{key:function(e){if(e.key){var n=Ja[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=eo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?no[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ai,charCode:function(e){return e.type==="keypress"?eo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?eo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qa=It(Gt),Xa=C({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),el=It(Xa),Jo=C({},ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ai}),Qo=It(Jo),_s=C({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),ws=It(_s),tl=C({},an,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cs=It(tl),ln=[9,13,27,32],Un=P&&"CompositionEvent"in window,vr=null;P&&"documentMode"in document&&(vr=document.documentMode);var On=P&&"TextEvent"in window&&!vr,nl=P&&(!Un||vr&&8<vr&&11>=vr),li=" ",il=!1;function Ni(e,n){switch(e){case"keyup":return ln.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nn=!1;function xs(e,n){switch(e){case"compositionend":return Xo(n);case"keypress":return n.which!==32?null:(il=!0,li);case"textInput":return e=n.data,e===li&&il?null:e;default:return null}}function Zn(e,n){if(Nn)return e==="compositionend"||!Un&&Ni(e,n)?(e=Wo(),jn=jt=Fn=null,Nn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return nl&&n.locale!=="ko"?null:n.data;default:return null}}var io={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!io[e.type]:n==="textarea"}function ro(e,n,r,l){Ba(l),n=a(n,"onChange"),0<n.length&&(r=new Ho("onChange","change",null,r,l),e.push({event:r,listeners:n}))}var yr=null,Ut=null;function Ss(e){sa(e,0)}function zn(e){var n=hi(e);if(it(n))return e}function bs(e,n){if(e==="change")return n}var gn=!1;if(P){var zi;if(P){var oo="oninput"in document;if(!oo){var ao=document.createElement("div");ao.setAttribute("oninput","return;"),oo=typeof ao.oninput=="function"}zi=oo}else zi=!1;gn=zi&&(!document.documentMode||9<document.documentMode)}function _r(){yr&&(yr.detachEvent("onpropertychange",lo),Ut=yr=null)}function lo(e){if(e.propertyName==="value"&&zn(Ut)){var n=[];ro(n,Ut,e,Io(e)),Ur(Ss,n)}}function so(e,n,r){e==="focusin"?(_r(),yr=n,Ut=r,yr.attachEvent("onpropertychange",lo)):e==="focusout"&&_r()}function Ii(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zn(Ut)}function uo(e,n){if(e==="click")return zn(n)}function ea(e,n){if(e==="input"||e==="change")return zn(n)}function ol(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var sn=typeof Object.is=="function"?Object.is:ol;function $n(e,n){if(sn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var u=r[l];if(!N.call(n,u)||!sn(e[u],n[u]))return!1}return!0}function al(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ta(e,n){var r=al(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=n&&l>=n)return{node:r,offset:n-e};e=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=al(r)}}function ll(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ll(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function na(){for(var e=window,n=Se();n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Se(e.document)}return n}function ia(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function vn(e){var n=na(),r=e.focusedElem,l=e.selectionRange;if(n!==r&&r&&r.ownerDocument&&ll(r.ownerDocument.documentElement,r)){if(l!==null&&ia(r)){if(n=l.start,e=l.end,e===void 0&&(e=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(e,r.value.length);else if(e=(n=r.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var u=r.textContent.length,c=Math.min(l.start,u);l=l.end===void 0?c:Math.min(l.end,u),!e.extend&&c>l&&(u=l,l=c,c=u),u=ta(r,c);var g=ta(r,l);u&&g&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(n=n.createRange(),n.setStart(u.node,u.offset),e.removeAllRanges(),c>l?(e.addRange(n),e.extend(g.node,g.offset)):(n.setEnd(g.node,g.offset),e.addRange(n)))}}for(n=[],e=r;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)e=n[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var co=P&&"documentMode"in document&&11>=document.documentMode,Mi=null,Ai=null,wr=null,ho=!1;function sl(e,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ho||Mi==null||Mi!==Se(l)||(l=Mi,"selectionStart"in l&&ia(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),wr&&$n(wr,l)||(wr=l,l=a(Ai,"onSelect"),0<l.length&&(n=new Ho("onSelect","select",null,n,r),e.push({event:n,listeners:l}),n.target=Mi)))}function Wn(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var Bi={animationend:Wn("Animation","AnimationEnd"),animationiteration:Wn("Animation","AnimationIteration"),animationstart:Wn("Animation","AnimationStart"),transitionend:Wn("Transition","TransitionEnd")},Hn={},ra={};P&&(ra=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function Cr(e){if(Hn[e])return Hn[e];if(!Bi[e])return e;var n=Bi[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in ra)return Hn[e]=n[r];return e}var ul=Cr("animationend"),yn=Cr("animationiteration"),oa=Cr("animationstart"),aa=Cr("transitionend"),Di=new Map,cl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function un(e,n){Di.set(e,n),I(n,[e])}for(var si=0;si<cl.length;si++){var fo=cl[si],dl=fo.toLowerCase(),ks=fo[0].toUpperCase()+fo.slice(1);un(dl,"on"+ks)}un(ul,"onAnimationEnd"),un(yn,"onAnimationIteration"),un(oa,"onAnimationStart"),un("dblclick","onDoubleClick"),un("focusin","onFocus"),un("focusout","onBlur"),un(aa,"onTransitionEnd"),O("onMouseEnter",["mouseout","mouseover"]),O("onMouseLeave",["mouseout","mouseover"]),O("onPointerEnter",["pointerout","pointerover"]),O("onPointerLeave",["pointerout","pointerover"]),I("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),I("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),I("onBeforeInput",["compositionend","keypress","textInput","paste"]),I("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),I("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),I("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hl=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ri));function la(e,n,r){var l=e.type||"unknown-event";e.currentTarget=r,Bo(l,n,void 0,e),e.currentTarget=null}function sa(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],u=l.event;l=l.listeners;e:{var c=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],B=E.instance,K=E.currentTarget;if(E=E.listener,B!==c&&u.isPropagationStopped())break e;la(u,E,K),c=B}else for(g=0;g<l.length;g++){if(E=l[g],B=E.instance,K=E.currentTarget,E=E.listener,B!==c&&u.isPropagationStopped())break e;la(u,E,K),c=B}}}if(sr)throw e=Zr,sr=!1,Zr=null,e}function at(e,n){var r=n[Zi];r===void 0&&(r=n[Zi]=new Set);var l=e+"__bubble";r.has(l)||(fl(n,e,2,!1),r.add(l))}function ua(e,n,r){var l=0;n&&(l|=4),fl(r,e,l,n)}var xr="_reactListening"+Math.random().toString(36).slice(2);function Fi(e){if(!e[xr]){e[xr]=!0,y.forEach(function(r){r!=="selectionchange"&&(hl.has(r)||ua(r,!1,e),ua(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[xr]||(n[xr]=!0,ua("selectionchange",!1,n))}}function fl(e,n,r,l){switch(Qe(n)){case 1:var u=hs;break;case 4:u=Ga;break;default:u=gr}r=u.bind(null,n,r,e),u=void 0,!Ao||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(n,r,{capture:!0,passive:u}):e.addEventListener(n,r,!0):u!==void 0?e.addEventListener(n,r,{passive:u}):e.addEventListener(n,r,!1)}function t(e,n,r,l,u){var c=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===u||E.nodeType===8&&E.parentNode===u)break;if(g===4)for(g=l.return;g!==null;){var B=g.tag;if((B===3||B===4)&&(B=g.stateNode.containerInfo,B===u||B.nodeType===8&&B.parentNode===u))return;g=g.return}for(;E!==null;){if(g=ci(E),g===null)return;if(B=g.tag,B===5||B===6){l=c=g;continue e}E=E.parentNode}}l=l.return}Ur(function(){var K=c,ce=Io(r),fe=[];e:{var ue=Di.get(e);if(ue!==void 0){var Le=Ho,ze=e;switch(e){case"keypress":if(eo(r)===0)break e;case"keydown":case"keyup":Le=Qa;break;case"focusin":ze="focus",Le=to;break;case"focusout":ze="blur",Le=to;break;case"beforeblur":case"afterblur":Le=to;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Le=Go;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Le=Ko;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Le=Qo;break;case ul:case yn:case oa:Le=ms;break;case aa:Le=ws;break;case"scroll":Le=fs;break;case"wheel":Le=Cs;break;case"copy":case"cut":case"paste":Le=Yo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Le=el}var Me=(n&4)!==0,yt=!Me&&e==="scroll",W=Me?ue!==null?ue+"Capture":null:ue;Me=[];for(var R=K,H;R!==null;){H=R;var ve=H.stateNode;if(H.tag===5&&ve!==null&&(H=ve,W!==null&&(ve=ar(R,W),ve!=null&&Me.push(i(R,ve,H)))),yt)break;R=R.return}0<Me.length&&(ue=new Le(ue,ze,null,r,ce),fe.push({event:ue,listeners:Me}))}}if((n&7)===0){e:{if(ue=e==="mouseover"||e==="pointerover",Le=e==="mouseout"||e==="pointerout",ue&&r!==zo&&(ze=r.relatedTarget||r.fromElement)&&(ci(ze)||ze[nt]))break e;if((Le||ue)&&(ue=ce.window===ce?ce:(ue=ce.ownerDocument)?ue.defaultView||ue.parentWindow:window,Le?(ze=r.relatedTarget||r.toElement,Le=K,ze=ze?ci(ze):null,ze!==null&&(yt=Rn(ze),ze!==yt||ze.tag!==5&&ze.tag!==6)&&(ze=null)):(Le=null,ze=K),Le!==ze)){if(Me=Go,ve="onMouseLeave",W="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(Me=el,ve="onPointerLeave",W="onPointerEnter",R="pointer"),yt=Le==null?ue:hi(Le),H=ze==null?ue:hi(ze),ue=new Me(ve,R+"leave",Le,r,ce),ue.target=yt,ue.relatedTarget=H,ve=null,ci(ce)===K&&(Me=new Me(W,R+"enter",ze,r,ce),Me.target=H,Me.relatedTarget=yt,ve=Me),yt=ve,Le&&ze)t:{for(Me=Le,W=ze,R=0,H=Me;H;H=s(H))R++;for(H=0,ve=W;ve;ve=s(ve))H++;for(;0<R-H;)Me=s(Me),R--;for(;0<H-R;)W=s(W),H--;for(;R--;){if(Me===W||W!==null&&Me===W.alternate)break t;Me=s(Me),W=s(W)}Me=null}else Me=null;Le!==null&&h(fe,ue,Le,Me,!1),ze!==null&&yt!==null&&h(fe,yt,ze,Me,!0)}}e:{if(ue=K?hi(K):window,Le=ue.nodeName&&ue.nodeName.toLowerCase(),Le==="select"||Le==="input"&&ue.type==="file")var De=bs;else if(rl(ue))if(gn)De=ea;else{De=Ii;var Ze=so}else(Le=ue.nodeName)&&Le.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(De=uo);if(De&&(De=De(e,K))){ro(fe,De,r,ce);break e}Ze&&Ze(e,ue,K),e==="focusout"&&(Ze=ue._wrapperState)&&Ze.controlled&&ue.type==="number"&&be(ue,"number",ue.value)}switch(Ze=K?hi(K):window,e){case"focusin":(rl(Ze)||Ze.contentEditable==="true")&&(Mi=Ze,Ai=K,wr=null);break;case"focusout":wr=Ai=Mi=null;break;case"mousedown":ho=!0;break;case"contextmenu":case"mouseup":case"dragend":ho=!1,sl(fe,r,ce);break;case"selectionchange":if(co)break;case"keydown":case"keyup":sl(fe,r,ce)}var $e;if(Un)e:{switch(e){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Nn?Ni(e,r)&&(Ve="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ve="onCompositionStart");Ve&&(nl&&r.locale!=="ko"&&(Nn||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Nn&&($e=Wo()):(Fn=ce,jt="value"in Fn?Fn.value:Fn.textContent,Nn=!0)),Ze=a(K,Ve),0<Ze.length&&(Ve=new qo(Ve,e,null,r,ce),fe.push({event:Ve,listeners:Ze}),$e?Ve.data=$e:($e=Xo(r),$e!==null&&(Ve.data=$e)))),($e=On?xs(e,r):Zn(e,r))&&(K=a(K,"onBeforeInput"),0<K.length&&(ce=new qo("onBeforeInput","beforeinput",null,r,ce),fe.push({event:ce,listeners:K}),ce.data=$e))}sa(fe,n)})}function i(e,n,r){return{instance:e,listener:n,currentTarget:r}}function a(e,n){for(var r=n+"Capture",l=[];e!==null;){var u=e,c=u.stateNode;u.tag===5&&c!==null&&(u=c,c=ar(e,r),c!=null&&l.unshift(i(e,c,u)),c=ar(e,n),c!=null&&l.push(i(e,c,u))),e=e.return}return l}function s(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function h(e,n,r,l,u){for(var c=n._reactName,g=[];r!==null&&r!==l;){var E=r,B=E.alternate,K=E.stateNode;if(B!==null&&B===l)break;E.tag===5&&K!==null&&(E=K,u?(B=ar(r,c),B!=null&&g.unshift(i(r,B,E))):u||(B=ar(r,c),B!=null&&g.push(i(r,B,E)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var v=/\r\n?/g,M=/\u0000|\uFFFD/g;function $(e){return(typeof e=="string"?e:""+e).replace(v,`
`).replace(M,"")}function G(e,n,r){if(n=$(n),$(e)!==n&&r)throw Error(f(425))}function le(){}var Ee=null,Ue=null;function qe(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var St=typeof setTimeout=="function"?setTimeout:void 0,_t=typeof clearTimeout=="function"?clearTimeout:void 0,Zt=typeof Promise=="function"?Promise:void 0,Mt=typeof queueMicrotask=="function"?queueMicrotask:typeof Zt<"u"?function(e){return Zt.resolve(null).then(e).catch(ji)}:St;function ji(e){setTimeout(function(){throw e})}function ca(e,n){var r=n,l=0;do{var u=r.nextSibling;if(e.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(l===0){e.removeChild(u),on(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=u}while(r);on(n)}function Vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function pl(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}var ui=Math.random().toString(36).slice(2),_n="__reactFiber$"+ui,Ui="__reactProps$"+ui,nt="__reactContainer$"+ui,Zi="__reactEvents$"+ui,Ps="__reactListeners$"+ui,Ts="__reactHandles$"+ui;function ci(e){var n=e[_n];if(n)return n;for(var r=e.parentNode;r;){if(n=r[nt]||r[_n]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=pl(e);e!==null;){if(r=e[_n])return r;e=pl(e)}return n}e=r,r=e.parentNode}return null}function di(e){return e=e[_n]||e[nt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(f(33))}function po(e){return e[Ui]||null}var Es=[],mo=-1;function $i(e){return{current:e}}function ct(e){0>mo||(e.current=Es[mo],Es[mo]=null,mo--)}function st(e,n){mo++,Es[mo]=e.current,e.current=n}var Wi={},At=$i(Wi),Kt=$i(!1),Sr=Wi;function go(e,n){var r=e.type.contextTypes;if(!r)return Wi;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var u={},c;for(c in r)u[c]=n[c];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=u),u}function Yt(e){return e=e.childContextTypes,e!=null}function ml(){ct(Kt),ct(At)}function Ju(e,n,r){if(At.current!==Wi)throw Error(f(168));st(At,n),st(Kt,r)}function Qu(e,n,r){var l=e.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return r;l=l.getChildContext();for(var u in l)if(!(u in n))throw Error(f(108,me(e)||"Unknown",u));return C({},r,l)}function gl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wi,Sr=At.current,st(At,e),st(Kt,Kt.current),!0}function Xu(e,n,r){var l=e.stateNode;if(!l)throw Error(f(169));r?(e=Qu(e,n,Sr),l.__reactInternalMemoizedMergedChildContext=e,ct(Kt),ct(At),st(At,e)):ct(Kt),st(Kt,r)}var fi=null,vl=!1,Ls=!1;function ec(e){fi===null?fi=[e]:fi.push(e)}function _h(e){vl=!0,ec(e)}function Hi(){if(!Ls&&fi!==null){Ls=!0;var e=0,n=Xe;try{var r=fi;for(Xe=1;e<r.length;e++){var l=r[e];do l=l(!0);while(l!==null)}fi=null,vl=!1}catch(u){throw fi!==null&&(fi=fi.slice(e+1)),Wa(Fo,Hi),u}finally{Xe=n,Ls=!1}}return null}var vo=[],yo=0,yl=null,_l=0,wn=[],Cn=0,br=null,pi=1,mi="";function kr(e,n){vo[yo++]=_l,vo[yo++]=yl,yl=e,_l=n}function tc(e,n,r){wn[Cn++]=pi,wn[Cn++]=mi,wn[Cn++]=br,br=e;var l=pi;e=mi;var u=32-Ye(l)-1;l&=~(1<<u),r+=1;var c=32-Ye(n)+u;if(30<c){var g=u-u%5;c=(l&(1<<g)-1).toString(32),l>>=g,u-=g,pi=1<<32-Ye(n)+u|r<<u|l,mi=c+e}else pi=1<<c|r<<u|l,mi=e}function Os(e){e.return!==null&&(kr(e,1),tc(e,1,0))}function Ns(e){for(;e===yl;)yl=vo[--yo],vo[yo]=null,_l=vo[--yo],vo[yo]=null;for(;e===br;)br=wn[--Cn],wn[Cn]=null,mi=wn[--Cn],wn[Cn]=null,pi=wn[--Cn],wn[Cn]=null}var cn=null,dn=null,dt=!1,In=null;function nc(e,n){var r=kn(5,null,null,0);r.elementType="DELETED",r.stateNode=n,r.return=e,n=e.deletions,n===null?(e.deletions=[r],e.flags|=16):n.push(r)}function ic(e,n){switch(e.tag){case 5:var r=e.type;return n=n.nodeType!==1||r.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,cn=e,dn=Vn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,cn=e,dn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(r=br!==null?{id:pi,overflow:mi}:null,e.memoizedState={dehydrated:n,treeContext:r,retryLane:1073741824},r=kn(18,null,null,0),r.stateNode=n,r.return=e,e.child=r,cn=e,dn=null,!0):!1;default:return!1}}function zs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Is(e){if(dt){var n=dn;if(n){var r=n;if(!ic(e,n)){if(zs(e))throw Error(f(418));n=Vn(r.nextSibling);var l=cn;n&&ic(e,n)?nc(l,r):(e.flags=e.flags&-4097|2,dt=!1,cn=e)}}else{if(zs(e))throw Error(f(418));e.flags=e.flags&-4097|2,dt=!1,cn=e}}}function rc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;cn=e}function wl(e){if(e!==cn)return!1;if(!dt)return rc(e),dt=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!qe(e.type,e.memoizedProps)),n&&(n=dn)){if(zs(e))throw oc(),Error(f(418));for(;n;)nc(e,n),n=Vn(n.nextSibling)}if(rc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(f(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(n===0){dn=Vn(e.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++}e=e.nextSibling}dn=null}}else dn=cn?Vn(e.stateNode.nextSibling):null;return!0}function oc(){for(var e=dn;e;)e=Vn(e.nextSibling)}function _o(){dn=cn=null,dt=!1}function Ms(e){In===null?In=[e]:In.push(e)}var wh=se.ReactCurrentBatchConfig;function da(e,n,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(f(309));var l=r.stateNode}if(!l)throw Error(f(147,e));var u=l,c=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===c?n.ref:(n=function(g){var E=u.refs;g===null?delete E[c]:E[c]=g},n._stringRef=c,n)}if(typeof e!="string")throw Error(f(284));if(!r._owner)throw Error(f(290,e))}return e}function Cl(e,n){throw e=Object.prototype.toString.call(n),Error(f(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function ac(e){var n=e._init;return n(e._payload)}function lc(e){function n(W,R){if(e){var H=W.deletions;H===null?(W.deletions=[R],W.flags|=16):H.push(R)}}function r(W,R){if(!e)return null;for(;R!==null;)n(W,R),R=R.sibling;return null}function l(W,R){for(W=new Map;R!==null;)R.key!==null?W.set(R.key,R):W.set(R.index,R),R=R.sibling;return W}function u(W,R){return W=Xi(W,R),W.index=0,W.sibling=null,W}function c(W,R,H){return W.index=H,e?(H=W.alternate,H!==null?(H=H.index,H<R?(W.flags|=2,R):H):(W.flags|=2,R)):(W.flags|=1048576,R)}function g(W){return e&&W.alternate===null&&(W.flags|=2),W}function E(W,R,H,ve){return R===null||R.tag!==6?(R=ku(H,W.mode,ve),R.return=W,R):(R=u(R,H),R.return=W,R)}function B(W,R,H,ve){var De=H.type;return De===Oe?ce(W,R,H.props.children,ve,H.key):R!==null&&(R.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===te&&ac(De)===R.type)?(ve=u(R,H.props),ve.ref=da(W,R,H),ve.return=W,ve):(ve=Hl(H.type,H.key,H.props,null,W.mode,ve),ve.ref=da(W,R,H),ve.return=W,ve)}function K(W,R,H,ve){return R===null||R.tag!==4||R.stateNode.containerInfo!==H.containerInfo||R.stateNode.implementation!==H.implementation?(R=Pu(H,W.mode,ve),R.return=W,R):(R=u(R,H.children||[]),R.return=W,R)}function ce(W,R,H,ve,De){return R===null||R.tag!==7?(R=Ir(H,W.mode,ve,De),R.return=W,R):(R=u(R,H),R.return=W,R)}function fe(W,R,H){if(typeof R=="string"&&R!==""||typeof R=="number")return R=ku(""+R,W.mode,H),R.return=W,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Ce:return H=Hl(R.type,R.key,R.props,null,W.mode,H),H.ref=da(W,null,R),H.return=W,H;case Be:return R=Pu(R,W.mode,H),R.return=W,R;case te:var ve=R._init;return fe(W,ve(R._payload),H)}if(U(R)||Q(R))return R=Ir(R,W.mode,H,null),R.return=W,R;Cl(W,R)}return null}function ue(W,R,H,ve){var De=R!==null?R.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return De!==null?null:E(W,R,""+H,ve);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case Ce:return H.key===De?B(W,R,H,ve):null;case Be:return H.key===De?K(W,R,H,ve):null;case te:return De=H._init,ue(W,R,De(H._payload),ve)}if(U(H)||Q(H))return De!==null?null:ce(W,R,H,ve,null);Cl(W,H)}return null}function Le(W,R,H,ve,De){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return W=W.get(H)||null,E(R,W,""+ve,De);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case Ce:return W=W.get(ve.key===null?H:ve.key)||null,B(R,W,ve,De);case Be:return W=W.get(ve.key===null?H:ve.key)||null,K(R,W,ve,De);case te:var Ze=ve._init;return Le(W,R,H,Ze(ve._payload),De)}if(U(ve)||Q(ve))return W=W.get(H)||null,ce(R,W,ve,De,null);Cl(R,ve)}return null}function ze(W,R,H,ve){for(var De=null,Ze=null,$e=R,Ve=R=0,Et=null;$e!==null&&Ve<H.length;Ve++){$e.index>Ve?(Et=$e,$e=null):Et=$e.sibling;var tt=ue(W,$e,H[Ve],ve);if(tt===null){$e===null&&($e=Et);break}e&&$e&&tt.alternate===null&&n(W,$e),R=c(tt,R,Ve),Ze===null?De=tt:Ze.sibling=tt,Ze=tt,$e=Et}if(Ve===H.length)return r(W,$e),dt&&kr(W,Ve),De;if($e===null){for(;Ve<H.length;Ve++)$e=fe(W,H[Ve],ve),$e!==null&&(R=c($e,R,Ve),Ze===null?De=$e:Ze.sibling=$e,Ze=$e);return dt&&kr(W,Ve),De}for($e=l(W,$e);Ve<H.length;Ve++)Et=Le($e,W,Ve,H[Ve],ve),Et!==null&&(e&&Et.alternate!==null&&$e.delete(Et.key===null?Ve:Et.key),R=c(Et,R,Ve),Ze===null?De=Et:Ze.sibling=Et,Ze=Et);return e&&$e.forEach(function(er){return n(W,er)}),dt&&kr(W,Ve),De}function Me(W,R,H,ve){var De=Q(H);if(typeof De!="function")throw Error(f(150));if(H=De.call(H),H==null)throw Error(f(151));for(var Ze=De=null,$e=R,Ve=R=0,Et=null,tt=H.next();$e!==null&&!tt.done;Ve++,tt=H.next()){$e.index>Ve?(Et=$e,$e=null):Et=$e.sibling;var er=ue(W,$e,tt.value,ve);if(er===null){$e===null&&($e=Et);break}e&&$e&&er.alternate===null&&n(W,$e),R=c(er,R,Ve),Ze===null?De=er:Ze.sibling=er,Ze=er,$e=Et}if(tt.done)return r(W,$e),dt&&kr(W,Ve),De;if($e===null){for(;!tt.done;Ve++,tt=H.next())tt=fe(W,tt.value,ve),tt!==null&&(R=c(tt,R,Ve),Ze===null?De=tt:Ze.sibling=tt,Ze=tt);return dt&&kr(W,Ve),De}for($e=l(W,$e);!tt.done;Ve++,tt=H.next())tt=Le($e,W,Ve,tt.value,ve),tt!==null&&(e&&tt.alternate!==null&&$e.delete(tt.key===null?Ve:tt.key),R=c(tt,R,Ve),Ze===null?De=tt:Ze.sibling=tt,Ze=tt);return e&&$e.forEach(function(Xh){return n(W,Xh)}),dt&&kr(W,Ve),De}function yt(W,R,H,ve){if(typeof H=="object"&&H!==null&&H.type===Oe&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case Ce:e:{for(var De=H.key,Ze=R;Ze!==null;){if(Ze.key===De){if(De=H.type,De===Oe){if(Ze.tag===7){r(W,Ze.sibling),R=u(Ze,H.props.children),R.return=W,W=R;break e}}else if(Ze.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===te&&ac(De)===Ze.type){r(W,Ze.sibling),R=u(Ze,H.props),R.ref=da(W,Ze,H),R.return=W,W=R;break e}r(W,Ze);break}else n(W,Ze);Ze=Ze.sibling}H.type===Oe?(R=Ir(H.props.children,W.mode,ve,H.key),R.return=W,W=R):(ve=Hl(H.type,H.key,H.props,null,W.mode,ve),ve.ref=da(W,R,H),ve.return=W,W=ve)}return g(W);case Be:e:{for(Ze=H.key;R!==null;){if(R.key===Ze)if(R.tag===4&&R.stateNode.containerInfo===H.containerInfo&&R.stateNode.implementation===H.implementation){r(W,R.sibling),R=u(R,H.children||[]),R.return=W,W=R;break e}else{r(W,R);break}else n(W,R);R=R.sibling}R=Pu(H,W.mode,ve),R.return=W,W=R}return g(W);case te:return Ze=H._init,yt(W,R,Ze(H._payload),ve)}if(U(H))return ze(W,R,H,ve);if(Q(H))return Me(W,R,H,ve);Cl(W,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,R!==null&&R.tag===6?(r(W,R.sibling),R=u(R,H),R.return=W,W=R):(r(W,R),R=ku(H,W.mode,ve),R.return=W,W=R),g(W)):r(W,R)}return yt}var wo=lc(!0),sc=lc(!1),xl=$i(null),Sl=null,Co=null,As=null;function Bs(){As=Co=Sl=null}function Ds(e){var n=xl.current;ct(xl),e._currentValue=n}function Rs(e,n,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===r)break;e=e.return}}function xo(e,n){Sl=e,As=Co=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(qt=!0),e.firstContext=null)}function xn(e){var n=e._currentValue;if(As!==e)if(e={context:e,memoizedValue:n,next:null},Co===null){if(Sl===null)throw Error(f(308));Co=e,Sl.dependencies={lanes:0,firstContext:e}}else Co=Co.next=e;return n}var Pr=null;function Fs(e){Pr===null?Pr=[e]:Pr.push(e)}function uc(e,n,r,l){var u=n.interleaved;return u===null?(r.next=r,Fs(n)):(r.next=u.next,u.next=r),n.interleaved=r,gi(e,l)}function gi(e,n){e.lanes|=n;var r=e.alternate;for(r!==null&&(r.lanes|=n),r=e,e=e.return;e!==null;)e.childLanes|=n,r=e.alternate,r!==null&&(r.childLanes|=n),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Vi=!1;function js(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vi(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Gi(e,n,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(et&2)!==0){var u=l.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),l.pending=n,gi(e,r)}return u=l.interleaved,u===null?(n.next=n,Fs(l)):(n.next=u.next,u.next=n),l.interleaved=n,gi(e,r)}function bl(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194240)!==0)){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,En(e,r)}}function dc(e,n){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var u=null,c=null;if(r=r.firstBaseUpdate,r!==null){do{var g={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};c===null?u=c=g:c=c.next=g,r=r.next}while(r!==null);c===null?u=c=n:c=c.next=n}else u=c=n;r={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:c,shared:l.shared,effects:l.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}function kl(e,n,r,l){var u=e.updateQueue;Vi=!1;var c=u.firstBaseUpdate,g=u.lastBaseUpdate,E=u.shared.pending;if(E!==null){u.shared.pending=null;var B=E,K=B.next;B.next=null,g===null?c=K:g.next=K,g=B;var ce=e.alternate;ce!==null&&(ce=ce.updateQueue,E=ce.lastBaseUpdate,E!==g&&(E===null?ce.firstBaseUpdate=K:E.next=K,ce.lastBaseUpdate=B))}if(c!==null){var fe=u.baseState;g=0,ce=K=B=null,E=c;do{var ue=E.lane,Le=E.eventTime;if((l&ue)===ue){ce!==null&&(ce=ce.next={eventTime:Le,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var ze=e,Me=E;switch(ue=n,Le=r,Me.tag){case 1:if(ze=Me.payload,typeof ze=="function"){fe=ze.call(Le,fe,ue);break e}fe=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Me.payload,ue=typeof ze=="function"?ze.call(Le,fe,ue):ze,ue==null)break e;fe=C({},fe,ue);break e;case 2:Vi=!0}}E.callback!==null&&E.lane!==0&&(e.flags|=64,ue=u.effects,ue===null?u.effects=[E]:ue.push(E))}else Le={eventTime:Le,lane:ue,tag:E.tag,payload:E.payload,callback:E.callback,next:null},ce===null?(K=ce=Le,B=fe):ce=ce.next=Le,g|=ue;if(E=E.next,E===null){if(E=u.shared.pending,E===null)break;ue=E,E=ue.next,ue.next=null,u.lastBaseUpdate=ue,u.shared.pending=null}}while(!0);if(ce===null&&(B=fe),u.baseState=B,u.firstBaseUpdate=K,u.lastBaseUpdate=ce,n=u.shared.interleaved,n!==null){u=n;do g|=u.lane,u=u.next;while(u!==n)}else c===null&&(u.shared.lanes=0);Lr|=g,e.lanes=g,e.memoizedState=fe}}function hc(e,n,r){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var l=e[n],u=l.callback;if(u!==null){if(l.callback=null,l=r,typeof u!="function")throw Error(f(191,u));u.call(l)}}}var ha={},Gn=$i(ha),fa=$i(ha),pa=$i(ha);function Tr(e){if(e===ha)throw Error(f(174));return e}function Us(e,n){switch(st(pa,n),st(fa,e),st(Gn,ha),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Rr(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Rr(n,e)}ct(Gn),st(Gn,n)}function So(){ct(Gn),ct(fa),ct(pa)}function fc(e){Tr(pa.current);var n=Tr(Gn.current),r=Rr(n,e.type);n!==r&&(st(fa,e),st(Gn,r))}function Zs(e){fa.current===e&&(ct(Gn),ct(fa))}var pt=$i(0);function Pl(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var $s=[];function Ws(){for(var e=0;e<$s.length;e++)$s[e]._workInProgressVersionPrimary=null;$s.length=0}var Tl=se.ReactCurrentDispatcher,Hs=se.ReactCurrentBatchConfig,Er=0,mt=null,bt=null,Pt=null,El=!1,ma=!1,ga=0,Ch=0;function Bt(){throw Error(f(321))}function Vs(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!sn(e[r],n[r]))return!1;return!0}function Gs(e,n,r,l,u,c){if(Er=c,mt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Tl.current=e===null||e.memoizedState===null?kh:Ph,e=r(l,u),ma){c=0;do{if(ma=!1,ga=0,25<=c)throw Error(f(301));c+=1,Pt=bt=null,n.updateQueue=null,Tl.current=Th,e=r(l,u)}while(ma)}if(Tl.current=Nl,n=bt!==null&&bt.next!==null,Er=0,Pt=bt=mt=null,El=!1,n)throw Error(f(300));return e}function Ks(){var e=ga!==0;return ga=0,e}function Kn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?mt.memoizedState=Pt=e:Pt=Pt.next=e,Pt}function Sn(){if(bt===null){var e=mt.alternate;e=e!==null?e.memoizedState:null}else e=bt.next;var n=Pt===null?mt.memoizedState:Pt.next;if(n!==null)Pt=n,bt=e;else{if(e===null)throw Error(f(310));bt=e,e={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Pt===null?mt.memoizedState=Pt=e:Pt=Pt.next=e}return Pt}function va(e,n){return typeof n=="function"?n(e):n}function Ys(e){var n=Sn(),r=n.queue;if(r===null)throw Error(f(311));r.lastRenderedReducer=e;var l=bt,u=l.baseQueue,c=r.pending;if(c!==null){if(u!==null){var g=u.next;u.next=c.next,c.next=g}l.baseQueue=u=c,r.pending=null}if(u!==null){c=u.next,l=l.baseState;var E=g=null,B=null,K=c;do{var ce=K.lane;if((Er&ce)===ce)B!==null&&(B=B.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),l=K.hasEagerState?K.eagerState:e(l,K.action);else{var fe={lane:ce,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};B===null?(E=B=fe,g=l):B=B.next=fe,mt.lanes|=ce,Lr|=ce}K=K.next}while(K!==null&&K!==c);B===null?g=l:B.next=E,sn(l,n.memoizedState)||(qt=!0),n.memoizedState=l,n.baseState=g,n.baseQueue=B,r.lastRenderedState=l}if(e=r.interleaved,e!==null){u=e;do c=u.lane,mt.lanes|=c,Lr|=c,u=u.next;while(u!==e)}else u===null&&(r.lanes=0);return[n.memoizedState,r.dispatch]}function qs(e){var n=Sn(),r=n.queue;if(r===null)throw Error(f(311));r.lastRenderedReducer=e;var l=r.dispatch,u=r.pending,c=n.memoizedState;if(u!==null){r.pending=null;var g=u=u.next;do c=e(c,g.action),g=g.next;while(g!==u);sn(c,n.memoizedState)||(qt=!0),n.memoizedState=c,n.baseQueue===null&&(n.baseState=c),r.lastRenderedState=c}return[c,l]}function pc(){}function mc(e,n){var r=mt,l=Sn(),u=n(),c=!sn(l.memoizedState,u);if(c&&(l.memoizedState=u,qt=!0),l=l.queue,Js(yc.bind(null,r,l,e),[e]),l.getSnapshot!==n||c||Pt!==null&&Pt.memoizedState.tag&1){if(r.flags|=2048,ya(9,vc.bind(null,r,l,u,n),void 0,null),Tt===null)throw Error(f(349));(Er&30)!==0||gc(r,n,u)}return u}function gc(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=mt.updateQueue,n===null?(n={lastEffect:null,stores:null},mt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function vc(e,n,r,l){n.value=r,n.getSnapshot=l,_c(n)&&wc(e)}function yc(e,n,r){return r(function(){_c(n)&&wc(e)})}function _c(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!sn(e,r)}catch{return!0}}function wc(e){var n=gi(e,1);n!==null&&Dn(n,e,1,-1)}function Cc(e){var n=Kn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:e},n.queue=e,e=e.dispatch=bh.bind(null,mt,e),[n.memoizedState,e]}function ya(e,n,r,l){return e={tag:e,create:n,destroy:r,deps:l,next:null},n=mt.updateQueue,n===null?(n={lastEffect:null,stores:null},mt.updateQueue=n,n.lastEffect=e.next=e):(r=n.lastEffect,r===null?n.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,n.lastEffect=e)),e}function xc(){return Sn().memoizedState}function Ll(e,n,r,l){var u=Kn();mt.flags|=e,u.memoizedState=ya(1|n,r,void 0,l===void 0?null:l)}function Ol(e,n,r,l){var u=Sn();l=l===void 0?null:l;var c=void 0;if(bt!==null){var g=bt.memoizedState;if(c=g.destroy,l!==null&&Vs(l,g.deps)){u.memoizedState=ya(n,r,c,l);return}}mt.flags|=e,u.memoizedState=ya(1|n,r,c,l)}function Sc(e,n){return Ll(8390656,8,e,n)}function Js(e,n){return Ol(2048,8,e,n)}function bc(e,n){return Ol(4,2,e,n)}function kc(e,n){return Ol(4,4,e,n)}function Pc(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Tc(e,n,r){return r=r!=null?r.concat([e]):null,Ol(4,4,Pc.bind(null,n,e),r)}function Qs(){}function Ec(e,n){var r=Sn();n=n===void 0?null:n;var l=r.memoizedState;return l!==null&&n!==null&&Vs(n,l[1])?l[0]:(r.memoizedState=[e,n],e)}function Lc(e,n){var r=Sn();n=n===void 0?null:n;var l=r.memoizedState;return l!==null&&n!==null&&Vs(n,l[1])?l[0]:(e=e(),r.memoizedState=[e,n],e)}function Oc(e,n,r){return(Er&21)===0?(e.baseState&&(e.baseState=!1,qt=!0),e.memoizedState=r):(sn(r,n)||(r=Va(),mt.lanes|=r,Lr|=r,e.baseState=!0),n)}function xh(e,n){var r=Xe;Xe=r!==0&&4>r?r:4,e(!0);var l=Hs.transition;Hs.transition={};try{e(!1),n()}finally{Xe=r,Hs.transition=l}}function Nc(){return Sn().memoizedState}function Sh(e,n,r){var l=Ji(e);if(r={lane:l,action:r,hasEagerState:!1,eagerState:null,next:null},zc(e))Ic(n,r);else if(r=uc(e,n,r,l),r!==null){var u=Wt();Dn(r,e,l,u),Mc(r,n,l)}}function bh(e,n,r){var l=Ji(e),u={lane:l,action:r,hasEagerState:!1,eagerState:null,next:null};if(zc(e))Ic(n,u);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=n.lastRenderedReducer,c!==null))try{var g=n.lastRenderedState,E=c(g,r);if(u.hasEagerState=!0,u.eagerState=E,sn(E,g)){var B=n.interleaved;B===null?(u.next=u,Fs(n)):(u.next=B.next,B.next=u),n.interleaved=u;return}}catch{}finally{}r=uc(e,n,u,l),r!==null&&(u=Wt(),Dn(r,e,l,u),Mc(r,n,l))}}function zc(e){var n=e.alternate;return e===mt||n!==null&&n===mt}function Ic(e,n){ma=El=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Mc(e,n,r){if((r&4194240)!==0){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,En(e,r)}}var Nl={readContext:xn,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},kh={readContext:xn,useCallback:function(e,n){return Kn().memoizedState=[e,n===void 0?null:n],e},useContext:xn,useEffect:Sc,useImperativeHandle:function(e,n,r){return r=r!=null?r.concat([e]):null,Ll(4194308,4,Pc.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Ll(4194308,4,e,n)},useInsertionEffect:function(e,n){return Ll(4,2,e,n)},useMemo:function(e,n){var r=Kn();return n=n===void 0?null:n,e=e(),r.memoizedState=[e,n],e},useReducer:function(e,n,r){var l=Kn();return n=r!==void 0?r(n):n,l.memoizedState=l.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=Sh.bind(null,mt,e),[l.memoizedState,e]},useRef:function(e){var n=Kn();return e={current:e},n.memoizedState=e},useState:Cc,useDebugValue:Qs,useDeferredValue:function(e){return Kn().memoizedState=e},useTransition:function(){var e=Cc(!1),n=e[0];return e=xh.bind(null,e[1]),Kn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,r){var l=mt,u=Kn();if(dt){if(r===void 0)throw Error(f(407));r=r()}else{if(r=n(),Tt===null)throw Error(f(349));(Er&30)!==0||gc(l,n,r)}u.memoizedState=r;var c={value:r,getSnapshot:n};return u.queue=c,Sc(yc.bind(null,l,c,e),[e]),l.flags|=2048,ya(9,vc.bind(null,l,c,r,n),void 0,null),r},useId:function(){var e=Kn(),n=Tt.identifierPrefix;if(dt){var r=mi,l=pi;r=(l&~(1<<32-Ye(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=ga++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=Ch++,n=":"+n+"r"+r.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Ph={readContext:xn,useCallback:Ec,useContext:xn,useEffect:Js,useImperativeHandle:Tc,useInsertionEffect:bc,useLayoutEffect:kc,useMemo:Lc,useReducer:Ys,useRef:xc,useState:function(){return Ys(va)},useDebugValue:Qs,useDeferredValue:function(e){var n=Sn();return Oc(n,bt.memoizedState,e)},useTransition:function(){var e=Ys(va)[0],n=Sn().memoizedState;return[e,n]},useMutableSource:pc,useSyncExternalStore:mc,useId:Nc,unstable_isNewReconciler:!1},Th={readContext:xn,useCallback:Ec,useContext:xn,useEffect:Js,useImperativeHandle:Tc,useInsertionEffect:bc,useLayoutEffect:kc,useMemo:Lc,useReducer:qs,useRef:xc,useState:function(){return qs(va)},useDebugValue:Qs,useDeferredValue:function(e){var n=Sn();return bt===null?n.memoizedState=e:Oc(n,bt.memoizedState,e)},useTransition:function(){var e=qs(va)[0],n=Sn().memoizedState;return[e,n]},useMutableSource:pc,useSyncExternalStore:mc,useId:Nc,unstable_isNewReconciler:!1};function Mn(e,n){if(e&&e.defaultProps){n=C({},n),e=e.defaultProps;for(var r in e)n[r]===void 0&&(n[r]=e[r]);return n}return n}function Xs(e,n,r,l){n=e.memoizedState,r=r(l,n),r=r==null?n:C({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var zl={isMounted:function(e){return(e=e._reactInternals)?Rn(e)===e:!1},enqueueSetState:function(e,n,r){e=e._reactInternals;var l=Wt(),u=Ji(e),c=vi(l,u);c.payload=n,r!=null&&(c.callback=r),n=Gi(e,c,u),n!==null&&(Dn(n,e,u,l),bl(n,e,u))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var l=Wt(),u=Ji(e),c=vi(l,u);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Gi(e,c,u),n!==null&&(Dn(n,e,u,l),bl(n,e,u))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Wt(),l=Ji(e),u=vi(r,l);u.tag=2,n!=null&&(u.callback=n),n=Gi(e,u,l),n!==null&&(Dn(n,e,l,r),bl(n,e,l))}};function Ac(e,n,r,l,u,c,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,c,g):n.prototype&&n.prototype.isPureReactComponent?!$n(r,l)||!$n(u,c):!0}function Bc(e,n,r){var l=!1,u=Wi,c=n.contextType;return typeof c=="object"&&c!==null?c=xn(c):(u=Yt(n)?Sr:At.current,l=n.contextTypes,c=(l=l!=null)?go(e,u):Wi),n=new n(r,c),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=zl,e.stateNode=n,n._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=c),n}function Dc(e,n,r,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==e&&zl.enqueueReplaceState(n,n.state,null)}function eu(e,n,r,l){var u=e.stateNode;u.props=r,u.state=e.memoizedState,u.refs={},js(e);var c=n.contextType;typeof c=="object"&&c!==null?u.context=xn(c):(c=Yt(n)?Sr:At.current,u.context=go(e,c)),u.state=e.memoizedState,c=n.getDerivedStateFromProps,typeof c=="function"&&(Xs(e,n,c,r),u.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(n=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),n!==u.state&&zl.enqueueReplaceState(u,u.state,null),kl(e,r,u,l),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function bo(e,n){try{var r="",l=n;do r+=_e(l),l=l.return;while(l);var u=r}catch(c){u=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:n,stack:u,digest:null}}function tu(e,n,r){return{value:e,source:null,stack:r??null,digest:n??null}}function nu(e,n){try{console.error(n.value)}catch(r){setTimeout(function(){throw r})}}var Eh=typeof WeakMap=="function"?WeakMap:Map;function Rc(e,n,r){r=vi(-1,r),r.tag=3,r.payload={element:null};var l=n.value;return r.callback=function(){Fl||(Fl=!0,vu=l),nu(e,n)},r}function Fc(e,n,r){r=vi(-1,r),r.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var u=n.value;r.payload=function(){return l(u)},r.callback=function(){nu(e,n)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(r.callback=function(){nu(e,n),typeof l!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var g=n.stack;this.componentDidCatch(n.value,{componentStack:g!==null?g:""})}),r}function jc(e,n,r){var l=e.pingCache;if(l===null){l=e.pingCache=new Eh;var u=new Set;l.set(n,u)}else u=l.get(n),u===void 0&&(u=new Set,l.set(n,u));u.has(r)||(u.add(r),e=Zh.bind(null,e,n,r),n.then(e,e))}function Uc(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Zc(e,n,r,l,u){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(n=vi(-1,1),n.tag=2,Gi(r,n,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var Lh=se.ReactCurrentOwner,qt=!1;function $t(e,n,r,l){n.child=e===null?sc(n,null,r,l):wo(n,e.child,r,l)}function $c(e,n,r,l,u){r=r.render;var c=n.ref;return xo(n,u),l=Gs(e,n,r,l,c,u),r=Ks(),e!==null&&!qt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,yi(e,n,u)):(dt&&r&&Os(n),n.flags|=1,$t(e,n,l,u),n.child)}function Wc(e,n,r,l,u){if(e===null){var c=r.type;return typeof c=="function"&&!bu(c)&&c.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(n.tag=15,n.type=c,Hc(e,n,c,l,u)):(e=Hl(r.type,null,l,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(c=e.child,(e.lanes&u)===0){var g=c.memoizedProps;if(r=r.compare,r=r!==null?r:$n,r(g,l)&&e.ref===n.ref)return yi(e,n,u)}return n.flags|=1,e=Xi(c,l),e.ref=n.ref,e.return=n,n.child=e}function Hc(e,n,r,l,u){if(e!==null){var c=e.memoizedProps;if($n(c,l)&&e.ref===n.ref)if(qt=!1,n.pendingProps=l=c,(e.lanes&u)!==0)(e.flags&131072)!==0&&(qt=!0);else return n.lanes=e.lanes,yi(e,n,u)}return iu(e,n,r,l,u)}function Vc(e,n,r){var l=n.pendingProps,u=l.children,c=e!==null?e.memoizedState:null;if(l.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(Po,hn),hn|=r;else{if((r&1073741824)===0)return e=c!==null?c.baseLanes|r:r,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,st(Po,hn),hn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=c!==null?c.baseLanes:r,st(Po,hn),hn|=l}else c!==null?(l=c.baseLanes|r,n.memoizedState=null):l=r,st(Po,hn),hn|=l;return $t(e,n,u,r),n.child}function Gc(e,n){var r=n.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(n.flags|=512,n.flags|=2097152)}function iu(e,n,r,l,u){var c=Yt(r)?Sr:At.current;return c=go(n,c),xo(n,u),r=Gs(e,n,r,l,c,u),l=Ks(),e!==null&&!qt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,yi(e,n,u)):(dt&&l&&Os(n),n.flags|=1,$t(e,n,r,u),n.child)}function Kc(e,n,r,l,u){if(Yt(r)){var c=!0;gl(n)}else c=!1;if(xo(n,u),n.stateNode===null)Ml(e,n),Bc(n,r,l),eu(n,r,l,u),l=!0;else if(e===null){var g=n.stateNode,E=n.memoizedProps;g.props=E;var B=g.context,K=r.contextType;typeof K=="object"&&K!==null?K=xn(K):(K=Yt(r)?Sr:At.current,K=go(n,K));var ce=r.getDerivedStateFromProps,fe=typeof ce=="function"||typeof g.getSnapshotBeforeUpdate=="function";fe||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==l||B!==K)&&Dc(n,g,l,K),Vi=!1;var ue=n.memoizedState;g.state=ue,kl(n,l,g,u),B=n.memoizedState,E!==l||ue!==B||Kt.current||Vi?(typeof ce=="function"&&(Xs(n,r,ce,l),B=n.memoizedState),(E=Vi||Ac(n,r,E,l,ue,B,K))?(fe||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),g.props=l,g.state=B,g.context=K,l=E):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{g=n.stateNode,cc(e,n),E=n.memoizedProps,K=n.type===n.elementType?E:Mn(n.type,E),g.props=K,fe=n.pendingProps,ue=g.context,B=r.contextType,typeof B=="object"&&B!==null?B=xn(B):(B=Yt(r)?Sr:At.current,B=go(n,B));var Le=r.getDerivedStateFromProps;(ce=typeof Le=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==fe||ue!==B)&&Dc(n,g,l,B),Vi=!1,ue=n.memoizedState,g.state=ue,kl(n,l,g,u);var ze=n.memoizedState;E!==fe||ue!==ze||Kt.current||Vi?(typeof Le=="function"&&(Xs(n,r,Le,l),ze=n.memoizedState),(K=Vi||Ac(n,r,K,l,ue,ze,B)||!1)?(ce||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(l,ze,B),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(l,ze,B)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===e.memoizedProps&&ue===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&ue===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=ze),g.props=l,g.state=ze,g.context=B,l=K):(typeof g.componentDidUpdate!="function"||E===e.memoizedProps&&ue===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&ue===e.memoizedState||(n.flags|=1024),l=!1)}return ru(e,n,r,l,c,u)}function ru(e,n,r,l,u,c){Gc(e,n);var g=(n.flags&128)!==0;if(!l&&!g)return u&&Xu(n,r,!1),yi(e,n,c);l=n.stateNode,Lh.current=n;var E=g&&typeof r.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,e!==null&&g?(n.child=wo(n,e.child,null,c),n.child=wo(n,null,E,c)):$t(e,n,E,c),n.memoizedState=l.state,u&&Xu(n,r,!0),n.child}function Yc(e){var n=e.stateNode;n.pendingContext?Ju(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Ju(e,n.context,!1),Us(e,n.containerInfo)}function qc(e,n,r,l,u){return _o(),Ms(u),n.flags|=256,$t(e,n,r,l),n.child}var ou={dehydrated:null,treeContext:null,retryLane:0};function au(e){return{baseLanes:e,cachePool:null,transitions:null}}function Jc(e,n,r){var l=n.pendingProps,u=pt.current,c=!1,g=(n.flags&128)!==0,E;if((E=g)||(E=e!==null&&e.memoizedState===null?!1:(u&2)!==0),E?(c=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),st(pt,u&1),e===null)return Is(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(g=l.children,e=l.fallback,c?(l=n.mode,c=n.child,g={mode:"hidden",children:g},(l&1)===0&&c!==null?(c.childLanes=0,c.pendingProps=g):c=Vl(g,l,0,null),e=Ir(e,l,r,null),c.return=n,e.return=n,c.sibling=e,n.child=c,n.child.memoizedState=au(r),n.memoizedState=ou,e):lu(n,g));if(u=e.memoizedState,u!==null&&(E=u.dehydrated,E!==null))return Oh(e,n,g,l,E,u,r);if(c){c=l.fallback,g=n.mode,u=e.child,E=u.sibling;var B={mode:"hidden",children:l.children};return(g&1)===0&&n.child!==u?(l=n.child,l.childLanes=0,l.pendingProps=B,n.deletions=null):(l=Xi(u,B),l.subtreeFlags=u.subtreeFlags&14680064),E!==null?c=Xi(E,c):(c=Ir(c,g,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,g=e.child.memoizedState,g=g===null?au(r):{baseLanes:g.baseLanes|r,cachePool:null,transitions:g.transitions},c.memoizedState=g,c.childLanes=e.childLanes&~r,n.memoizedState=ou,l}return c=e.child,e=c.sibling,l=Xi(c,{mode:"visible",children:l.children}),(n.mode&1)===0&&(l.lanes=r),l.return=n,l.sibling=null,e!==null&&(r=n.deletions,r===null?(n.deletions=[e],n.flags|=16):r.push(e)),n.child=l,n.memoizedState=null,l}function lu(e,n){return n=Vl({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Il(e,n,r,l){return l!==null&&Ms(l),wo(n,e.child,null,r),e=lu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Oh(e,n,r,l,u,c,g){if(r)return n.flags&256?(n.flags&=-257,l=tu(Error(f(422))),Il(e,n,g,l)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(c=l.fallback,u=n.mode,l=Vl({mode:"visible",children:l.children},u,0,null),c=Ir(c,u,g,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,(n.mode&1)!==0&&wo(n,e.child,null,g),n.child.memoizedState=au(g),n.memoizedState=ou,c);if((n.mode&1)===0)return Il(e,n,g,null);if(u.data==="$!"){if(l=u.nextSibling&&u.nextSibling.dataset,l)var E=l.dgst;return l=E,c=Error(f(419)),l=tu(c,l,void 0),Il(e,n,g,l)}if(E=(g&e.childLanes)!==0,qt||E){if(l=Tt,l!==null){switch(g&-g){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(l.suspendedLanes|g))!==0?0:u,u!==0&&u!==c.retryLane&&(c.retryLane=u,gi(e,u),Dn(l,e,u,-1))}return Su(),l=tu(Error(f(421))),Il(e,n,g,l)}return u.data==="$?"?(n.flags|=128,n.child=e.child,n=$h.bind(null,e),u._reactRetry=n,null):(e=c.treeContext,dn=Vn(u.nextSibling),cn=n,dt=!0,In=null,e!==null&&(wn[Cn++]=pi,wn[Cn++]=mi,wn[Cn++]=br,pi=e.id,mi=e.overflow,br=n),n=lu(n,l.children),n.flags|=4096,n)}function Qc(e,n,r){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Rs(e.return,n,r)}function su(e,n,r,l,u){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:u}:(c.isBackwards=n,c.rendering=null,c.renderingStartTime=0,c.last=l,c.tail=r,c.tailMode=u)}function Xc(e,n,r){var l=n.pendingProps,u=l.revealOrder,c=l.tail;if($t(e,n,l.children,r),l=pt.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qc(e,r,n);else if(e.tag===19)Qc(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(st(pt,l),(n.mode&1)===0)n.memoizedState=null;else switch(u){case"forwards":for(r=n.child,u=null;r!==null;)e=r.alternate,e!==null&&Pl(e)===null&&(u=r),r=r.sibling;r=u,r===null?(u=n.child,n.child=null):(u=r.sibling,r.sibling=null),su(n,!1,u,r,c);break;case"backwards":for(r=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&Pl(e)===null){n.child=u;break}e=u.sibling,u.sibling=r,r=u,u=e}su(n,!0,r,null,c);break;case"together":su(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ml(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function yi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Lr|=n.lanes,(r&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(f(153));if(n.child!==null){for(e=n.child,r=Xi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Xi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Nh(e,n,r){switch(n.tag){case 3:Yc(n),_o();break;case 5:fc(n);break;case 1:Yt(n.type)&&gl(n);break;case 4:Us(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,u=n.memoizedProps.value;st(xl,l._currentValue),l._currentValue=u;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(st(pt,pt.current&1),n.flags|=128,null):(r&n.child.childLanes)!==0?Jc(e,n,r):(st(pt,pt.current&1),e=yi(e,n,r),e!==null?e.sibling:null);st(pt,pt.current&1);break;case 19:if(l=(r&n.childLanes)!==0,(e.flags&128)!==0){if(l)return Xc(e,n,r);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),st(pt,pt.current),l)break;return null;case 22:case 23:return n.lanes=0,Vc(e,n,r)}return yi(e,n,r)}var ed,uu,td,nd;ed=function(e,n){for(var r=n.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},uu=function(){},td=function(e,n,r,l){var u=e.memoizedProps;if(u!==l){e=n.stateNode,Tr(Gn.current);var c=null;switch(r){case"input":u=Ht(e,u),l=Ht(e,l),c=[];break;case"select":u=C({},u,{value:void 0}),l=C({},l,{value:void 0}),c=[];break;case"textarea":u=he(e,u),l=he(e,l),c=[];break;default:typeof u.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=le)}No(r,l);var g;r=null;for(K in u)if(!l.hasOwnProperty(K)&&u.hasOwnProperty(K)&&u[K]!=null)if(K==="style"){var E=u[K];for(g in E)E.hasOwnProperty(g)&&(r||(r={}),r[g]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(w.hasOwnProperty(K)?c||(c=[]):(c=c||[]).push(K,null));for(K in l){var B=l[K];if(E=u!=null?u[K]:void 0,l.hasOwnProperty(K)&&B!==E&&(B!=null||E!=null))if(K==="style")if(E){for(g in E)!E.hasOwnProperty(g)||B&&B.hasOwnProperty(g)||(r||(r={}),r[g]="");for(g in B)B.hasOwnProperty(g)&&E[g]!==B[g]&&(r||(r={}),r[g]=B[g])}else r||(c||(c=[]),c.push(K,r)),r=B;else K==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,E=E?E.__html:void 0,B!=null&&E!==B&&(c=c||[]).push(K,B)):K==="children"?typeof B!="string"&&typeof B!="number"||(c=c||[]).push(K,""+B):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(w.hasOwnProperty(K)?(B!=null&&K==="onScroll"&&at("scroll",e),c||E===B||(c=[])):(c=c||[]).push(K,B))}r&&(c=c||[]).push("style",r);var K=c;(n.updateQueue=K)&&(n.flags|=4)}},nd=function(e,n,r,l){r!==l&&(n.flags|=4)};function _a(e,n){if(!dt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Dt(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(n)for(var u=e.child;u!==null;)r|=u.lanes|u.childLanes,l|=u.subtreeFlags&14680064,l|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)r|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=r,n}function zh(e,n,r){var l=n.pendingProps;switch(Ns(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(n),null;case 1:return Yt(n.type)&&ml(),Dt(n),null;case 3:return l=n.stateNode,So(),ct(Kt),ct(At),Ws(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(wl(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,In!==null&&(wu(In),In=null))),uu(e,n),Dt(n),null;case 5:Zs(n);var u=Tr(pa.current);if(r=n.type,e!==null&&n.stateNode!=null)td(e,n,r,l,u),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(f(166));return Dt(n),null}if(e=Tr(Gn.current),wl(n)){l=n.stateNode,r=n.type;var c=n.memoizedProps;switch(l[_n]=n,l[Ui]=c,e=(n.mode&1)!==0,r){case"dialog":at("cancel",l),at("close",l);break;case"iframe":case"object":case"embed":at("load",l);break;case"video":case"audio":for(u=0;u<Ri.length;u++)at(Ri[u],l);break;case"source":at("error",l);break;case"img":case"image":case"link":at("error",l),at("load",l);break;case"details":at("toggle",l);break;case"input":ye(l,c),at("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!c.multiple},at("invalid",l);break;case"textarea":ke(l,c),at("invalid",l)}No(r,c),u=null;for(var g in c)if(c.hasOwnProperty(g)){var E=c[g];g==="children"?typeof E=="string"?l.textContent!==E&&(c.suppressHydrationWarning!==!0&&G(l.textContent,E,e),u=["children",E]):typeof E=="number"&&l.textContent!==""+E&&(c.suppressHydrationWarning!==!0&&G(l.textContent,E,e),u=["children",""+E]):w.hasOwnProperty(g)&&E!=null&&g==="onScroll"&&at("scroll",l)}switch(r){case"input":We(l),de(l,c,!0);break;case"textarea":We(l),Dr(l);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(l.onclick=le)}l=u,n.updateQueue=l,l!==null&&(n.flags|=4)}else{g=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qn(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=g.createElement(r,{is:l.is}):(e=g.createElement(r),r==="select"&&(g=e,l.multiple?g.multiple=!0:l.size&&(g.size=l.size))):e=g.createElementNS(e,r),e[_n]=n,e[Ui]=l,ed(e,n,!1,!1),n.stateNode=e;e:{switch(g=Jn(r,l),r){case"dialog":at("cancel",e),at("close",e),u=l;break;case"iframe":case"object":case"embed":at("load",e),u=l;break;case"video":case"audio":for(u=0;u<Ri.length;u++)at(Ri[u],e);u=l;break;case"source":at("error",e),u=l;break;case"img":case"image":case"link":at("error",e),at("load",e),u=l;break;case"details":at("toggle",e),u=l;break;case"input":ye(e,l),u=Ht(e,l),at("invalid",e);break;case"option":u=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},u=C({},l,{value:void 0}),at("invalid",e);break;case"textarea":ke(e,l),u=he(e,l),at("invalid",e);break;default:u=l}No(r,u),E=u;for(c in E)if(E.hasOwnProperty(c)){var B=E[c];c==="style"?Fr(e,B):c==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&Ia(e,B)):c==="children"?typeof B=="string"?(r!=="textarea"||B!=="")&&wi(e,B):typeof B=="number"&&wi(e,""+B):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(w.hasOwnProperty(c)?B!=null&&c==="onScroll"&&at("scroll",e):B!=null&&Y(e,c,B,g))}switch(r){case"input":We(e),de(e,l,!1);break;case"textarea":We(e),Dr(e);break;case"option":l.value!=null&&e.setAttribute("value",""+Ge(l.value));break;case"select":e.multiple=!!l.multiple,c=l.value,c!=null?ie(e,!!l.multiple,c,!1):l.defaultValue!=null&&ie(e,!!l.multiple,l.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=le)}switch(r){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Dt(n),null;case 6:if(e&&n.stateNode!=null)nd(e,n,e.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(f(166));if(r=Tr(pa.current),Tr(Gn.current),wl(n)){if(l=n.stateNode,r=n.memoizedProps,l[_n]=n,(c=l.nodeValue!==r)&&(e=cn,e!==null))switch(e.tag){case 3:G(l.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&G(l.nodeValue,r,(e.mode&1)!==0)}c&&(n.flags|=4)}else l=(r.nodeType===9?r:r.ownerDocument).createTextNode(l),l[_n]=n,n.stateNode=l}return Dt(n),null;case 13:if(ct(pt),l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(dt&&dn!==null&&(n.mode&1)!==0&&(n.flags&128)===0)oc(),_o(),n.flags|=98560,c=!1;else if(c=wl(n),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(f(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(f(317));c[_n]=n}else _o(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Dt(n),c=!1}else In!==null&&(wu(In),In=null),c=!0;if(!c)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=r,n):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(pt.current&1)!==0?kt===0&&(kt=3):Su())),n.updateQueue!==null&&(n.flags|=4),Dt(n),null);case 4:return So(),uu(e,n),e===null&&Fi(n.stateNode.containerInfo),Dt(n),null;case 10:return Ds(n.type._context),Dt(n),null;case 17:return Yt(n.type)&&ml(),Dt(n),null;case 19:if(ct(pt),c=n.memoizedState,c===null)return Dt(n),null;if(l=(n.flags&128)!==0,g=c.rendering,g===null)if(l)_a(c,!1);else{if(kt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(g=Pl(e),g!==null){for(n.flags|=128,_a(c,!1),l=g.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=r,r=n.child;r!==null;)c=r,e=l,c.flags&=14680066,g=c.alternate,g===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=g.childLanes,c.lanes=g.lanes,c.child=g.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=g.memoizedProps,c.memoizedState=g.memoizedState,c.updateQueue=g.updateQueue,c.type=g.type,e=g.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return st(pt,pt.current&1|2),n.child}e=e.sibling}c.tail!==null&&ht()>To&&(n.flags|=128,l=!0,_a(c,!1),n.lanes=4194304)}else{if(!l)if(e=Pl(g),e!==null){if(n.flags|=128,l=!0,r=e.updateQueue,r!==null&&(n.updateQueue=r,n.flags|=4),_a(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!dt)return Dt(n),null}else 2*ht()-c.renderingStartTime>To&&r!==1073741824&&(n.flags|=128,l=!0,_a(c,!1),n.lanes=4194304);c.isBackwards?(g.sibling=n.child,n.child=g):(r=c.last,r!==null?r.sibling=g:n.child=g,c.last=g)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=ht(),n.sibling=null,r=pt.current,st(pt,l?r&1|2:r&1),n):(Dt(n),null);case 22:case 23:return xu(),l=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(n.flags|=8192),l&&(n.mode&1)!==0?(hn&1073741824)!==0&&(Dt(n),n.subtreeFlags&6&&(n.flags|=8192)):Dt(n),null;case 24:return null;case 25:return null}throw Error(f(156,n.tag))}function Ih(e,n){switch(Ns(n),n.tag){case 1:return Yt(n.type)&&ml(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return So(),ct(Kt),ct(At),Ws(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return Zs(n),null;case 13:if(ct(pt),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(f(340));_o()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ct(pt),null;case 4:return So(),null;case 10:return Ds(n.type._context),null;case 22:case 23:return xu(),null;case 24:return null;default:return null}}var Al=!1,Rt=!1,Mh=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function ko(e,n){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(l){vt(e,n,l)}else r.current=null}function cu(e,n,r){try{r()}catch(l){vt(e,n,l)}}var id=!1;function Ah(e,n){if(Ee=mr,e=na(),ia(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var u=l.anchorOffset,c=l.focusNode;l=l.focusOffset;try{r.nodeType,c.nodeType}catch{r=null;break e}var g=0,E=-1,B=-1,K=0,ce=0,fe=e,ue=null;t:for(;;){for(var Le;fe!==r||u!==0&&fe.nodeType!==3||(E=g+u),fe!==c||l!==0&&fe.nodeType!==3||(B=g+l),fe.nodeType===3&&(g+=fe.nodeValue.length),(Le=fe.firstChild)!==null;)ue=fe,fe=Le;for(;;){if(fe===e)break t;if(ue===r&&++K===u&&(E=g),ue===c&&++ce===l&&(B=g),(Le=fe.nextSibling)!==null)break;fe=ue,ue=fe.parentNode}fe=Le}r=E===-1||B===-1?null:{start:E,end:B}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ue={focusedElem:e,selectionRange:r},mr=!1,Ne=n;Ne!==null;)if(n=Ne,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ne=e;else for(;Ne!==null;){n=Ne;try{var ze=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(ze!==null){var Me=ze.memoizedProps,yt=ze.memoizedState,W=n.stateNode,R=W.getSnapshotBeforeUpdate(n.elementType===n.type?Me:Mn(n.type,Me),yt);W.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var H=n.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(f(163))}}catch(ve){vt(n,n.return,ve)}if(e=n.sibling,e!==null){e.return=n.return,Ne=e;break}Ne=n.return}return ze=id,id=!1,ze}function wa(e,n,r){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var u=l=l.next;do{if((u.tag&e)===e){var c=u.destroy;u.destroy=void 0,c!==void 0&&cu(n,r,c)}u=u.next}while(u!==l)}}function Bl(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do{if((r.tag&e)===e){var l=r.create;r.destroy=l()}r=r.next}while(r!==n)}}function du(e){var n=e.ref;if(n!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof n=="function"?n(e):n.current=e}}function rd(e){var n=e.alternate;n!==null&&(e.alternate=null,rd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[_n],delete n[Ui],delete n[Zi],delete n[Ps],delete n[Ts])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function od(e){return e.tag===5||e.tag===3||e.tag===4}function ad(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||od(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hu(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(e,r)):(n=r,n.appendChild(e)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=le));else if(l!==4&&(e=e.child,e!==null))for(hu(e,n,r),e=e.sibling;e!==null;)hu(e,n,r),e=e.sibling}function fu(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(fu(e,n,r),e=e.sibling;e!==null;)fu(e,n,r),e=e.sibling}var Lt=null,An=!1;function Ki(e,n,r){for(r=r.child;r!==null;)ld(e,n,r),r=r.sibling}function ld(e,n,r){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(ur,r)}catch{}switch(r.tag){case 5:Rt||ko(r,n);case 6:var l=Lt,u=An;Lt=null,Ki(e,n,r),Lt=l,An=u,Lt!==null&&(An?(e=Lt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Lt.removeChild(r.stateNode));break;case 18:Lt!==null&&(An?(e=Lt,r=r.stateNode,e.nodeType===8?ca(e.parentNode,r):e.nodeType===1&&ca(e,r),on(e)):ca(Lt,r.stateNode));break;case 4:l=Lt,u=An,Lt=r.stateNode.containerInfo,An=!0,Ki(e,n,r),Lt=l,An=u;break;case 0:case 11:case 14:case 15:if(!Rt&&(l=r.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){u=l=l.next;do{var c=u,g=c.destroy;c=c.tag,g!==void 0&&((c&2)!==0||(c&4)!==0)&&cu(r,n,g),u=u.next}while(u!==l)}Ki(e,n,r);break;case 1:if(!Rt&&(ko(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=r.memoizedProps,l.state=r.memoizedState,l.componentWillUnmount()}catch(E){vt(r,n,E)}Ki(e,n,r);break;case 21:Ki(e,n,r);break;case 22:r.mode&1?(Rt=(l=Rt)||r.memoizedState!==null,Ki(e,n,r),Rt=l):Ki(e,n,r);break;default:Ki(e,n,r)}}function sd(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Mh),n.forEach(function(l){var u=Wh.bind(null,e,l);r.has(l)||(r.add(l),l.then(u,u))})}}function Bn(e,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var u=r[l];try{var c=e,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 5:Lt=E.stateNode,An=!1;break e;case 3:Lt=E.stateNode.containerInfo,An=!0;break e;case 4:Lt=E.stateNode.containerInfo,An=!0;break e}E=E.return}if(Lt===null)throw Error(f(160));ld(c,g,u),Lt=null,An=!1;var B=u.alternate;B!==null&&(B.return=null),u.return=null}catch(K){vt(u,n,K)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)ud(n,e),n=n.sibling}function ud(e,n){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Bn(n,e),Yn(e),l&4){try{wa(3,e,e.return),Bl(3,e)}catch(Me){vt(e,e.return,Me)}try{wa(5,e,e.return)}catch(Me){vt(e,e.return,Me)}}break;case 1:Bn(n,e),Yn(e),l&512&&r!==null&&ko(r,r.return);break;case 5:if(Bn(n,e),Yn(e),l&512&&r!==null&&ko(r,r.return),e.flags&32){var u=e.stateNode;try{wi(u,"")}catch(Me){vt(e,e.return,Me)}}if(l&4&&(u=e.stateNode,u!=null)){var c=e.memoizedProps,g=r!==null?r.memoizedProps:c,E=e.type,B=e.updateQueue;if(e.updateQueue=null,B!==null)try{E==="input"&&c.type==="radio"&&c.name!=null&&ee(u,c),Jn(E,g);var K=Jn(E,c);for(g=0;g<B.length;g+=2){var ce=B[g],fe=B[g+1];ce==="style"?Fr(u,fe):ce==="dangerouslySetInnerHTML"?Ia(u,fe):ce==="children"?wi(u,fe):Y(u,ce,fe,K)}switch(E){case"input":Fe(u,c);break;case"textarea":rt(u,c);break;case"select":var ue=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!c.multiple;var Le=c.value;Le!=null?ie(u,!!c.multiple,Le,!1):ue!==!!c.multiple&&(c.defaultValue!=null?ie(u,!!c.multiple,c.defaultValue,!0):ie(u,!!c.multiple,c.multiple?[]:"",!1))}u[Ui]=c}catch(Me){vt(e,e.return,Me)}}break;case 6:if(Bn(n,e),Yn(e),l&4){if(e.stateNode===null)throw Error(f(162));u=e.stateNode,c=e.memoizedProps;try{u.nodeValue=c}catch(Me){vt(e,e.return,Me)}}break;case 3:if(Bn(n,e),Yn(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{on(n.containerInfo)}catch(Me){vt(e,e.return,Me)}break;case 4:Bn(n,e),Yn(e);break;case 13:Bn(n,e),Yn(e),u=e.child,u.flags&8192&&(c=u.memoizedState!==null,u.stateNode.isHidden=c,!c||u.alternate!==null&&u.alternate.memoizedState!==null||(gu=ht())),l&4&&sd(e);break;case 22:if(ce=r!==null&&r.memoizedState!==null,e.mode&1?(Rt=(K=Rt)||ce,Bn(n,e),Rt=K):Bn(n,e),Yn(e),l&8192){if(K=e.memoizedState!==null,(e.stateNode.isHidden=K)&&!ce&&(e.mode&1)!==0)for(Ne=e,ce=e.child;ce!==null;){for(fe=Ne=ce;Ne!==null;){switch(ue=Ne,Le=ue.child,ue.tag){case 0:case 11:case 14:case 15:wa(4,ue,ue.return);break;case 1:ko(ue,ue.return);var ze=ue.stateNode;if(typeof ze.componentWillUnmount=="function"){l=ue,r=ue.return;try{n=l,ze.props=n.memoizedProps,ze.state=n.memoizedState,ze.componentWillUnmount()}catch(Me){vt(l,r,Me)}}break;case 5:ko(ue,ue.return);break;case 22:if(ue.memoizedState!==null){hd(fe);continue}}Le!==null?(Le.return=ue,Ne=Le):hd(fe)}ce=ce.sibling}e:for(ce=null,fe=e;;){if(fe.tag===5){if(ce===null){ce=fe;try{u=fe.stateNode,K?(c=u.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(E=fe.stateNode,B=fe.memoizedProps.style,g=B!=null&&B.hasOwnProperty("display")?B.display:null,E.style.display=Oo("display",g))}catch(Me){vt(e,e.return,Me)}}}else if(fe.tag===6){if(ce===null)try{fe.stateNode.nodeValue=K?"":fe.memoizedProps}catch(Me){vt(e,e.return,Me)}}else if((fe.tag!==22&&fe.tag!==23||fe.memoizedState===null||fe===e)&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===e)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===e)break e;ce===fe&&(ce=null),fe=fe.return}ce===fe&&(ce=null),fe.sibling.return=fe.return,fe=fe.sibling}}break;case 19:Bn(n,e),Yn(e),l&4&&sd(e);break;case 21:break;default:Bn(n,e),Yn(e)}}function Yn(e){var n=e.flags;if(n&2){try{e:{for(var r=e.return;r!==null;){if(od(r)){var l=r;break e}r=r.return}throw Error(f(160))}switch(l.tag){case 5:var u=l.stateNode;l.flags&32&&(wi(u,""),l.flags&=-33);var c=ad(e);fu(e,c,u);break;case 3:case 4:var g=l.stateNode.containerInfo,E=ad(e);hu(e,E,g);break;default:throw Error(f(161))}}catch(B){vt(e,e.return,B)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Bh(e,n,r){Ne=e,cd(e)}function cd(e,n,r){for(var l=(e.mode&1)!==0;Ne!==null;){var u=Ne,c=u.child;if(u.tag===22&&l){var g=u.memoizedState!==null||Al;if(!g){var E=u.alternate,B=E!==null&&E.memoizedState!==null||Rt;E=Al;var K=Rt;if(Al=g,(Rt=B)&&!K)for(Ne=u;Ne!==null;)g=Ne,B=g.child,g.tag===22&&g.memoizedState!==null?fd(u):B!==null?(B.return=g,Ne=B):fd(u);for(;c!==null;)Ne=c,cd(c),c=c.sibling;Ne=u,Al=E,Rt=K}dd(e)}else(u.subtreeFlags&8772)!==0&&c!==null?(c.return=u,Ne=c):dd(e)}}function dd(e){for(;Ne!==null;){var n=Ne;if((n.flags&8772)!==0){var r=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Rt||Bl(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!Rt)if(r===null)l.componentDidMount();else{var u=n.elementType===n.type?r.memoizedProps:Mn(n.type,r.memoizedProps);l.componentDidUpdate(u,r.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var c=n.updateQueue;c!==null&&hc(n,c,l);break;case 3:var g=n.updateQueue;if(g!==null){if(r=null,n.child!==null)switch(n.child.tag){case 5:r=n.child.stateNode;break;case 1:r=n.child.stateNode}hc(n,g,r)}break;case 5:var E=n.stateNode;if(r===null&&n.flags&4){r=E;var B=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&r.focus();break;case"img":B.src&&(r.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var K=n.alternate;if(K!==null){var ce=K.memoizedState;if(ce!==null){var fe=ce.dehydrated;fe!==null&&on(fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(f(163))}Rt||n.flags&512&&du(n)}catch(ue){vt(n,n.return,ue)}}if(n===e){Ne=null;break}if(r=n.sibling,r!==null){r.return=n.return,Ne=r;break}Ne=n.return}}function hd(e){for(;Ne!==null;){var n=Ne;if(n===e){Ne=null;break}var r=n.sibling;if(r!==null){r.return=n.return,Ne=r;break}Ne=n.return}}function fd(e){for(;Ne!==null;){var n=Ne;try{switch(n.tag){case 0:case 11:case 15:var r=n.return;try{Bl(4,n)}catch(B){vt(n,r,B)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var u=n.return;try{l.componentDidMount()}catch(B){vt(n,u,B)}}var c=n.return;try{du(n)}catch(B){vt(n,c,B)}break;case 5:var g=n.return;try{du(n)}catch(B){vt(n,g,B)}}}catch(B){vt(n,n.return,B)}if(n===e){Ne=null;break}var E=n.sibling;if(E!==null){E.return=n.return,Ne=E;break}Ne=n.return}}var Dh=Math.ceil,Dl=se.ReactCurrentDispatcher,pu=se.ReactCurrentOwner,bn=se.ReactCurrentBatchConfig,et=0,Tt=null,wt=null,Ot=0,hn=0,Po=$i(0),kt=0,Ca=null,Lr=0,Rl=0,mu=0,xa=null,Jt=null,gu=0,To=1/0,_i=null,Fl=!1,vu=null,Yi=null,jl=!1,qi=null,Ul=0,Sa=0,yu=null,Zl=-1,$l=0;function Wt(){return(et&6)!==0?ht():Zl!==-1?Zl:Zl=ht()}function Ji(e){return(e.mode&1)===0?1:(et&2)!==0&&Ot!==0?Ot&-Ot:wh.transition!==null?($l===0&&($l=Va()),$l):(e=Xe,e!==0||(e=window.event,e=e===void 0?16:Qe(e.type)),e)}function Dn(e,n,r,l){if(50<Sa)throw Sa=0,yu=null,Error(f(185));nn(e,r,l),((et&2)===0||e!==Tt)&&(e===Tt&&((et&2)===0&&(Rl|=r),kt===4&&Qi(e,Ot)),Qt(e,l),r===1&&et===0&&(n.mode&1)===0&&(To=ht()+500,vl&&Hi()))}function Qt(e,n){var r=e.callbackNode;Vr(e,n);var l=lt(e,e===Tt?Ot:0);if(l===0)r!==null&&Ro(r),e.callbackNode=null,e.callbackPriority=0;else if(n=l&-l,e.callbackPriority!==n){if(r!=null&&Ro(r),n===1)e.tag===0?_h(md.bind(null,e)):ec(md.bind(null,e)),Mt(function(){(et&6)===0&&Hi()}),r=null;else{switch(Pi(l)){case 1:r=Fo;break;case 4:r=Ha;break;case 16:r=Wr;break;case 536870912:r=xi;break;default:r=Wr}r=Sd(r,pd.bind(null,e))}e.callbackPriority=n,e.callbackNode=r}}function pd(e,n){if(Zl=-1,$l=0,(et&6)!==0)throw Error(f(327));var r=e.callbackNode;if(Eo()&&e.callbackNode!==r)return null;var l=lt(e,e===Tt?Ot:0);if(l===0)return null;if((l&30)!==0||(l&e.expiredLanes)!==0||n)n=Wl(e,l);else{n=l;var u=et;et|=2;var c=vd();(Tt!==e||Ot!==n)&&(_i=null,To=ht()+500,Nr(e,n));do try{jh();break}catch(E){gd(e,E)}while(!0);Bs(),Dl.current=c,et=u,wt!==null?n=0:(Tt=null,Ot=0,n=kt)}if(n!==0){if(n===2&&(u=zt(e),u!==0&&(l=u,n=_u(e,u))),n===1)throw r=Ca,Nr(e,0),Qi(e,l),Qt(e,ht()),r;if(n===6)Qi(e,l);else{if(u=e.current.alternate,(l&30)===0&&!Rh(u)&&(n=Wl(e,l),n===2&&(c=zt(e),c!==0&&(l=c,n=_u(e,c))),n===1))throw r=Ca,Nr(e,0),Qi(e,l),Qt(e,ht()),r;switch(e.finishedWork=u,e.finishedLanes=l,n){case 0:case 1:throw Error(f(345));case 2:zr(e,Jt,_i);break;case 3:if(Qi(e,l),(l&130023424)===l&&(n=gu+500-ht(),10<n)){if(lt(e,0)!==0)break;if(u=e.suspendedLanes,(u&l)!==l){Wt(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=St(zr.bind(null,e,Jt,_i),n);break}zr(e,Jt,_i);break;case 4:if(Qi(e,l),(l&4194240)===l)break;for(n=e.eventTimes,u=-1;0<l;){var g=31-Ye(l);c=1<<g,g=n[g],g>u&&(u=g),l&=~c}if(l=u,l=ht()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Dh(l/1960))-l,10<l){e.timeoutHandle=St(zr.bind(null,e,Jt,_i),l);break}zr(e,Jt,_i);break;case 5:zr(e,Jt,_i);break;default:throw Error(f(329))}}}return Qt(e,ht()),e.callbackNode===r?pd.bind(null,e):null}function _u(e,n){var r=xa;return e.current.memoizedState.isDehydrated&&(Nr(e,n).flags|=256),e=Wl(e,n),e!==2&&(n=Jt,Jt=r,n!==null&&wu(n)),e}function wu(e){Jt===null?Jt=e:Jt.push.apply(Jt,e)}function Rh(e){for(var n=e;;){if(n.flags&16384){var r=n.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var l=0;l<r.length;l++){var u=r[l],c=u.getSnapshot;u=u.value;try{if(!sn(c(),u))return!1}catch{return!1}}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Qi(e,n){for(n&=~mu,n&=~Rl,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var r=31-Ye(n),l=1<<r;e[r]=-1,n&=~l}}function md(e){if((et&6)!==0)throw Error(f(327));Eo();var n=lt(e,0);if((n&1)===0)return Qt(e,ht()),null;var r=Wl(e,n);if(e.tag!==0&&r===2){var l=zt(e);l!==0&&(n=l,r=_u(e,l))}if(r===1)throw r=Ca,Nr(e,0),Qi(e,n),Qt(e,ht()),r;if(r===6)throw Error(f(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,zr(e,Jt,_i),Qt(e,ht()),null}function Cu(e,n){var r=et;et|=1;try{return e(n)}finally{et=r,et===0&&(To=ht()+500,vl&&Hi())}}function Or(e){qi!==null&&qi.tag===0&&(et&6)===0&&Eo();var n=et;et|=1;var r=bn.transition,l=Xe;try{if(bn.transition=null,Xe=1,e)return e()}finally{Xe=l,bn.transition=r,et=n,(et&6)===0&&Hi()}}function xu(){hn=Po.current,ct(Po)}function Nr(e,n){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,_t(r)),wt!==null)for(r=wt.return;r!==null;){var l=r;switch(Ns(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&ml();break;case 3:So(),ct(Kt),ct(At),Ws();break;case 5:Zs(l);break;case 4:So();break;case 13:ct(pt);break;case 19:ct(pt);break;case 10:Ds(l.type._context);break;case 22:case 23:xu()}r=r.return}if(Tt=e,wt=e=Xi(e.current,null),Ot=hn=n,kt=0,Ca=null,mu=Rl=Lr=0,Jt=xa=null,Pr!==null){for(n=0;n<Pr.length;n++)if(r=Pr[n],l=r.interleaved,l!==null){r.interleaved=null;var u=l.next,c=r.pending;if(c!==null){var g=c.next;c.next=u,l.next=g}r.pending=l}Pr=null}return e}function gd(e,n){do{var r=wt;try{if(Bs(),Tl.current=Nl,El){for(var l=mt.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}El=!1}if(Er=0,Pt=bt=mt=null,ma=!1,ga=0,pu.current=null,r===null||r.return===null){kt=1,Ca=n,wt=null;break}e:{var c=e,g=r.return,E=r,B=n;if(n=Ot,E.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var K=B,ce=E,fe=ce.tag;if((ce.mode&1)===0&&(fe===0||fe===11||fe===15)){var ue=ce.alternate;ue?(ce.updateQueue=ue.updateQueue,ce.memoizedState=ue.memoizedState,ce.lanes=ue.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var Le=Uc(g);if(Le!==null){Le.flags&=-257,Zc(Le,g,E,c,n),Le.mode&1&&jc(c,K,n),n=Le,B=K;var ze=n.updateQueue;if(ze===null){var Me=new Set;Me.add(B),n.updateQueue=Me}else ze.add(B);break e}else{if((n&1)===0){jc(c,K,n),Su();break e}B=Error(f(426))}}else if(dt&&E.mode&1){var yt=Uc(g);if(yt!==null){(yt.flags&65536)===0&&(yt.flags|=256),Zc(yt,g,E,c,n),Ms(bo(B,E));break e}}c=B=bo(B,E),kt!==4&&(kt=2),xa===null?xa=[c]:xa.push(c),c=g;do{switch(c.tag){case 3:c.flags|=65536,n&=-n,c.lanes|=n;var W=Rc(c,B,n);dc(c,W);break e;case 1:E=B;var R=c.type,H=c.stateNode;if((c.flags&128)===0&&(typeof R.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Yi===null||!Yi.has(H)))){c.flags|=65536,n&=-n,c.lanes|=n;var ve=Fc(c,E,n);dc(c,ve);break e}}c=c.return}while(c!==null)}_d(r)}catch(De){n=De,wt===r&&r!==null&&(wt=r=r.return);continue}break}while(!0)}function vd(){var e=Dl.current;return Dl.current=Nl,e===null?Nl:e}function Su(){(kt===0||kt===3||kt===2)&&(kt=4),Tt===null||(Lr&268435455)===0&&(Rl&268435455)===0||Qi(Tt,Ot)}function Wl(e,n){var r=et;et|=2;var l=vd();(Tt!==e||Ot!==n)&&(_i=null,Nr(e,n));do try{Fh();break}catch(u){gd(e,u)}while(!0);if(Bs(),et=r,Dl.current=l,wt!==null)throw Error(f(261));return Tt=null,Ot=0,kt}function Fh(){for(;wt!==null;)yd(wt)}function jh(){for(;wt!==null&&!cs();)yd(wt)}function yd(e){var n=xd(e.alternate,e,hn);e.memoizedProps=e.pendingProps,n===null?_d(e):wt=n,pu.current=null}function _d(e){var n=e;do{var r=n.alternate;if(e=n.return,(n.flags&32768)===0){if(r=zh(r,n,hn),r!==null){wt=r;return}}else{if(r=Ih(r,n),r!==null){r.flags&=32767,wt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{kt=6,wt=null;return}}if(n=n.sibling,n!==null){wt=n;return}wt=n=e}while(n!==null);kt===0&&(kt=5)}function zr(e,n,r){var l=Xe,u=bn.transition;try{bn.transition=null,Xe=1,Uh(e,n,r,l)}finally{bn.transition=u,Xe=l}return null}function Uh(e,n,r,l){do Eo();while(qi!==null);if((et&6)!==0)throw Error(f(327));r=e.finishedWork;var u=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(f(177));e.callbackNode=null,e.callbackPriority=0;var c=r.lanes|r.childLanes;if(gt(e,c),e===Tt&&(wt=Tt=null,Ot=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||jl||(jl=!0,Sd(Wr,function(){return Eo(),null})),c=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||c){c=bn.transition,bn.transition=null;var g=Xe;Xe=1;var E=et;et|=4,pu.current=null,Ah(e,r),ud(r,e),vn(Ue),mr=!!Ee,Ue=Ee=null,e.current=r,Bh(r),$r(),et=E,Xe=g,bn.transition=c}else e.current=r;if(jl&&(jl=!1,qi=e,Ul=u),c=e.pendingLanes,c===0&&(Yi=null),cr(r.stateNode),Qt(e,ht()),n!==null)for(l=e.onRecoverableError,r=0;r<n.length;r++)u=n[r],l(u.value,{componentStack:u.stack,digest:u.digest});if(Fl)throw Fl=!1,e=vu,vu=null,e;return(Ul&1)!==0&&e.tag!==0&&Eo(),c=e.pendingLanes,(c&1)!==0?e===yu?Sa++:(Sa=0,yu=e):Sa=0,Hi(),null}function Eo(){if(qi!==null){var e=Pi(Ul),n=bn.transition,r=Xe;try{if(bn.transition=null,Xe=16>e?16:e,qi===null)var l=!1;else{if(e=qi,qi=null,Ul=0,(et&6)!==0)throw Error(f(331));var u=et;for(et|=4,Ne=e.current;Ne!==null;){var c=Ne,g=c.child;if((Ne.flags&16)!==0){var E=c.deletions;if(E!==null){for(var B=0;B<E.length;B++){var K=E[B];for(Ne=K;Ne!==null;){var ce=Ne;switch(ce.tag){case 0:case 11:case 15:wa(8,ce,c)}var fe=ce.child;if(fe!==null)fe.return=ce,Ne=fe;else for(;Ne!==null;){ce=Ne;var ue=ce.sibling,Le=ce.return;if(rd(ce),ce===K){Ne=null;break}if(ue!==null){ue.return=Le,Ne=ue;break}Ne=Le}}}var ze=c.alternate;if(ze!==null){var Me=ze.child;if(Me!==null){ze.child=null;do{var yt=Me.sibling;Me.sibling=null,Me=yt}while(Me!==null)}}Ne=c}}if((c.subtreeFlags&2064)!==0&&g!==null)g.return=c,Ne=g;else e:for(;Ne!==null;){if(c=Ne,(c.flags&2048)!==0)switch(c.tag){case 0:case 11:case 15:wa(9,c,c.return)}var W=c.sibling;if(W!==null){W.return=c.return,Ne=W;break e}Ne=c.return}}var R=e.current;for(Ne=R;Ne!==null;){g=Ne;var H=g.child;if((g.subtreeFlags&2064)!==0&&H!==null)H.return=g,Ne=H;else e:for(g=R;Ne!==null;){if(E=Ne,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:Bl(9,E)}}catch(De){vt(E,E.return,De)}if(E===g){Ne=null;break e}var ve=E.sibling;if(ve!==null){ve.return=E.return,Ne=ve;break e}Ne=E.return}}if(et=u,Hi(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(ur,e)}catch{}l=!0}return l}finally{Xe=r,bn.transition=n}}return!1}function wd(e,n,r){n=bo(r,n),n=Rc(e,n,1),e=Gi(e,n,1),n=Wt(),e!==null&&(nn(e,1,n),Qt(e,n))}function vt(e,n,r){if(e.tag===3)wd(e,e,r);else for(;n!==null;){if(n.tag===3){wd(n,e,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Yi===null||!Yi.has(l))){e=bo(r,e),e=Fc(n,e,1),n=Gi(n,e,1),e=Wt(),n!==null&&(nn(n,1,e),Qt(n,e));break}}n=n.return}}function Zh(e,n,r){var l=e.pingCache;l!==null&&l.delete(n),n=Wt(),e.pingedLanes|=e.suspendedLanes&r,Tt===e&&(Ot&r)===r&&(kt===4||kt===3&&(Ot&130023424)===Ot&&500>ht()-gu?Nr(e,0):mu|=r),Qt(e,n)}function Cd(e,n){n===0&&((e.mode&1)===0?n=1:(n=bi,bi<<=1,(bi&130023424)===0&&(bi=4194304)));var r=Wt();e=gi(e,n),e!==null&&(nn(e,n,r),Qt(e,r))}function $h(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Cd(e,r)}function Wh(e,n){var r=0;switch(e.tag){case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(r=u.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(f(314))}l!==null&&l.delete(n),Cd(e,r)}var xd;xd=function(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps||Kt.current)qt=!0;else{if((e.lanes&r)===0&&(n.flags&128)===0)return qt=!1,Nh(e,n,r);qt=(e.flags&131072)!==0}else qt=!1,dt&&(n.flags&1048576)!==0&&tc(n,_l,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;Ml(e,n),e=n.pendingProps;var u=go(n,At.current);xo(n,r),u=Gs(null,n,l,e,u,r);var c=Ks();return n.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Yt(l)?(c=!0,gl(n)):c=!1,n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,js(n),u.updater=zl,n.stateNode=u,u._reactInternals=n,eu(n,l,e,r),n=ru(null,n,l,!0,c,r)):(n.tag=0,dt&&c&&Os(n),$t(null,n,u,r),n=n.child),n;case 16:l=n.elementType;e:{switch(Ml(e,n),e=n.pendingProps,u=l._init,l=u(l._payload),n.type=l,u=n.tag=Vh(l),e=Mn(l,e),u){case 0:n=iu(null,n,l,e,r);break e;case 1:n=Kc(null,n,l,e,r);break e;case 11:n=$c(null,n,l,e,r);break e;case 14:n=Wc(null,n,l,Mn(l.type,e),r);break e}throw Error(f(306,l,""))}return n;case 0:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:Mn(l,u),iu(e,n,l,u,r);case 1:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:Mn(l,u),Kc(e,n,l,u,r);case 3:e:{if(Yc(n),e===null)throw Error(f(387));l=n.pendingProps,c=n.memoizedState,u=c.element,cc(e,n),kl(n,l,null,r);var g=n.memoizedState;if(l=g.element,c.isDehydrated)if(c={element:l,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){u=bo(Error(f(423)),n),n=qc(e,n,l,r,u);break e}else if(l!==u){u=bo(Error(f(424)),n),n=qc(e,n,l,r,u);break e}else for(dn=Vn(n.stateNode.containerInfo.firstChild),cn=n,dt=!0,In=null,r=sc(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(_o(),l===u){n=yi(e,n,r);break e}$t(e,n,l,r)}n=n.child}return n;case 5:return fc(n),e===null&&Is(n),l=n.type,u=n.pendingProps,c=e!==null?e.memoizedProps:null,g=u.children,qe(l,u)?g=null:c!==null&&qe(l,c)&&(n.flags|=32),Gc(e,n),$t(e,n,g,r),n.child;case 6:return e===null&&Is(n),null;case 13:return Jc(e,n,r);case 4:return Us(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=wo(n,null,l,r):$t(e,n,l,r),n.child;case 11:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:Mn(l,u),$c(e,n,l,u,r);case 7:return $t(e,n,n.pendingProps,r),n.child;case 8:return $t(e,n,n.pendingProps.children,r),n.child;case 12:return $t(e,n,n.pendingProps.children,r),n.child;case 10:e:{if(l=n.type._context,u=n.pendingProps,c=n.memoizedProps,g=u.value,st(xl,l._currentValue),l._currentValue=g,c!==null)if(sn(c.value,g)){if(c.children===u.children&&!Kt.current){n=yi(e,n,r);break e}}else for(c=n.child,c!==null&&(c.return=n);c!==null;){var E=c.dependencies;if(E!==null){g=c.child;for(var B=E.firstContext;B!==null;){if(B.context===l){if(c.tag===1){B=vi(-1,r&-r),B.tag=2;var K=c.updateQueue;if(K!==null){K=K.shared;var ce=K.pending;ce===null?B.next=B:(B.next=ce.next,ce.next=B),K.pending=B}}c.lanes|=r,B=c.alternate,B!==null&&(B.lanes|=r),Rs(c.return,r,n),E.lanes|=r;break}B=B.next}}else if(c.tag===10)g=c.type===n.type?null:c.child;else if(c.tag===18){if(g=c.return,g===null)throw Error(f(341));g.lanes|=r,E=g.alternate,E!==null&&(E.lanes|=r),Rs(g,r,n),g=c.sibling}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===n){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}$t(e,n,u.children,r),n=n.child}return n;case 9:return u=n.type,l=n.pendingProps.children,xo(n,r),u=xn(u),l=l(u),n.flags|=1,$t(e,n,l,r),n.child;case 14:return l=n.type,u=Mn(l,n.pendingProps),u=Mn(l.type,u),Wc(e,n,l,u,r);case 15:return Hc(e,n,n.type,n.pendingProps,r);case 17:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:Mn(l,u),Ml(e,n),n.tag=1,Yt(l)?(e=!0,gl(n)):e=!1,xo(n,r),Bc(n,l,u),eu(n,l,u,r),ru(null,n,l,!0,e,r);case 19:return Xc(e,n,r);case 22:return Vc(e,n,r)}throw Error(f(156,n.tag))};function Sd(e,n){return Wa(e,n)}function Hh(e,n,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(e,n,r,l){return new Hh(e,n,r,l)}function bu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vh(e){if(typeof e=="function")return bu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ie)return 11;if(e===ae)return 14}return 2}function Xi(e,n){var r=e.alternate;return r===null?(r=kn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Hl(e,n,r,l,u,c){var g=2;if(l=e,typeof e=="function")bu(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case Oe:return Ir(r.children,u,c,n);case X:g=8,u|=8;break;case J:return e=kn(12,r,n,u|2),e.elementType=J,e.lanes=c,e;case we:return e=kn(13,r,n,u),e.elementType=we,e.lanes=c,e;case re:return e=kn(19,r,n,u),e.elementType=re,e.lanes=c,e;case oe:return Vl(r,u,c,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Re:g=10;break e;case D:g=9;break e;case Ie:g=11;break e;case ae:g=14;break e;case te:g=16,l=null;break e}throw Error(f(130,e==null?e:typeof e,""))}return n=kn(g,r,n,u),n.elementType=e,n.type=l,n.lanes=c,n}function Ir(e,n,r,l){return e=kn(7,e,l,n),e.lanes=r,e}function Vl(e,n,r,l){return e=kn(22,e,l,n),e.elementType=oe,e.lanes=r,e.stateNode={isHidden:!1},e}function ku(e,n,r){return e=kn(6,e,null,n),e.lanes=r,e}function Pu(e,n,r){return n=kn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Gh(e,n,r,l,u){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ki(0),this.expirationTimes=ki(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ki(0),this.identifierPrefix=l,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function Tu(e,n,r,l,u,c,g,E,B){return e=new Gh(e,n,r,E,B),n===1?(n=1,c===!0&&(n|=8)):n=0,c=kn(3,null,null,n),e.current=c,c.stateNode=e,c.memoizedState={element:l,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},js(c),e}function Kh(e,n,r){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Be,key:l==null?null:""+l,children:e,containerInfo:n,implementation:r}}function bd(e){if(!e)return Wi;e=e._reactInternals;e:{if(Rn(e)!==e||e.tag!==1)throw Error(f(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Yt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(f(171))}if(e.tag===1){var r=e.type;if(Yt(r))return Qu(e,r,n)}return n}function kd(e,n,r,l,u,c,g,E,B){return e=Tu(r,l,!0,e,u,c,g,E,B),e.context=bd(null),r=e.current,l=Wt(),u=Ji(r),c=vi(l,u),c.callback=n??null,Gi(r,c,u),e.current.lanes=u,nn(e,u,l),Qt(e,l),e}function Gl(e,n,r,l){var u=n.current,c=Wt(),g=Ji(u);return r=bd(r),n.context===null?n.context=r:n.pendingContext=r,n=vi(c,g),n.payload={element:e},l=l===void 0?null:l,l!==null&&(n.callback=l),e=Gi(u,n,g),e!==null&&(Dn(e,u,g,c),bl(e,u,g)),g}function Kl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Pd(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Eu(e,n){Pd(e,n),(e=e.alternate)&&Pd(e,n)}function Yh(){return null}var Td=typeof reportError=="function"?reportError:function(e){console.error(e)};function Lu(e){this._internalRoot=e}Yl.prototype.render=Lu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(f(409));Gl(e,n,null,null)},Yl.prototype.unmount=Lu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Or(function(){Gl(null,e,null,null)}),n[nt]=null}};function Yl(e){this._internalRoot=e}Yl.prototype.unstable_scheduleHydration=function(e){if(e){var n=Yr();e={blockedOn:null,target:e,priority:n};for(var r=0;r<xt.length&&n!==0&&n<xt[r].priority;r++);xt.splice(r,0,e),r===0&&qr(e)}};function Ou(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ql(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ed(){}function qh(e,n,r,l,u){if(u){if(typeof l=="function"){var c=l;l=function(){var K=Kl(g);c.call(K)}}var g=kd(n,l,e,0,null,!1,!1,"",Ed);return e._reactRootContainer=g,e[nt]=g.current,Fi(e.nodeType===8?e.parentNode:e),Or(),g}for(;u=e.lastChild;)e.removeChild(u);if(typeof l=="function"){var E=l;l=function(){var K=Kl(B);E.call(K)}}var B=Tu(e,0,!1,null,null,!1,!1,"",Ed);return e._reactRootContainer=B,e[nt]=B.current,Fi(e.nodeType===8?e.parentNode:e),Or(function(){Gl(n,B,r,l)}),B}function Jl(e,n,r,l,u){var c=r._reactRootContainer;if(c){var g=c;if(typeof u=="function"){var E=u;u=function(){var B=Kl(g);E.call(B)}}Gl(n,g,e,u)}else g=qh(r,n,e,u,l);return Kl(g)}Gr=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var r=Ke(n.pendingLanes);r!==0&&(En(n,r|1),Qt(n,ht()),(et&6)===0&&(To=ht()+500,Hi()))}break;case 13:Or(function(){var l=gi(e,1);if(l!==null){var u=Wt();Dn(l,e,1,u)}}),Eu(e,1)}},ti=function(e){if(e.tag===13){var n=gi(e,134217728);if(n!==null){var r=Wt();Dn(n,e,134217728,r)}Eu(e,134217728)}},Kr=function(e){if(e.tag===13){var n=Ji(e),r=gi(e,n);if(r!==null){var l=Wt();Dn(r,e,n,l)}Eu(e,n)}},Yr=function(){return Xe},dr=function(e,n){var r=Xe;try{return Xe=e,n()}finally{Xe=r}},jr=function(e,n,r){switch(n){case"input":if(Fe(e,r),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==e&&l.form===e.form){var u=po(l);if(!u)throw Error(f(90));it(l),Fe(l,u)}}}break;case"textarea":rt(e,r);break;case"select":n=r.value,n!=null&&ie(e,!!r.multiple,n,!1)}},Ra=Cu,Fa=Or;var Jh={usingClientEntryPoint:!1,Events:[di,hi,po,Ba,Da,Cu]},ba={findFiberByHostInstance:ci,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qh={bundleType:ba.bundleType,version:ba.version,rendererPackageName:ba.rendererPackageName,rendererConfig:ba.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:se.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Za(e),e===null?null:e.stateNode},findFiberByHostInstance:ba.findFiberByHostInstance||Yh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ql.isDisabled&&Ql.supportsFiber)try{ur=Ql.inject(Qh),tn=Ql}catch{}}return Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jh,Xt.createPortal=function(e,n){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ou(n))throw Error(f(200));return Kh(e,n,null,r)},Xt.createRoot=function(e,n){if(!Ou(e))throw Error(f(299));var r=!1,l="",u=Td;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),n=Tu(e,1,!1,null,null,r,!1,l,u),e[nt]=n.current,Fi(e.nodeType===8?e.parentNode:e),new Lu(n)},Xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(f(188)):(e=Object.keys(e).join(","),Error(f(268,e)));return e=Za(n),e=e===null?null:e.stateNode,e},Xt.flushSync=function(e){return Or(e)},Xt.hydrate=function(e,n,r){if(!ql(n))throw Error(f(200));return Jl(null,e,n,!0,r)},Xt.hydrateRoot=function(e,n,r){if(!Ou(e))throw Error(f(405));var l=r!=null&&r.hydratedSources||null,u=!1,c="",g=Td;if(r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(g=r.onRecoverableError)),n=kd(n,null,e,1,r??null,u,!1,c,g),e[nt]=n.current,Fi(e),l)for(e=0;e<l.length;e++)r=l[e],u=r._getVersion,u=u(r._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[r,u]:n.mutableSourceEagerHydrationData.push(r,u);return new Yl(n)},Xt.render=function(e,n,r){if(!ql(n))throw Error(f(200));return Jl(null,e,n,!1,r)},Xt.unmountComponentAtNode=function(e){if(!ql(e))throw Error(f(40));return e._reactRootContainer?(Or(function(){Jl(null,null,e,!1,function(){e._reactRootContainer=null,e[nt]=null})}),!0):!1},Xt.unstable_batchedUpdates=Cu,Xt.unstable_renderSubtreeIntoContainer=function(e,n,r,l){if(!ql(r))throw Error(f(200));if(e==null||e._reactInternals===void 0)throw Error(f(38));return Jl(e,n,r,!1,l)},Xt.version="18.3.1-next-f1338f8080-20240426",Xt}var Md;function Xd(){if(Md)return zu.exports;Md=1;function p(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p)}catch(m){console.error(m)}}return p(),zu.exports=af(),zu.exports}var Ad;function lf(){if(Ad)return Xl;Ad=1;var p=Xd();return Xl.createRoot=p.createRoot,Xl.hydrateRoot=p.hydrateRoot,Xl}var sf=lf(),uf=Xd();/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ta(){return Ta=Object.assign?Object.assign.bind():function(p){for(var m=1;m<arguments.length;m++){var f=arguments[m];for(var y in f)Object.prototype.hasOwnProperty.call(f,y)&&(p[y]=f[y])}return p},Ta.apply(this,arguments)}var tr;(function(p){p.Pop="POP",p.Push="PUSH",p.Replace="REPLACE"})(tr||(tr={}));const Bd="popstate";function cf(p){p===void 0&&(p={});function m(w,I){let{pathname:O="/",search:P="",hash:N=""}=Ar(w.location.hash.substr(1));return!O.startsWith("/")&&!O.startsWith(".")&&(O="/"+O),ju("",{pathname:O,search:P,hash:N},I.state&&I.state.usr||null,I.state&&I.state.key||"default")}function f(w,I){let O=w.document.querySelector("base"),P="";if(O&&O.getAttribute("href")){let N=w.location.href,x=N.indexOf("#");P=x===-1?N:N.slice(0,x)}return P+"#"+(typeof I=="string"?I:ts(I))}function y(w,I){Wu(w.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(I)+")")}return hf(m,f,y,p)}function Ct(p,m){if(p===!1||p===null||typeof p>"u")throw new Error(m)}function Wu(p,m){if(!p){typeof console<"u"&&console.warn(m);try{throw new Error(m)}catch{}}}function df(){return Math.random().toString(36).substr(2,8)}function Dd(p,m){return{usr:p.state,key:p.key,idx:m}}function ju(p,m,f,y){return f===void 0&&(f=null),Ta({pathname:typeof p=="string"?p:p.pathname,search:"",hash:""},typeof m=="string"?Ar(m):m,{state:f,key:m&&m.key||y||df()})}function ts(p){let{pathname:m="/",search:f="",hash:y=""}=p;return f&&f!=="?"&&(m+=f.charAt(0)==="?"?f:"?"+f),y&&y!=="#"&&(m+=y.charAt(0)==="#"?y:"#"+y),m}function Ar(p){let m={};if(p){let f=p.indexOf("#");f>=0&&(m.hash=p.substr(f),p=p.substr(0,f));let y=p.indexOf("?");y>=0&&(m.search=p.substr(y),p=p.substr(0,y)),p&&(m.pathname=p)}return m}function hf(p,m,f,y){y===void 0&&(y={});let{window:w=document.defaultView,v5Compat:I=!1}=y,O=w.history,P=tr.Pop,N=null,x=S();x==null&&(x=0,O.replaceState(Ta({},O.state,{idx:x}),""));function S(){return(O.state||{idx:null}).idx}function F(){P=tr.Pop;let Z=S(),z=Z==null?null:Z-x;x=Z,N&&N({action:P,location:A.location,delta:z})}function V(Z,z){P=tr.Push;let q=ju(A.location,Z,z);f&&f(q,Z),x=S()+1;let Y=Dd(q,x),se=A.createHref(q);try{O.pushState(Y,"",se)}catch(Ce){if(Ce instanceof DOMException&&Ce.name==="DataCloneError")throw Ce;w.location.assign(se)}I&&N&&N({action:P,location:A.location,delta:1})}function ne(Z,z){P=tr.Replace;let q=ju(A.location,Z,z);f&&f(q,Z),x=S();let Y=Dd(q,x),se=A.createHref(q);O.replaceState(Y,"",se),I&&N&&N({action:P,location:A.location,delta:0})}function k(Z){let z=w.location.origin!=="null"?w.location.origin:w.location.href,q=typeof Z=="string"?Z:ts(Z);return q=q.replace(/ $/,"%20"),Ct(z,"No window.location.(origin|href) available to create URL for href: "+q),new URL(q,z)}let A={get action(){return P},get location(){return p(w,O)},listen(Z){if(N)throw new Error("A history only accepts one active listener");return w.addEventListener(Bd,F),N=Z,()=>{w.removeEventListener(Bd,F),N=null}},createHref(Z){return m(w,Z)},createURL:k,encodeLocation(Z){let z=k(Z);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:V,replace:ne,go(Z){return O.go(Z)}};return A}var Rd;(function(p){p.data="data",p.deferred="deferred",p.redirect="redirect",p.error="error"})(Rd||(Rd={}));function ff(p,m,f){return f===void 0&&(f="/"),pf(p,m,f)}function pf(p,m,f,y){let w=typeof m=="string"?Ar(m):m,I=Hu(w.pathname||"/",f);if(I==null)return null;let O=eh(p);mf(O);let P=null;for(let N=0;P==null&&N<O.length;++N){let x=Tf(I);P=bf(O[N],x)}return P}function eh(p,m,f,y){m===void 0&&(m=[]),f===void 0&&(f=[]),y===void 0&&(y="");let w=(I,O,P)=>{let N={relativePath:P===void 0?I.path||"":P,caseSensitive:I.caseSensitive===!0,childrenIndex:O,route:I};N.relativePath.startsWith("/")&&(Ct(N.relativePath.startsWith(y),'Absolute route path "'+N.relativePath+'" nested under path '+('"'+y+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),N.relativePath=N.relativePath.slice(y.length));let x=ir([y,N.relativePath]),S=f.concat(N);I.children&&I.children.length>0&&(Ct(I.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+x+'".')),eh(I.children,m,S,x)),!(I.path==null&&!I.index)&&m.push({path:x,score:xf(x,I.index),routesMeta:S})};return p.forEach((I,O)=>{var P;if(I.path===""||!((P=I.path)!=null&&P.includes("?")))w(I,O);else for(let N of th(I.path))w(I,O,N)}),m}function th(p){let m=p.split("/");if(m.length===0)return[];let[f,...y]=m,w=f.endsWith("?"),I=f.replace(/\?$/,"");if(y.length===0)return w?[I,""]:[I];let O=th(y.join("/")),P=[];return P.push(...O.map(N=>N===""?I:[I,N].join("/"))),w&&P.push(...O),P.map(N=>p.startsWith("/")&&N===""?"/":N)}function mf(p){p.sort((m,f)=>m.score!==f.score?f.score-m.score:Sf(m.routesMeta.map(y=>y.childrenIndex),f.routesMeta.map(y=>y.childrenIndex)))}const gf=/^:[\w-]+$/,vf=3,yf=2,_f=1,wf=10,Cf=-2,Fd=p=>p==="*";function xf(p,m){let f=p.split("/"),y=f.length;return f.some(Fd)&&(y+=Cf),m&&(y+=yf),f.filter(w=>!Fd(w)).reduce((w,I)=>w+(gf.test(I)?vf:I===""?_f:wf),y)}function Sf(p,m){return p.length===m.length&&p.slice(0,-1).every((y,w)=>y===m[w])?p[p.length-1]-m[m.length-1]:0}function bf(p,m,f){let{routesMeta:y}=p,w={},I="/",O=[];for(let P=0;P<y.length;++P){let N=y[P],x=P===y.length-1,S=I==="/"?m:m.slice(I.length)||"/",F=kf({path:N.relativePath,caseSensitive:N.caseSensitive,end:x},S),V=N.route;if(!F)return null;Object.assign(w,F.params),O.push({params:w,pathname:ir([I,F.pathname]),pathnameBase:Nf(ir([I,F.pathnameBase])),route:V}),F.pathnameBase!=="/"&&(I=ir([I,F.pathnameBase]))}return O}function kf(p,m){typeof p=="string"&&(p={path:p,caseSensitive:!1,end:!0});let[f,y]=Pf(p.path,p.caseSensitive,p.end),w=m.match(f);if(!w)return null;let I=w[0],O=I.replace(/(.)\/+$/,"$1"),P=w.slice(1);return{params:y.reduce((x,S,F)=>{let{paramName:V,isOptional:ne}=S;if(V==="*"){let A=P[F]||"";O=I.slice(0,I.length-A.length).replace(/(.)\/+$/,"$1")}const k=P[F];return ne&&!k?x[V]=void 0:x[V]=(k||"").replace(/%2F/g,"/"),x},{}),pathname:I,pathnameBase:O,pattern:p}}function Pf(p,m,f){m===void 0&&(m=!1),f===void 0&&(f=!0),Wu(p==="*"||!p.endsWith("*")||p.endsWith("/*"),'Route path "'+p+'" will be treated as if it were '+('"'+p.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+p.replace(/\*$/,"/*")+'".'));let y=[],w="^"+p.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(O,P,N)=>(y.push({paramName:P,isOptional:N!=null}),N?"/?([^\\/]+)?":"/([^\\/]+)"));return p.endsWith("*")?(y.push({paramName:"*"}),w+=p==="*"||p==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):f?w+="\\/*$":p!==""&&p!=="/"&&(w+="(?:(?=\\/|$))"),[new RegExp(w,m?void 0:"i"),y]}function Tf(p){try{return p.split("/").map(m=>decodeURIComponent(m).replace(/\//g,"%2F")).join("/")}catch(m){return Wu(!1,'The URL path "'+p+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+m+").")),p}}function Hu(p,m){if(m==="/")return p;if(!p.toLowerCase().startsWith(m.toLowerCase()))return null;let f=m.endsWith("/")?m.length-1:m.length,y=p.charAt(f);return y&&y!=="/"?null:p.slice(f)||"/"}function Ef(p,m){m===void 0&&(m="/");let{pathname:f,search:y="",hash:w=""}=typeof p=="string"?Ar(p):p;return{pathname:f?f.startsWith("/")?f:Lf(f,m):m,search:zf(y),hash:If(w)}}function Lf(p,m){let f=m.replace(/\/+$/,"").split("/");return p.split("/").forEach(w=>{w===".."?f.length>1&&f.pop():w!=="."&&f.push(w)}),f.length>1?f.join("/"):"/"}function Au(p,m,f,y){return"Cannot include a '"+p+"' character in a manually specified "+("`to."+m+"` field ["+JSON.stringify(y)+"].  Please separate it out to the ")+("`to."+f+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Of(p){return p.filter((m,f)=>f===0||m.route.path&&m.route.path.length>0)}function nh(p,m){let f=Of(p);return m?f.map((y,w)=>w===f.length-1?y.pathname:y.pathnameBase):f.map(y=>y.pathnameBase)}function ih(p,m,f,y){y===void 0&&(y=!1);let w;typeof p=="string"?w=Ar(p):(w=Ta({},p),Ct(!w.pathname||!w.pathname.includes("?"),Au("?","pathname","search",w)),Ct(!w.pathname||!w.pathname.includes("#"),Au("#","pathname","hash",w)),Ct(!w.search||!w.search.includes("#"),Au("#","search","hash",w)));let I=p===""||w.pathname==="",O=I?"/":w.pathname,P;if(O==null)P=f;else{let F=m.length-1;if(!y&&O.startsWith("..")){let V=O.split("/");for(;V[0]==="..";)V.shift(),F-=1;w.pathname=V.join("/")}P=F>=0?m[F]:"/"}let N=Ef(w,P),x=O&&O!=="/"&&O.endsWith("/"),S=(I||O===".")&&f.endsWith("/");return!N.pathname.endsWith("/")&&(x||S)&&(N.pathname+="/"),N}const ir=p=>p.join("/").replace(/\/\/+/g,"/"),Nf=p=>p.replace(/\/+$/,"").replace(/^\/*/,"/"),zf=p=>!p||p==="?"?"":p.startsWith("?")?p:"?"+p,If=p=>!p||p==="#"?"":p.startsWith("#")?p:"#"+p;function Mf(p){return p!=null&&typeof p.status=="number"&&typeof p.statusText=="string"&&typeof p.internal=="boolean"&&"data"in p}const rh=["post","put","patch","delete"];new Set(rh);const Af=["get",...rh];new Set(Af);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ea(){return Ea=Object.assign?Object.assign.bind():function(p){for(var m=1;m<arguments.length;m++){var f=arguments[m];for(var y in f)Object.prototype.hasOwnProperty.call(f,y)&&(p[y]=f[y])}return p},Ea.apply(this,arguments)}const Vu=T.createContext(null),Bf=T.createContext(null),Br=T.createContext(null),os=T.createContext(null),rr=T.createContext({outlet:null,matches:[],isDataRoute:!1}),oh=T.createContext(null);function Df(p,m){let{relative:f}=m===void 0?{}:m;La()||Ct(!1);let{basename:y,navigator:w}=T.useContext(Br),{hash:I,pathname:O,search:P}=lh(p,{relative:f}),N=O;return y!=="/"&&(N=O==="/"?y:ir([y,O])),w.createHref({pathname:N,search:P,hash:I})}function La(){return T.useContext(os)!=null}function Oa(){return La()||Ct(!1),T.useContext(os).location}function ah(p){T.useContext(Br).static||T.useLayoutEffect(p)}function fn(){let{isDataRoute:p}=T.useContext(rr);return p?Qf():Rf()}function Rf(){La()||Ct(!1);let p=T.useContext(Vu),{basename:m,future:f,navigator:y}=T.useContext(Br),{matches:w}=T.useContext(rr),{pathname:I}=Oa(),O=JSON.stringify(nh(w,f.v7_relativeSplatPath)),P=T.useRef(!1);return ah(()=>{P.current=!0}),T.useCallback(function(x,S){if(S===void 0&&(S={}),!P.current)return;if(typeof x=="number"){y.go(x);return}let F=ih(x,JSON.parse(O),I,S.relative==="path");p==null&&m!=="/"&&(F.pathname=F.pathname==="/"?m:ir([m,F.pathname])),(S.replace?y.replace:y.push)(F,S.state,S)},[m,y,O,I,p])}const Ff=T.createContext(null);function jf(p){let m=T.useContext(rr).outlet;return m&&T.createElement(Ff.Provider,{value:p},m)}function lh(p,m){let{relative:f}=m===void 0?{}:m,{future:y}=T.useContext(Br),{matches:w}=T.useContext(rr),{pathname:I}=Oa(),O=JSON.stringify(nh(w,y.v7_relativeSplatPath));return T.useMemo(()=>ih(p,JSON.parse(O),I,f==="path"),[p,O,I,f])}function Uf(p,m){return Zf(p,m)}function Zf(p,m,f,y){La()||Ct(!1);let{navigator:w}=T.useContext(Br),{matches:I}=T.useContext(rr),O=I[I.length-1],P=O?O.params:{};O&&O.pathname;let N=O?O.pathnameBase:"/";O&&O.route;let x=Oa(),S;if(m){var F;let Z=typeof m=="string"?Ar(m):m;N==="/"||(F=Z.pathname)!=null&&F.startsWith(N)||Ct(!1),S=Z}else S=x;let V=S.pathname||"/",ne=V;if(N!=="/"){let Z=N.replace(/^\//,"").split("/");ne="/"+V.replace(/^\//,"").split("/").slice(Z.length).join("/")}let k=ff(p,{pathname:ne}),A=Gf(k&&k.map(Z=>Object.assign({},Z,{params:Object.assign({},P,Z.params),pathname:ir([N,w.encodeLocation?w.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?N:ir([N,w.encodeLocation?w.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),I,f,y);return m&&A?T.createElement(os.Provider,{value:{location:Ea({pathname:"/",search:"",hash:"",state:null,key:"default"},S),navigationType:tr.Pop}},A):A}function $f(){let p=Jf(),m=Mf(p)?p.status+" "+p.statusText:p instanceof Error?p.message:JSON.stringify(p),f=p instanceof Error?p.stack:null,w={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},m),f?T.createElement("pre",{style:w},f):null,null)}const Wf=T.createElement($f,null);class Hf extends T.Component{constructor(m){super(m),this.state={location:m.location,revalidation:m.revalidation,error:m.error}}static getDerivedStateFromError(m){return{error:m}}static getDerivedStateFromProps(m,f){return f.location!==m.location||f.revalidation!=="idle"&&m.revalidation==="idle"?{error:m.error,location:m.location,revalidation:m.revalidation}:{error:m.error!==void 0?m.error:f.error,location:f.location,revalidation:m.revalidation||f.revalidation}}componentDidCatch(m,f){console.error("React Router caught the following error during render",m,f)}render(){return this.state.error!==void 0?T.createElement(rr.Provider,{value:this.props.routeContext},T.createElement(oh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Vf(p){let{routeContext:m,match:f,children:y}=p,w=T.useContext(Vu);return w&&w.static&&w.staticContext&&(f.route.errorElement||f.route.ErrorBoundary)&&(w.staticContext._deepestRenderedBoundaryId=f.route.id),T.createElement(rr.Provider,{value:m},y)}function Gf(p,m,f,y){var w;if(m===void 0&&(m=[]),f===void 0&&(f=null),y===void 0&&(y=null),p==null){var I;if(!f)return null;if(f.errors)p=f.matches;else if((I=y)!=null&&I.v7_partialHydration&&m.length===0&&!f.initialized&&f.matches.length>0)p=f.matches;else return null}let O=p,P=(w=f)==null?void 0:w.errors;if(P!=null){let S=O.findIndex(F=>F.route.id&&(P==null?void 0:P[F.route.id])!==void 0);S>=0||Ct(!1),O=O.slice(0,Math.min(O.length,S+1))}let N=!1,x=-1;if(f&&y&&y.v7_partialHydration)for(let S=0;S<O.length;S++){let F=O[S];if((F.route.HydrateFallback||F.route.hydrateFallbackElement)&&(x=S),F.route.id){let{loaderData:V,errors:ne}=f,k=F.route.loader&&V[F.route.id]===void 0&&(!ne||ne[F.route.id]===void 0);if(F.route.lazy||k){N=!0,x>=0?O=O.slice(0,x+1):O=[O[0]];break}}}return O.reduceRight((S,F,V)=>{let ne,k=!1,A=null,Z=null;f&&(ne=P&&F.route.id?P[F.route.id]:void 0,A=F.route.errorElement||Wf,N&&(x<0&&V===0?(Xf("route-fallback"),k=!0,Z=null):x===V&&(k=!0,Z=F.route.hydrateFallbackElement||null)));let z=m.concat(O.slice(0,V+1)),q=()=>{let Y;return ne?Y=A:k?Y=Z:F.route.Component?Y=T.createElement(F.route.Component,null):F.route.element?Y=F.route.element:Y=S,T.createElement(Vf,{match:F,routeContext:{outlet:S,matches:z,isDataRoute:f!=null},children:Y})};return f&&(F.route.ErrorBoundary||F.route.errorElement||V===0)?T.createElement(Hf,{location:f.location,revalidation:f.revalidation,component:A,error:ne,children:q(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):q()},null)}var sh=function(p){return p.UseBlocker="useBlocker",p.UseRevalidator="useRevalidator",p.UseNavigateStable="useNavigate",p}(sh||{}),uh=function(p){return p.UseBlocker="useBlocker",p.UseLoaderData="useLoaderData",p.UseActionData="useActionData",p.UseRouteError="useRouteError",p.UseNavigation="useNavigation",p.UseRouteLoaderData="useRouteLoaderData",p.UseMatches="useMatches",p.UseRevalidator="useRevalidator",p.UseNavigateStable="useNavigate",p.UseRouteId="useRouteId",p}(uh||{});function Kf(p){let m=T.useContext(Vu);return m||Ct(!1),m}function Yf(p){let m=T.useContext(Bf);return m||Ct(!1),m}function qf(p){let m=T.useContext(rr);return m||Ct(!1),m}function ch(p){let m=qf(),f=m.matches[m.matches.length-1];return f.route.id||Ct(!1),f.route.id}function Jf(){var p;let m=T.useContext(oh),f=Yf(),y=ch();return m!==void 0?m:(p=f.errors)==null?void 0:p[y]}function Qf(){let{router:p}=Kf(sh.UseNavigateStable),m=ch(uh.UseNavigateStable),f=T.useRef(!1);return ah(()=>{f.current=!0}),T.useCallback(function(w,I){I===void 0&&(I={}),f.current&&(typeof w=="number"?p.navigate(w):p.navigate(w,Ea({fromRouteId:m},I)))},[p,m])}const jd={};function Xf(p,m,f){jd[p]||(jd[p]=!0)}function ep(p){return jf(p.context)}function Ft(p){Ct(!1)}function tp(p){let{basename:m="/",children:f=null,location:y,navigationType:w=tr.Pop,navigator:I,static:O=!1,future:P}=p;La()&&Ct(!1);let N=m.replace(/^\/*/,"/"),x=T.useMemo(()=>({basename:N,navigator:I,static:O,future:Ea({v7_relativeSplatPath:!1},P)}),[N,P,I,O]);typeof y=="string"&&(y=Ar(y));let{pathname:S="/",search:F="",hash:V="",state:ne=null,key:k="default"}=y,A=T.useMemo(()=>{let Z=Hu(S,N);return Z==null?null:{location:{pathname:Z,search:F,hash:V,state:ne,key:k},navigationType:w}},[N,S,F,V,ne,k,w]);return A==null?null:T.createElement(Br.Provider,{value:x},T.createElement(os.Provider,{children:f,value:A}))}function np(p){let{children:m,location:f}=p;return Uf(Uu(m),f)}new Promise(()=>{});function Uu(p,m){m===void 0&&(m=[]);let f=[];return T.Children.forEach(p,(y,w)=>{if(!T.isValidElement(y))return;let I=[...m,w];if(y.type===T.Fragment){f.push.apply(f,Uu(y.props.children,I));return}y.type!==Ft&&Ct(!1),!y.props.index||!y.props.children||Ct(!1);let O={id:y.props.id||I.join("-"),caseSensitive:y.props.caseSensitive,element:y.props.element,Component:y.props.Component,index:y.props.index,path:y.props.path,loader:y.props.loader,action:y.props.action,errorElement:y.props.errorElement,ErrorBoundary:y.props.ErrorBoundary,hasErrorBoundary:y.props.ErrorBoundary!=null||y.props.errorElement!=null,shouldRevalidate:y.props.shouldRevalidate,handle:y.props.handle,lazy:y.props.lazy};y.props.children&&(O.children=Uu(y.props.children,I)),f.push(O)}),f}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zu(){return Zu=Object.assign?Object.assign.bind():function(p){for(var m=1;m<arguments.length;m++){var f=arguments[m];for(var y in f)Object.prototype.hasOwnProperty.call(f,y)&&(p[y]=f[y])}return p},Zu.apply(this,arguments)}function ip(p,m){if(p==null)return{};var f={},y=Object.keys(p),w,I;for(I=0;I<y.length;I++)w=y[I],!(m.indexOf(w)>=0)&&(f[w]=p[w]);return f}function rp(p){return!!(p.metaKey||p.altKey||p.ctrlKey||p.shiftKey)}function op(p,m){return p.button===0&&(!m||m==="_self")&&!rp(p)}const ap=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],lp="6";try{window.__reactRouterVersion=lp}catch{}const sp="startTransition",Ud=nf[sp];function up(p){let{basename:m,children:f,future:y,window:w}=p,I=T.useRef();I.current==null&&(I.current=cf({window:w,v5Compat:!0}));let O=I.current,[P,N]=T.useState({action:O.action,location:O.location}),{v7_startTransition:x}=y||{},S=T.useCallback(F=>{x&&Ud?Ud(()=>N(F)):N(F)},[N,x]);return T.useLayoutEffect(()=>O.listen(S),[O,S]),T.createElement(tp,{basename:m,children:f,location:P.location,navigationType:P.action,navigator:O,future:y})}const cp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pn=T.forwardRef(function(m,f){let{onClick:y,relative:w,reloadDocument:I,replace:O,state:P,target:N,to:x,preventScrollReset:S,unstable_viewTransition:F}=m,V=ip(m,ap),{basename:ne}=T.useContext(Br),k,A=!1;if(typeof x=="string"&&dp.test(x)&&(k=x,cp))try{let Y=new URL(window.location.href),se=x.startsWith("//")?new URL(Y.protocol+x):new URL(x),Ce=Hu(se.pathname,ne);se.origin===Y.origin&&Ce!=null?x=Ce+se.search+se.hash:A=!0}catch{}let Z=Df(x,{relative:w}),z=hp(x,{replace:O,state:P,target:N,preventScrollReset:S,relative:w,unstable_viewTransition:F});function q(Y){y&&y(Y),Y.defaultPrevented||z(Y)}return T.createElement("a",Zu({},V,{href:k||Z,onClick:A||I?y:q,ref:f,target:N}))});var Zd;(function(p){p.UseScrollRestoration="useScrollRestoration",p.UseSubmit="useSubmit",p.UseSubmitFetcher="useSubmitFetcher",p.UseFetcher="useFetcher",p.useViewTransitionState="useViewTransitionState"})(Zd||(Zd={}));var $d;(function(p){p.UseFetcher="useFetcher",p.UseFetchers="useFetchers",p.UseScrollRestoration="useScrollRestoration"})($d||($d={}));function hp(p,m){let{target:f,replace:y,state:w,preventScrollReset:I,relative:O,unstable_viewTransition:P}=m===void 0?{}:m,N=fn(),x=Oa(),S=lh(p,{relative:O});return T.useCallback(F=>{if(op(F,f)){F.preventDefault();let V=y!==void 0?y:ts(x)===ts(S);N(p,{replace:V,state:w,preventScrollReset:I,relative:O,unstable_viewTransition:P})}},[x,N,S,y,w,f,p,I,O,P])}var Bu={exports:{}},ka={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wd;function fp(){if(Wd)return ka;Wd=1;var p=rs(),m=Symbol.for("react.element"),f=Symbol.for("react.fragment"),y=Object.prototype.hasOwnProperty,w=p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,I={key:!0,ref:!0,__self:!0,__source:!0};function O(P,N,x){var S,F={},V=null,ne=null;x!==void 0&&(V=""+x),N.key!==void 0&&(V=""+N.key),N.ref!==void 0&&(ne=N.ref);for(S in N)y.call(N,S)&&!I.hasOwnProperty(S)&&(F[S]=N[S]);if(P&&P.defaultProps)for(S in N=P.defaultProps,N)F[S]===void 0&&(F[S]=N[S]);return{$$typeof:m,type:P,key:V,ref:ne,props:F,_owner:w.current}}return ka.Fragment=f,ka.jsx=O,ka.jsxs=O,ka}var Hd;function pp(){return Hd||(Hd=1,Bu.exports=fp()),Bu.exports}var dh=pp();const o=dh.jsx,d=dh.jsxs,mp=(p,m)=>{switch(m.type){case"SET_USER_DETAILS":return{...p,...m.payload};case"SET_PATIENT_DETAILS":return{...p,...m.payload};case"SET_LOCATION":return{...p,...m.payload};default:return p}},gp={spineUrl:"https://10.0.14.98:5001",userPhotoUrl:null,user:null,userID:null,category:null,department:null,role:null,accessLevel:null,employer:null,branch:null,token:null,referenceLibrary:null,clinicianGrades:null,clinicianSpecialties:null,userState:null,allStates:[],serviceBranches:[],configurations:[]},en=T.createContext(),vp=p=>{const m=localStorage.getItem("appState")?JSON.parse(localStorage.getItem("appState")):gp,[f,y]=T.useReducer(mp,m);T.useEffect(()=>{localStorage.setItem("appState",JSON.stringify(f))},[f]);const w=async N=>{try{y({type:"SET_USER_DETAILS",payload:N})}catch(x){console.error("Failed to fetch staff details:",x)}},I=async N=>{try{y({type:"SET_PATIENT_DETAILS",payload:N})}catch(x){console.error("Failed to fetch patient details:",x)}},O=T.useCallback(async N=>{try{y({type:"SET_LOCATION",payload:N})}catch(x){console.error("Failed to update location:",x)}},[]),P=()=>{w({type:"SET_USER_DETAILS",payload:{}}),localStorage.removeItem("token"),localStorage.removeItem("appState")};return o(en.Provider,{value:{state:f,dispatch:y,updateUser:w,updatePatient:I,updateLocation:O,logout:P},children:p.children})};function yp(){const{state:p,updateUser:m,logout:f}=T.useContext(en),[y,w]=T.useState("advert"),{spineUrl:I,token:O}=p,[P,N]=T.useState({}),[x,S]=T.useState(!1),F=fn();T.useEffect(()=>{const q=async()=>{console.log(I);try{const Ce=await fetch(`${I}/auth/check_accreditation`,{method:"GET"});if(Ce.ok)(await Ce.json()).accredited?w("login"):(f(),w("advert"));else{f(),w("advert");const Be=await Ce.json();console.error("Error checking accreditation:",Ce.statusText)}}catch(Ce){console.error("Error checking accreditation:",Ce),w("advert")}};setTimeout(()=>{q()},3e3),q();const se=setInterval(q,6e3);return()=>clearInterval(se)},[]),T.useEffect(()=>{const q=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(se=>{N(Ce=>({...Ce,latitude:se.coords.latitude,longitude:se.coords.longitude}))},se=>{console.error("Error fetching location:",se),alert("Unable to fetch location. Please enable location access.")}):alert("Geolocation is not supported by your browser.")};q();const Y=setInterval(q,3e3);return()=>clearInterval(Y)},[]);const V=async()=>{S(!0);try{if(!P.email||!P.password){alert("Please fill in all required fields.");return}console.log(I);const q=await fetch(`${I}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dispensaryID:P.dispensaryID,email:P.email,password:P.password,latitude:P.latitude,longitude:P.longitude})});if(q.ok){const Y=await q.json();m(Y.userData),F("/totp-page")}else{let Y="An error occurred. Please try again.";try{Y=(await q.json()).message||Y}catch(se){console.error("Error parsing error response:",se)}alert(Y),console.error("Failed to log in:",q.statusText)}}catch(q){console.error("Login error:",q),alert("An error occurred. Please check your network and try again."),alert(I)}finally{S(!1)}},ne={backgroundColor:"orange",height:"100vh",width:"100vw",overflowY:"hidden",overflowX:"hidden",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},k={width:"50%",gap:"20px"},A={},Z={backgroundColor:"white",width:"50%",height:"1.5rem",borderRadius:"10px",margin:"10px",textAlign:"center",color:"green"},z={cursor:x?"wait":"default"};return d("div",{children:[y==="loading"&&o("div",{style:{...ne,cursor:x?"wait":"default"}}),y==="advert"&&o("div",{style:{...ne,cursor:x?"wait":"default"},children:o("h1",{style:{color:"green"},children:"Unauthorized!!!"})}),y==="login"&&d("div",{style:{...ne,cursor:x?"wait":"default"},children:[o("h1",{style:{color:"green"},children:"PrescribeNg Staff Portal"}),d("div",{style:k,children:[o("div",{style:A,children:o("input",{type:"email",style:Z,value:P.email,onChange:q=>N({...P,email:q.target.value}),placeholder:"PrescribeNg Work Email'"})}),o("div",{style:A,children:o("input",{type:"password",style:Z,value:P.password,onChange:q=>N({...P,password:q.target.value}),placeholder:"Password"})}),o("button",{style:z,onClick:V,children:"Login"})]})]})]})}function _p(){const{state:p,logout:m,updateUser:f}=T.useContext(en),{spineUrl:y,token:w}=p,[I,O]=T.useState(""),P=fn();return o("div",{style:{backgroundColor:"orange",color:"black",height:"100vh",width:"100vw",overflowY:"hidden",overflowX:"hidden",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},children:d("div",{style:{backgroundColor:"orange",width:"40%",height:"30%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},children:[o("input",{style:{backgroundColor:"white",color:"black",border:"none",borderRadius:"7px",width:"70%",height:"2.5rem",textAlign:"center"},value:I,onChange:Z=>O(Z.target.value),placeholder:"Enter 'TOTP' from sms/email"}),d("div",{style:{height:"40px",width:"50%",gap:"10px",marginTop:"30px",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[o("span",{style:{height:"30px",width:"50px",color:"green",textDecoration:"underline",fontSize:"1.2rem",cursor:"pointer",margin:"10px"},onClick:async()=>{try{const Z=await fetch(`${y}/auth/multifactor_authentication`,{method:"POST",headers:{Authorization:`Bearer ${w}`,"Content-Type":"application/json"},body:JSON.stringify({totp:I})});if(console.log("Response Status:",Z.status),Z.ok){const z=await Z.json();console.log("Received Data:",z),f({token:z.token}),P("/home")}else{const z=await Z.json();alert(z.message)}}catch(Z){console.error("Error validating OTP:",Z)}},children:"Submit"}),o("span",{style:{height:"30px",width:"50px",color:"blue",textDecoration:"underline",fontSize:"1.2rem",cursor:"pointer"},onClick:()=>{m(),P("/")},children:"cancel"})]})]})})}var hh={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Vd=nr.createContext&&nr.createContext(hh),wp=["attr","size","title"];function Cp(p,m){if(p==null)return{};var f=xp(p,m),y,w;if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(p);for(w=0;w<I.length;w++)y=I[w],!(m.indexOf(y)>=0)&&Object.prototype.propertyIsEnumerable.call(p,y)&&(f[y]=p[y])}return f}function xp(p,m){if(p==null)return{};var f={};for(var y in p)if(Object.prototype.hasOwnProperty.call(p,y)){if(m.indexOf(y)>=0)continue;f[y]=p[y]}return f}function ns(){return ns=Object.assign?Object.assign.bind():function(p){for(var m=1;m<arguments.length;m++){var f=arguments[m];for(var y in f)Object.prototype.hasOwnProperty.call(f,y)&&(p[y]=f[y])}return p},ns.apply(this,arguments)}function Gd(p,m){var f=Object.keys(p);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(p);m&&(y=y.filter(function(w){return Object.getOwnPropertyDescriptor(p,w).enumerable})),f.push.apply(f,y)}return f}function is(p){for(var m=1;m<arguments.length;m++){var f=arguments[m]!=null?arguments[m]:{};m%2?Gd(Object(f),!0).forEach(function(y){Sp(p,y,f[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(f)):Gd(Object(f)).forEach(function(y){Object.defineProperty(p,y,Object.getOwnPropertyDescriptor(f,y))})}return p}function Sp(p,m,f){return m=bp(m),m in p?Object.defineProperty(p,m,{value:f,enumerable:!0,configurable:!0,writable:!0}):p[m]=f,p}function bp(p){var m=kp(p,"string");return typeof m=="symbol"?m:m+""}function kp(p,m){if(typeof p!="object"||!p)return p;var f=p[Symbol.toPrimitive];if(f!==void 0){var y=f.call(p,m);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(p)}function fh(p){return p&&p.map((m,f)=>nr.createElement(m.tag,is({key:f},m.attr),fh(m.child)))}function Lo(p){return m=>nr.createElement(Pp,ns({attr:is({},p.attr)},m),fh(p.child))}function Pp(p){var m=f=>{var{attr:y,size:w,title:I}=p,O=Cp(p,wp),P=w||f.size||"1em",N;return f.className&&(N=f.className),p.className&&(N=(N?N+" ":"")+p.className),nr.createElement("svg",ns({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},f.attr,y,O,{className:N,style:is(is({color:p.color||f.color},f.style),p.style),height:P,width:P,xmlns:"http://www.w3.org/2000/svg"}),I&&nr.createElement("title",null,I),p.children)};return Vd!==void 0?nr.createElement(Vd.Consumer,null,f=>m(f)):m(hh)}function Tp(p){return Lo({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(p)}function Kd(p){return Lo({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(p)}function Ep(p){return Lo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(p)}function Lp(p){return Lo({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M610.5 373.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 400.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm201.2 226.5c-2.3-1.2-4.6-2.6-6.8-3.9l-7.9 4.6c-6 3.4-12.8 5.3-19.6 5.3-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-5.5-17.7 1.9-36.4 17.9-45.7l7.9-4.6c-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-16-9.2-23.4-28-17.9-45.7.9-2.9 2.2-5.8 3.2-8.7-3.8-.3-7.5-1.2-11.4-1.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c10.1 0 19.5-3.2 27.2-8.5-1.2-3.8-2-7.7-2-11.8v-9.2z"},child:[]}]})(p)}function Mr(p){return Lo({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zM104 424c0 13.3 10.7 24 24 24s24-10.7 24-24-10.7-24-24-24-24 10.7-24 24zm216-135.4v49c36.5 7.4 64 39.8 64 78.4v41.7c0 7.6-5.4 14.2-12.9 15.7l-32.2 6.4c-4.3.9-8.5-1.9-9.4-6.3l-3.1-15.7c-.9-4.3 1.9-8.6 6.3-9.4l19.3-3.9V416c0-62.8-96-65.1-96 1.9v26.7l19.3 3.9c4.3.9 7.1 5.1 6.3 9.4l-3.1 15.7c-.9 4.3-5.1 7.1-9.4 6.3l-31.2-4.2c-7.9-1.1-13.8-7.8-13.8-15.9V416c0-38.6 27.5-70.9 64-78.4v-45.2c-2.2.7-4.4 1.1-6.6 1.9-18 6.3-37.3 9.8-57.4 9.8s-39.4-3.5-57.4-9.8c-7.4-2.6-14.9-4.2-22.6-5.2v81.6c23.1 6.9 40 28.1 40 53.4 0 30.9-25.1 56-56 56s-56-25.1-56-56c0-25.3 16.9-46.5 40-53.4v-80.4C48.5 301 0 355.8 0 422.4v44.8C0 491.9 20.1 512 44.8 512h358.4c24.7 0 44.8-20.1 44.8-44.8v-44.8c0-72-56.8-130.3-128-133.8z"},child:[]}]})(p)}function Yd(p){return Lo({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(p)}function Op(){const{state:p}=T.useContext(en),{userState:m,user:f,userPhotoUrl:y,branch:w}=p,[I,O]=T.useState(!1),P=fn(),N=Oa(),x=()=>{P("/")},S=()=>{P("")},F=()=>d("div",{style:ne.container,children:[d(Pn,{to:"",style:V(""),children:[o(Kd,{})," Home"]}),d(Pn,{to:"manage-administrators",style:V("manage-administrators"),children:[o(Yd,{})," Manage Administrators"]}),d(Pn,{to:"organisation-signup",style:V("organisation-signup"),children:[o(Lp,{})," Organisation Signup"]}),d(Pn,{to:"manage-organisations",style:V("manage-organisations"),children:[o(Yd,{})," Manage Dispensaries"]}),d(Pn,{to:"clinician-signup",style:V("clinician-signup"),children:[o(Mr,{})," Clinician Signup-"]}),d(Pn,{to:"manage-clinicians",style:V("manage-clinicians"),children:[o(Mr,{})," Manage Clinicians"]}),d(Pn,{to:"patient-signup",style:V("patient-signup"),children:[o(Mr,{})," Patient Signup"]}),d(Pn,{to:"manage-patients",style:V("manage-patients"),children:[o(Mr,{})," Manage Patients"]}),d(Pn,{to:"prescribeng-services",style:V("prescribeng-services"),children:[o(Mr,{})," Manage Services"]}),d(Pn,{to:"ambulance-call-center",style:V("ambulance-call-center"),children:[o(Mr,{})," Ambulance Call Centre"]}),d(Pn,{to:"ambulance-fleet",style:V("ambulance-fleet"),children:[o(Mr,{})," Devices"]}),d(Pn,{to:"notifications",style:V("notifications"),children:[o(Tp,{})," Notifications"]})]}),V=A=>N.pathname.split("/").pop()===A?{...ne.general,backgroundColor:"#3498db"}:ne.general,ne={container:{display:"flex",flexDirection:"column",alignItems:"center",paddingTop:"20px"},general:{display:"flex",alignItems:"center",color:"white",backgroundColor:"#333",padding:"12px 18px",margin:"10px 0",textDecoration:"none",borderRadius:"8px",width:"90%",justifyContent:"center",fontSize:"1.1rem",transition:"background-color 0.3s ease"}},k={page:{color:"black",height:"100vh",width:"100vw",overflowY:"hidden",display:"flex"},header:{position:"sticky",top:"15px",color:"#333",height:"10vh",width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 20px",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.1)"},headerText:{fontSize:"1.3rem",fontWeight:"bold"},photoContainer:{position:"sticky",top:"10px",left:"80px",backgroundColor:"#fff",height:"150px",width:"200px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden"},image:{height:"100%",width:"100%",objectFit:"cover"},placeholderText:{color:"#666",fontSize:"16px",fontStyle:"italic",textAlign:"center"},logoutButton:{position:"absolute",top:"10px",right:"50px",backgroundColor:"#FF4747",color:"white",borderRadius:"5px",padding:"10px 20px",cursor:"pointer",fontSize:"1.1rem",border:"none",transition:"background-color 0.3s ease"},sideBar:{height:"95vh",width:"220px",backgroundColor:"#2c3e50",color:"white",margin:"15px",borderRadius:"10px",paddingLeft:"20px",paddingRight:"20px",borderTopRightRadius:"10px",borderBottomRightRadius:"10px",overflowY:"auto"},displayBoard:{flex:1,marginLeft:"0px",padding:"20px",backgroundColor:"#ecf0f1",height:"94vh"}};return d("div",{style:{...k.page,cursor:I?"wait":"default"},children:[d("div",{style:k.sideBar,children:[o("div",{style:k.photoContainer,children:y?o("img",{src:y,style:k.image,alt:"User's photo"}):o("div",{style:k.placeholderText,children:"Photo Not Found"})}),o("p",{style:{position:"sticky",top:"170px",backgroundColor:"#2c3e50"},children:d("strong",{children:["User: ",f," (",m,")"]})}),F()]}),d("div",{style:k.displayBoard,children:[o("div",{style:k.header,children:d("p",{style:k.headerText,children:[o(Kd,{style:{cursor:"pointer"},onClick:S}),"/",N.pathname.split("/").pop()]})}),o(ep,{})]}),d("button",{onClick:x,style:k.logoutButton,children:[o(Ep,{})," Logout"]})]})}const Du=[{id:1,title:"PRESCRIBE.NG",subtitle:"Highly versitile and adaptable medical referral system for al kinds of medical referrals",image:"/images/welcome.jpg"},{id:2,title:"Cutting-Edge Medical Referrals",subtitle:"Connecting Physicians and Patients Effortlessly",image:"/images/referral.jpg"},{id:3,title:"Partner with Us",subtitle:"Innovative Healthcare Solutions for Every Community",image:"/images/partner.jpg"},{id:4,title:"Join the Future of Healthcare referrals in the UK",subtitle:"Highly-adaptable. Hassle-free. Minimal clicks. Seamless. Highly secure.",image:"/images/future.jpg"}],Np=()=>{const[p,m]=T.useState(0);T.useEffect(()=>{const x=setInterval(()=>{m(S=>(S+1)%Du.length)},8e3);return()=>clearInterval(x)},[]);const f={position:"relative",width:"100%",height:"80vh",overflow:"hidden"},y=(x,S)=>({position:"absolute",width:"100%",height:"100%",backgroundSize:"cover",backgroundPosition:"center",backgroundImage:`url(${x})`,backgroundColor:"white",opacity:S?1:0,transform:S?"translateX(0)":"translateX(100%)",transition:"all 1s ease-in-out"}),w={position:"absolute",bottom:"20%",left:"10%",color:"white",textShadow:"2px 2px 8px rgba(0, 0, 0, 0.5)"},I={fontSize:"3rem",margin:0},O={fontSize:"1.5rem",marginTop:"10px"},P={position:"absolute",bottom:"10px",left:"50%",transform:"translateX(-50%)",display:"flex"},N=x=>({width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"white",margin:"0 5px",cursor:"pointer",opacity:x?1:.5,transition:"opacity 0.3s ease"});return d("div",{style:f,children:[Du.map((x,S)=>o("div",{style:y(x.image,S===p),children:d("div",{style:w,children:[o("h1",{style:I,children:x.title}),o("p",{style:O,children:x.subtitle})]})},x.id)),o("div",{style:P,children:Du.map((x,S)=>o("span",{style:N(S===p),onClick:()=>m(S)},S))})]})};function ph(p,m){const f=T.useRef(m);T.useEffect(function(){m!==f.current&&p.attributionControl!=null&&(f.current!=null&&p.attributionControl.removeAttribution(f.current),m!=null&&p.attributionControl.addAttribution(m)),f.current=m},[p,m])}const zp=1;function Ip(p){return Object.freeze({__version:zp,map:p})}function Mp(p,m){return Object.freeze({...p,...m})}const mh=T.createContext(null),gh=mh.Provider;function Gu(){const p=T.useContext(mh);if(p==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return p}function Ap(p){function m(f,y){const{instance:w,context:I}=p(f).current;return T.useImperativeHandle(y,()=>w),f.children==null?null:o(gh,{value:I,children:f.children})}return T.forwardRef(m)}function Bp(p){function m(f,y){const[w,I]=T.useState(!1),{instance:O}=p(f,I).current;T.useImperativeHandle(y,()=>O),T.useEffect(function(){w&&O.update()},[O,w,f.children]);const P=O._contentNode;return P?uf.createPortal(f.children,P):null}return T.forwardRef(m)}function Dp(p){function m(f,y){const{instance:w}=p(f).current;return T.useImperativeHandle(y,()=>w),null}return T.forwardRef(m)}function vh(p,m){const f=T.useRef();T.useEffect(function(){return m!=null&&p.instance.on(m),f.current=m,function(){f.current!=null&&p.instance.off(f.current),f.current=null}},[p,m])}function Ku(p,m){const f=p.pane??m.pane;return f?{...p,pane:f}:p}function Rp(p,m){return function(y,w){const I=Gu(),O=p(Ku(y,I),I);return ph(I.map,y.attribution),vh(O.current,y.eventHandlers),m(O.current,I,y,w),O}}var Pa={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Fp=Pa.exports,qd;function jp(){return qd||(qd=1,function(p,m){(function(f,y){y(m)})(Fp,function(f){var y="1.9.4";function w(t){var i,a,s,h;for(a=1,s=arguments.length;a<s;a++){h=arguments[a];for(i in h)t[i]=h[i]}return t}var I=Object.create||function(){function t(){}return function(i){return t.prototype=i,new t}}();function O(t,i){var a=Array.prototype.slice;if(t.bind)return t.bind.apply(t,a.call(arguments,1));var s=a.call(arguments,2);return function(){return t.apply(i,s.length?s.concat(a.call(arguments)):arguments)}}var P=0;function N(t){return"_leaflet_id"in t||(t._leaflet_id=++P),t._leaflet_id}function x(t,i,a){var s,h,v,M;return M=function(){s=!1,h&&(v.apply(a,h),h=!1)},v=function(){s?h=arguments:(t.apply(a,arguments),setTimeout(M,i),s=!0)},v}function S(t,i,a){var s=i[1],h=i[0],v=s-h;return t===s&&a?t:((t-h)%v+v)%v+h}function F(){return!1}function V(t,i){if(i===!1)return t;var a=Math.pow(10,i===void 0?6:i);return Math.round(t*a)/a}function ne(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function k(t){return ne(t).split(/\s+/)}function A(t,i){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?I(t.options):{});for(var a in i)t.options[a]=i[a];return t.options}function Z(t,i,a){var s=[];for(var h in t)s.push(encodeURIComponent(a?h.toUpperCase():h)+"="+encodeURIComponent(t[h]));return(!i||i.indexOf("?")===-1?"?":"&")+s.join("&")}var z=/\{ *([\w_ -]+) *\}/g;function q(t,i){return t.replace(z,function(a,s){var h=i[s];if(h===void 0)throw new Error("No value provided for variable "+a);return typeof h=="function"&&(h=h(i)),h})}var Y=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function se(t,i){for(var a=0;a<t.length;a++)if(t[a]===i)return a;return-1}var Ce="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Be(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var Oe=0;function X(t){var i=+new Date,a=Math.max(0,16-(i-Oe));return Oe=i+a,window.setTimeout(t,a)}var J=window.requestAnimationFrame||Be("RequestAnimationFrame")||X,Re=window.cancelAnimationFrame||Be("CancelAnimationFrame")||Be("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function D(t,i,a){if(a&&J===X)t.call(i);else return J.call(window,O(t,i))}function Ie(t){t&&Re.call(window,t)}var we={__proto__:null,extend:w,create:I,bind:O,get lastId(){return P},stamp:N,throttle:x,wrapNum:S,falseFn:F,formatNum:V,trim:ne,splitWords:k,setOptions:A,getParamString:Z,template:q,isArray:Y,indexOf:se,emptyImageUrl:Ce,requestFn:J,cancelFn:Re,requestAnimFrame:D,cancelAnimFrame:Ie};function re(){}re.extend=function(t){var i=function(){A(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},a=i.__super__=this.prototype,s=I(a);s.constructor=i,i.prototype=s;for(var h in this)Object.prototype.hasOwnProperty.call(this,h)&&h!=="prototype"&&h!=="__super__"&&(i[h]=this[h]);return t.statics&&w(i,t.statics),t.includes&&(ae(t.includes),w.apply(null,[s].concat(t.includes))),w(s,t),delete s.statics,delete s.includes,s.options&&(s.options=a.options?I(a.options):{},w(s.options,t.options)),s._initHooks=[],s.callInitHooks=function(){if(!this._initHooksCalled){a.callInitHooks&&a.callInitHooks.call(this),this._initHooksCalled=!0;for(var v=0,M=s._initHooks.length;v<M;v++)s._initHooks[v].call(this)}},i},re.include=function(t){var i=this.prototype.options;return w(this.prototype,t),t.options&&(this.prototype.options=i,this.mergeOptions(t.options)),this},re.mergeOptions=function(t){return w(this.prototype.options,t),this},re.addInitHook=function(t){var i=Array.prototype.slice.call(arguments,1),a=typeof t=="function"?t:function(){this[t].apply(this,i)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(a),this};function ae(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=Y(t)?t:[t];for(var i=0;i<t.length;i++)t[i]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var te={on:function(t,i,a){if(typeof t=="object")for(var s in t)this._on(s,t[s],i);else{t=k(t);for(var h=0,v=t.length;h<v;h++)this._on(t[h],i,a)}return this},off:function(t,i,a){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var s in t)this._off(s,t[s],i);else{t=k(t);for(var h=arguments.length===1,v=0,M=t.length;v<M;v++)h?this._off(t[v]):this._off(t[v],i,a)}return this},_on:function(t,i,a,s){if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}if(this._listens(t,i,a)===!1){a===this&&(a=void 0);var h={fn:i,ctx:a};s&&(h.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(h)}},_off:function(t,i,a){var s,h,v;if(this._events&&(s=this._events[t],!!s)){if(arguments.length===1){if(this._firingCount)for(h=0,v=s.length;h<v;h++)s[h].fn=F;delete this._events[t];return}if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}var M=this._listens(t,i,a);if(M!==!1){var $=s[M];this._firingCount&&($.fn=F,this._events[t]=s=s.slice()),s.splice(M,1)}}},fire:function(t,i,a){if(!this.listens(t,a))return this;var s=w({},i,{type:t,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var h=this._events[t];if(h){this._firingCount=this._firingCount+1||1;for(var v=0,M=h.length;v<M;v++){var $=h[v],G=$.fn;$.once&&this.off(t,G,$.ctx),G.call($.ctx||this,s)}this._firingCount--}}return a&&this._propagateEvent(s),this},listens:function(t,i,a,s){typeof t!="string"&&console.warn('"string" type argument expected');var h=i;typeof i!="function"&&(s=!!i,h=void 0,a=void 0);var v=this._events&&this._events[t];if(v&&v.length&&this._listens(t,h,a)!==!1)return!0;if(s){for(var M in this._eventParents)if(this._eventParents[M].listens(t,i,a,s))return!0}return!1},_listens:function(t,i,a){if(!this._events)return!1;var s=this._events[t]||[];if(!i)return!!s.length;a===this&&(a=void 0);for(var h=0,v=s.length;h<v;h++)if(s[h].fn===i&&s[h].ctx===a)return h;return!1},once:function(t,i,a){if(typeof t=="object")for(var s in t)this._on(s,t[s],i,!0);else{t=k(t);for(var h=0,v=t.length;h<v;h++)this._on(t[h],i,a,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[N(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[N(t)],this},_propagateEvent:function(t){for(var i in this._eventParents)this._eventParents[i].fire(t.type,w({layer:t.target,propagatedFrom:t.target},t),!0)}};te.addEventListener=te.on,te.removeEventListener=te.clearAllEventListeners=te.off,te.addOneTimeEventListener=te.once,te.fireEvent=te.fire,te.hasEventListeners=te.listens;var oe=re.extend(te);function b(t,i,a){this.x=a?Math.round(t):t,this.y=a?Math.round(i):i}var Q=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};b.prototype={clone:function(){return new b(this.x,this.y)},add:function(t){return this.clone()._add(C(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(C(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new b(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new b(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Q(this.x),this.y=Q(this.y),this},distanceTo:function(t){t=C(t);var i=t.x-this.x,a=t.y-this.y;return Math.sqrt(i*i+a*a)},equals:function(t){return t=C(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=C(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+V(this.x)+", "+V(this.y)+")"}};function C(t,i,a){return t instanceof b?t:Y(t)?new b(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new b(t.x,t.y):new b(t,i,a)}function _(t,i){if(t)for(var a=i?[t,i]:t,s=0,h=a.length;s<h;s++)this.extend(a[s])}_.prototype={extend:function(t){var i,a;if(!t)return this;if(t instanceof b||typeof t[0]=="number"||"x"in t)i=a=C(t);else if(t=j(t),i=t.min,a=t.max,!i||!a)return this;return!this.min&&!this.max?(this.min=i.clone(),this.max=a.clone()):(this.min.x=Math.min(i.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(i.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)),this},getCenter:function(t){return C((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return C(this.min.x,this.max.y)},getTopRight:function(){return C(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var i,a;return typeof t[0]=="number"||t instanceof b?t=C(t):t=j(t),t instanceof _?(i=t.min,a=t.max):i=a=t,i.x>=this.min.x&&a.x<=this.max.x&&i.y>=this.min.y&&a.y<=this.max.y},intersects:function(t){t=j(t);var i=this.min,a=this.max,s=t.min,h=t.max,v=h.x>=i.x&&s.x<=a.x,M=h.y>=i.y&&s.y<=a.y;return v&&M},overlaps:function(t){t=j(t);var i=this.min,a=this.max,s=t.min,h=t.max,v=h.x>i.x&&s.x<a.x,M=h.y>i.y&&s.y<a.y;return v&&M},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var i=this.min,a=this.max,s=Math.abs(i.x-a.x)*t,h=Math.abs(i.y-a.y)*t;return j(C(i.x-s,i.y-h),C(a.x+s,a.y+h))},equals:function(t){return t?(t=j(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function j(t,i){return!t||t instanceof _?t:new _(t,i)}function pe(t,i){if(t)for(var a=i?[t,i]:t,s=0,h=a.length;s<h;s++)this.extend(a[s])}pe.prototype={extend:function(t){var i=this._southWest,a=this._northEast,s,h;if(t instanceof _e)s=t,h=t;else if(t instanceof pe){if(s=t._southWest,h=t._northEast,!s||!h)return this}else return t?this.extend(xe(t)||Te(t)):this;return!i&&!a?(this._southWest=new _e(s.lat,s.lng),this._northEast=new _e(h.lat,h.lng)):(i.lat=Math.min(s.lat,i.lat),i.lng=Math.min(s.lng,i.lng),a.lat=Math.max(h.lat,a.lat),a.lng=Math.max(h.lng,a.lng)),this},pad:function(t){var i=this._southWest,a=this._northEast,s=Math.abs(i.lat-a.lat)*t,h=Math.abs(i.lng-a.lng)*t;return new pe(new _e(i.lat-s,i.lng-h),new _e(a.lat+s,a.lng+h))},getCenter:function(){return new _e((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new _e(this.getNorth(),this.getWest())},getSouthEast:function(){return new _e(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof _e||"lat"in t?t=xe(t):t=Te(t);var i=this._southWest,a=this._northEast,s,h;return t instanceof pe?(s=t.getSouthWest(),h=t.getNorthEast()):s=h=t,s.lat>=i.lat&&h.lat<=a.lat&&s.lng>=i.lng&&h.lng<=a.lng},intersects:function(t){t=Te(t);var i=this._southWest,a=this._northEast,s=t.getSouthWest(),h=t.getNorthEast(),v=h.lat>=i.lat&&s.lat<=a.lat,M=h.lng>=i.lng&&s.lng<=a.lng;return v&&M},overlaps:function(t){t=Te(t);var i=this._southWest,a=this._northEast,s=t.getSouthWest(),h=t.getNorthEast(),v=h.lat>i.lat&&s.lat<a.lat,M=h.lng>i.lng&&s.lng<a.lng;return v&&M},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,i){return t?(t=Te(t),this._southWest.equals(t.getSouthWest(),i)&&this._northEast.equals(t.getNorthEast(),i)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Te(t,i){return t instanceof pe?t:new pe(t,i)}function _e(t,i,a){if(isNaN(t)||isNaN(i))throw new Error("Invalid LatLng object: ("+t+", "+i+")");this.lat=+t,this.lng=+i,a!==void 0&&(this.alt=+a)}_e.prototype={equals:function(t,i){if(!t)return!1;t=xe(t);var a=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return a<=(i===void 0?1e-9:i)},toString:function(t){return"LatLng("+V(this.lat,t)+", "+V(this.lng,t)+")"},distanceTo:function(t){return Ge.distance(this,xe(t))},wrap:function(){return Ge.wrapLatLng(this)},toBounds:function(t){var i=180*t/40075017,a=i/Math.cos(Math.PI/180*this.lat);return Te([this.lat-i,this.lng-a],[this.lat+i,this.lng+a])},clone:function(){return new _e(this.lat,this.lng,this.alt)}};function xe(t,i,a){return t instanceof _e?t:Y(t)&&typeof t[0]!="object"?t.length===3?new _e(t[0],t[1],t[2]):t.length===2?new _e(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new _e(t.lat,"lng"in t?t.lng:t.lon,t.alt):i===void 0?null:new _e(t,i,a)}var me={latLngToPoint:function(t,i){var a=this.projection.project(t),s=this.scale(i);return this.transformation._transform(a,s)},pointToLatLng:function(t,i){var a=this.scale(i),s=this.transformation.untransform(t,a);return this.projection.unproject(s)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var i=this.projection.bounds,a=this.scale(t),s=this.transformation.transform(i.min,a),h=this.transformation.transform(i.max,a);return new _(s,h)},infinite:!1,wrapLatLng:function(t){var i=this.wrapLng?S(t.lng,this.wrapLng,!0):t.lng,a=this.wrapLat?S(t.lat,this.wrapLat,!0):t.lat,s=t.alt;return new _e(a,i,s)},wrapLatLngBounds:function(t){var i=t.getCenter(),a=this.wrapLatLng(i),s=i.lat-a.lat,h=i.lng-a.lng;if(s===0&&h===0)return t;var v=t.getSouthWest(),M=t.getNorthEast(),$=new _e(v.lat-s,v.lng-h),G=new _e(M.lat-s,M.lng-h);return new pe($,G)}},Ge=w({},me,{wrapLng:[-180,180],R:6371e3,distance:function(t,i){var a=Math.PI/180,s=t.lat*a,h=i.lat*a,v=Math.sin((i.lat-t.lat)*a/2),M=Math.sin((i.lng-t.lng)*a/2),$=v*v+Math.cos(s)*Math.cos(h)*M*M,G=2*Math.atan2(Math.sqrt($),Math.sqrt(1-$));return this.R*G}}),ge=6378137,Pe={R:ge,MAX_LATITUDE:85.0511287798,project:function(t){var i=Math.PI/180,a=this.MAX_LATITUDE,s=Math.max(Math.min(a,t.lat),-a),h=Math.sin(s*i);return new b(this.R*t.lng*i,this.R*Math.log((1+h)/(1-h))/2)},unproject:function(t){var i=180/Math.PI;return new _e((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*i,t.x*i/this.R)},bounds:function(){var t=ge*Math.PI;return new _([-t,-t],[t,t])}()};function We(t,i,a,s){if(Y(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=i,this._c=a,this._d=s}We.prototype={transform:function(t,i){return this._transform(t.clone(),i)},_transform:function(t,i){return i=i||1,t.x=i*(this._a*t.x+this._b),t.y=i*(this._c*t.y+this._d),t},untransform:function(t,i){return i=i||1,new b((t.x/i-this._b)/this._a,(t.y/i-this._d)/this._c)}};function it(t,i,a,s){return new We(t,i,a,s)}var Se=w({},Ge,{code:"EPSG:3857",projection:Pe,transformation:function(){var t=.5/(Math.PI*Pe.R);return it(t,.5,-t,.5)}()}),Ht=w({},Se,{code:"EPSG:900913"});function ye(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function ee(t,i){var a="",s,h,v,M,$,G;for(s=0,v=t.length;s<v;s++){for($=t[s],h=0,M=$.length;h<M;h++)G=$[h],a+=(h?"L":"M")+G.x+" "+G.y;a+=i?Ae.svg?"z":"x":""}return a||"M0 0"}var Fe=document.documentElement.style,de="ActiveXObject"in window,be=de&&!document.addEventListener,U="msLaunchUri"in navigator&&!("documentMode"in document),ie=Nt("webkit"),he=Nt("android"),ke=Nt("android 2")||Nt("android 3"),rt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Dr=he&&Nt("Google")&&rt<537&&!("AudioNode"in window),qn=!!window.opera,Rr=!U&&Nt("chrome"),or=Nt("gecko")&&!ie&&!qn&&!de,Ia=!Rr&&Nt("safari"),wi=Nt("phantom"),Ci="OTransition"in Fe,ls=navigator.platform.indexOf("Win")===0,Oo=de&&"transition"in Fe,Fr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ke,Ma="MozPerspective"in Fe,No=!window.L_DISABLE_3D&&(Oo||Fr||Ma)&&!Ci&&!wi,Jn=typeof orientation<"u"||Nt("mobile"),zo=Jn&&ie,Io=Jn&&Fr,jr=!window.PointerEvent&&window.MSPointerEvent,Qn=!!(window.PointerEvent||jr),Xn="ontouchstart"in window||!!window.TouchEvent,Aa=!window.L_NO_TOUCH&&(Xn||Qn),Ba=Jn&&qn,Da=Jn&&or,Ra=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Fa=function(){var t=!1;try{var i=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",F,i),window.removeEventListener("testPassiveEventSupport",F,i)}catch{}return t}(),Mo=function(){return!!document.createElement("canvas").getContext}(),Ur=!!(document.createElementNS&&ye("svg").createSVGRect),ar=!!Ur&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ao=!Ur&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var i=t.firstChild;return i.style.behavior="url(#default#VML)",i&&typeof i.adj=="object"}catch{return!1}}(),lr=navigator.platform.indexOf("Mac")===0,ss=navigator.platform.indexOf("Linux")===0;function Nt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Ae={ie:de,ielt9:be,edge:U,webkit:ie,android:he,android23:ke,androidStock:Dr,opera:qn,chrome:Rr,gecko:or,safari:Ia,phantom:wi,opera12:Ci,win:ls,ie3d:Oo,webkit3d:Fr,gecko3d:Ma,any3d:No,mobile:Jn,mobileWebkit:zo,mobileWebkit3d:Io,msPointer:jr,pointer:Qn,touch:Aa,touchNative:Xn,mobileOpera:Ba,mobileGecko:Da,retina:Ra,passiveEvents:Fa,canvas:Mo,svg:Ur,vml:Ao,inlineSvg:ar,mac:lr,linux:ss},sr=Ae.msPointer?"MSPointerDown":"pointerdown",Zr=Ae.msPointer?"MSPointerMove":"pointermove",ja=Ae.msPointer?"MSPointerUp":"pointerup",Ua=Ae.msPointer?"MSPointerCancel":"pointercancel",Bo={touchstart:sr,touchmove:Zr,touchend:ja,touchcancel:Ua},Rn={touchstart:ht,touchmove:$r,touchend:$r,touchcancel:$r},ei={},Do=!1;function us(t,i,a){return i==="touchstart"&&cs(),Rn[i]?(a=Rn[i].bind(this,a),t.addEventListener(Bo[i],a,!1),a):(console.warn("wrong event specified:",i),F)}function Za(t,i,a){if(!Bo[i]){console.warn("wrong event specified:",i);return}t.removeEventListener(Bo[i],a,!1)}function $a(t){ei[t.pointerId]=t}function Wa(t){ei[t.pointerId]&&(ei[t.pointerId]=t)}function Ro(t){delete ei[t.pointerId]}function cs(){Do||(document.addEventListener(sr,$a,!0),document.addEventListener(Zr,Wa,!0),document.addEventListener(ja,Ro,!0),document.addEventListener(Ua,Ro,!0),Do=!0)}function $r(t,i){if(i.pointerType!==(i.MSPOINTER_TYPE_MOUSE||"mouse")){i.touches=[];for(var a in ei)i.touches.push(ei[a]);i.changedTouches=[i],t(i)}}function ht(t,i){i.MSPOINTER_TYPE_TOUCH&&i.pointerType===i.MSPOINTER_TYPE_TOUCH&&ft(i),$r(t,i)}function ds(t){var i={},a,s;for(s in t)a=t[s],i[s]=a&&a.bind?a.bind(t):a;return t=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var Fo=200;function Ha(t,i){t.addEventListener("dblclick",i);var a=0,s;function h(v){if(v.detail!==1){s=v.detail;return}if(!(v.pointerType==="mouse"||v.sourceCapabilities&&!v.sourceCapabilities.firesTouchEvents)){var M=ii(v);if(!(M.some(function(G){return G instanceof HTMLLabelElement&&G.attributes.for})&&!M.some(function(G){return G instanceof HTMLInputElement||G instanceof HTMLSelectElement}))){var $=Date.now();$-a<=Fo?(s++,s===2&&i(ds(v))):s=1,a=$}}}return t.addEventListener("click",h),{dblclick:i,simDblclick:h}}function Wr(t,i){t.removeEventListener("dblclick",i.dblclick),t.removeEventListener("click",i.simDblclick)}var jo=ki(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),xi=ki(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ur=xi==="webkitTransition"||xi==="OTransition"?xi+"End":"transitionend";function tn(t){return typeof t=="string"?document.getElementById(t):t}function cr(t,i){var a=t.style[i]||t.currentStyle&&t.currentStyle[i];if((!a||a==="auto")&&document.defaultView){var s=document.defaultView.getComputedStyle(t,null);a=s?s[i]:null}return a==="auto"?null:a}function Ye(t,i,a){var s=document.createElement(t);return s.className=i||"",a&&a.appendChild(s),s}function ut(t){var i=t.parentNode;i&&i.removeChild(t)}function Hr(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Si(t){var i=t.parentNode;i&&i.lastChild!==t&&i.appendChild(t)}function Tn(t){var i=t.parentNode;i&&i.firstChild!==t&&i.insertBefore(t,i.firstChild)}function bi(t,i){if(t.classList!==void 0)return t.classList.contains(i);var a=Vr(t);return a.length>0&&new RegExp("(^|\\s)"+i+"(\\s|$)").test(a)}function Ke(t,i){if(t.classList!==void 0)for(var a=k(i),s=0,h=a.length;s<h;s++)t.classList.add(a[s]);else if(!bi(t,i)){var v=Vr(t);Uo(t,(v?v+" ":"")+i)}}function lt(t,i){t.classList!==void 0?t.classList.remove(i):Uo(t,ne((" "+Vr(t)+" ").replace(" "+i+" "," ")))}function Uo(t,i){t.className.baseVal===void 0?t.className=i:t.className.baseVal=i}function Vr(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function zt(t,i){"opacity"in t.style?t.style.opacity=i:"filter"in t.style&&Va(t,i)}function Va(t,i){var a=!1,s="DXImageTransform.Microsoft.Alpha";try{a=t.filters.item(s)}catch{if(i===1)return}i=Math.round(i*100),a?(a.Enabled=i!==100,a.Opacity=i):t.style.filter+=" progid:"+s+"(opacity="+i+")"}function ki(t){for(var i=document.documentElement.style,a=0;a<t.length;a++)if(t[a]in i)return t[a];return!1}function nn(t,i,a){var s=i||new b(0,0);t.style[jo]=(Ae.ie3d?"translate("+s.x+"px,"+s.y+"px)":"translate3d("+s.x+"px,"+s.y+"px,0)")+(a?" scale("+a+")":"")}function gt(t,i){t._leaflet_pos=i,Ae.any3d?nn(t,i):(t.style.left=i.x+"px",t.style.top=i.y+"px")}function En(t){return t._leaflet_pos||new b(0,0)}var Xe,Pi,Gr;if("onselectstart"in document)Xe=function(){He(window,"selectstart",ft)},Pi=function(){ot(window,"selectstart",ft)};else{var ti=ki(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Xe=function(){if(ti){var t=document.documentElement.style;Gr=t[ti],t[ti]="none"}},Pi=function(){ti&&(document.documentElement.style[ti]=Gr,Gr=void 0)}}function Kr(){He(window,"dragstart",ft)}function Yr(){ot(window,"dragstart",ft)}var dr,hr;function Ti(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(rn(),dr=t,hr=t.style.outlineStyle,t.style.outlineStyle="none",He(window,"keydown",rn))}function rn(){dr&&(dr.style.outlineStyle=hr,dr=void 0,hr=void 0,ot(window,"keydown",rn))}function Ln(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function pn(t){var i=t.getBoundingClientRect();return{x:i.width/t.offsetWidth||1,y:i.height/t.offsetHeight||1,boundingClientRect:i}}var fr={__proto__:null,TRANSFORM:jo,TRANSITION:xi,TRANSITION_END:ur,get:tn,getStyle:cr,create:Ye,remove:ut,empty:Hr,toFront:Si,toBack:Tn,hasClass:bi,addClass:Ke,removeClass:lt,setClass:Uo,getClass:Vr,setOpacity:zt,testProp:ki,setTransform:nn,setPosition:gt,getPosition:En,get disableTextSelection(){return Xe},get enableTextSelection(){return Pi},disableImageDrag:Kr,enableImageDrag:Yr,preventOutline:Ti,restoreOutline:rn,getSizedParentNode:Ln,getScale:pn};function He(t,i,a,s){if(i&&typeof i=="object")for(var h in i)$o(t,h,i[h],a);else{i=k(i);for(var v=0,M=i.length;v<M;v++)$o(t,i[v],a,s)}return this}var xt="_leaflet_events";function ot(t,i,a,s){if(arguments.length===1)Zo(t),delete t[xt];else if(i&&typeof i=="object")for(var h in i)qr(t,h,i[h],a);else if(i=k(i),arguments.length===2)Zo(t,function($){return se(i,$)!==-1});else for(var v=0,M=i.length;v<M;v++)qr(t,i[v],a,s);return this}function Zo(t,i){for(var a in t[xt]){var s=a.split(/\d/)[0];(!i||i(s))&&qr(t,s,null,null,a)}}var ni={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function $o(t,i,a,s){var h=i+N(a)+(s?"_"+N(s):"");if(t[xt]&&t[xt][h])return this;var v=function($){return a.call(s||t,$||window.event)},M=v;!Ae.touchNative&&Ae.pointer&&i.indexOf("touch")===0?v=us(t,i,v):Ae.touch&&i==="dblclick"?v=Ha(t,v):"addEventListener"in t?i==="touchstart"||i==="touchmove"||i==="wheel"||i==="mousewheel"?t.addEventListener(ni[i]||i,v,Ae.passiveEvents?{passive:!1}:!1):i==="mouseenter"||i==="mouseleave"?(v=function($){$=$||window.event,gr(t,$)&&M($)},t.addEventListener(ni[i],v,!1)):t.addEventListener(i,M,!1):t.attachEvent("on"+i,v),t[xt]=t[xt]||{},t[xt][h]=v}function qr(t,i,a,s,h){h=h||i+N(a)+(s?"_"+N(s):"");var v=t[xt]&&t[xt][h];if(!v)return this;!Ae.touchNative&&Ae.pointer&&i.indexOf("touch")===0?Za(t,i,v):Ae.touch&&i==="dblclick"?Wr(t,v):"removeEventListener"in t?t.removeEventListener(ni[i]||i,v,!1):t.detachEvent("on"+i,v),t[xt][h]=null}function mn(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Jr(t){return $o(t,"wheel",mn),this}function pr(t){return He(t,"mousedown touchstart dblclick contextmenu",mn),t._leaflet_disable_click=!0,this}function ft(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function on(t){return ft(t),mn(t),this}function ii(t){if(t.composedPath)return t.composedPath();for(var i=[],a=t.target;a;)i.push(a),a=a.parentNode;return i}function mr(t,i){if(!i)return new b(t.clientX,t.clientY);var a=pn(i),s=a.boundingClientRect;return new b((t.clientX-s.left)/a.x-i.clientLeft,(t.clientY-s.top)/a.y-i.clientTop)}var hs=Ae.linux&&Ae.chrome?window.devicePixelRatio:Ae.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ga(t){return Ae.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/hs:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function gr(t,i){var a=i.relatedTarget;if(!a)return!0;try{for(;a&&a!==t;)a=a.parentNode}catch{return!1}return a!==t}var Qr={__proto__:null,on:He,off:ot,stopPropagation:mn,disableScrollPropagation:Jr,disableClickPropagation:pr,preventDefault:ft,stop:on,getPropagationPath:ii,getMousePosition:mr,getWheelDelta:Ga,isExternalTarget:gr,addListener:He,removeListener:ot},Xr=oe.extend({run:function(t,i,a,s){this.stop(),this._el=t,this._inProgress=!0,this._duration=a||.25,this._easeOutPower=1/Math.max(s||.5,.2),this._startPos=En(t),this._offset=i.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=D(this._animate,this),this._step()},_step:function(t){var i=+new Date-this._startTime,a=this._duration*1e3;i<a?this._runFrame(this._easeOut(i/a),t):(this._runFrame(1),this._complete())},_runFrame:function(t,i){var a=this._startPos.add(this._offset.multiplyBy(t));i&&a._round(),gt(this._el,a),this.fire("step")},_complete:function(){Ie(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Qe=oe.extend({options:{crs:Se,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,i){i=A(this,i),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=O(this._onResize,this),this._initEvents(),i.maxBounds&&this.setMaxBounds(i.maxBounds),i.zoom!==void 0&&(this._zoom=this._limitZoom(i.zoom)),i.center&&i.zoom!==void 0&&this.setView(xe(i.center),i.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=xi&&Ae.any3d&&!Ae.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),He(this._proxy,ur,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,i,a){if(i=i===void 0?this._zoom:this._limitZoom(i),t=this._limitCenter(xe(t),i,this.options.maxBounds),a=a||{},this._stop(),this._loaded&&!a.reset&&a!==!0){a.animate!==void 0&&(a.zoom=w({animate:a.animate},a.zoom),a.pan=w({animate:a.animate,duration:a.duration},a.pan));var s=this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,i,a.zoom):this._tryAnimatedPan(t,a.pan);if(s)return clearTimeout(this._sizeTimer),this}return this._resetView(t,i,a.pan&&a.pan.noMoveStart),this},setZoom:function(t,i){return this._loaded?this.setView(this.getCenter(),t,{zoom:i}):(this._zoom=t,this)},zoomIn:function(t,i){return t=t||(Ae.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,i)},zoomOut:function(t,i){return t=t||(Ae.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,i)},setZoomAround:function(t,i,a){var s=this.getZoomScale(i),h=this.getSize().divideBy(2),v=t instanceof b?t:this.latLngToContainerPoint(t),M=v.subtract(h).multiplyBy(1-1/s),$=this.containerPointToLatLng(h.add(M));return this.setView($,i,{zoom:a})},_getBoundsCenterZoom:function(t,i){i=i||{},t=t.getBounds?t.getBounds():Te(t);var a=C(i.paddingTopLeft||i.padding||[0,0]),s=C(i.paddingBottomRight||i.padding||[0,0]),h=this.getBoundsZoom(t,!1,a.add(s));if(h=typeof i.maxZoom=="number"?Math.min(i.maxZoom,h):h,h===1/0)return{center:t.getCenter(),zoom:h};var v=s.subtract(a).divideBy(2),M=this.project(t.getSouthWest(),h),$=this.project(t.getNorthEast(),h),G=this.unproject(M.add($).divideBy(2).add(v),h);return{center:G,zoom:h}},fitBounds:function(t,i){if(t=Te(t),!t.isValid())throw new Error("Bounds are not valid.");var a=this._getBoundsCenterZoom(t,i);return this.setView(a.center,a.zoom,i)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,i){return this.setView(t,this._zoom,{pan:i})},panBy:function(t,i){if(t=C(t).round(),i=i||{},!t.x&&!t.y)return this.fire("moveend");if(i.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Xr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),i.noMoveStart||this.fire("movestart"),i.animate!==!1){Ke(this._mapPane,"leaflet-pan-anim");var a=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,a,i.duration||.25,i.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,i,a){if(a=a||{},a.animate===!1||!Ae.any3d)return this.setView(t,i,a);this._stop();var s=this.project(this.getCenter()),h=this.project(t),v=this.getSize(),M=this._zoom;t=xe(t),i=i===void 0?M:i;var $=Math.max(v.x,v.y),G=$*this.getZoomScale(M,i),le=h.distanceTo(s)||1,Ee=1.42,Ue=Ee*Ee;function qe(nt){var Zi=nt?-1:1,Ps=nt?G:$,Ts=G*G-$*$+Zi*Ue*Ue*le*le,ci=2*Ps*Ue*le,di=Ts/ci,hi=Math.sqrt(di*di+1)-di,po=hi<1e-9?-18:Math.log(hi);return po}function St(nt){return(Math.exp(nt)-Math.exp(-nt))/2}function _t(nt){return(Math.exp(nt)+Math.exp(-nt))/2}function Zt(nt){return St(nt)/_t(nt)}var Mt=qe(0);function ji(nt){return $*(_t(Mt)/_t(Mt+Ee*nt))}function ca(nt){return $*(_t(Mt)*Zt(Mt+Ee*nt)-St(Mt))/Ue}function Vn(nt){return 1-Math.pow(1-nt,1.5)}var pl=Date.now(),ui=(qe(1)-Mt)/Ee,_n=a.duration?1e3*a.duration:1e3*ui*.8;function Ui(){var nt=(Date.now()-pl)/_n,Zi=Vn(nt)*ui;nt<=1?(this._flyToFrame=D(Ui,this),this._move(this.unproject(s.add(h.subtract(s).multiplyBy(ca(Zi)/le)),M),this.getScaleZoom($/ji(Zi),M),{flyTo:!0})):this._move(t,i)._moveEnd(!0)}return this._moveStart(!0,a.noMoveStart),Ui.call(this),this},flyToBounds:function(t,i){var a=this._getBoundsCenterZoom(t,i);return this.flyTo(a.center,a.zoom,i)},setMaxBounds:function(t){return t=Te(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var i=this.options.minZoom;return this.options.minZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var i=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,i){this._enforcingBounds=!0;var a=this.getCenter(),s=this._limitCenter(a,this._zoom,Te(t));return a.equals(s)||this.panTo(s,i),this._enforcingBounds=!1,this},panInside:function(t,i){i=i||{};var a=C(i.paddingTopLeft||i.padding||[0,0]),s=C(i.paddingBottomRight||i.padding||[0,0]),h=this.project(this.getCenter()),v=this.project(t),M=this.getPixelBounds(),$=j([M.min.add(a),M.max.subtract(s)]),G=$.getSize();if(!$.contains(v)){this._enforcingBounds=!0;var le=v.subtract($.getCenter()),Ee=$.extend(v).getSize().subtract(G);h.x+=le.x<0?-Ee.x:Ee.x,h.y+=le.y<0?-Ee.y:Ee.y,this.panTo(this.unproject(h),i),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=w({animate:!1,pan:!0},t===!0?{animate:!0}:t);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var a=this.getSize(),s=i.divideBy(2).round(),h=a.divideBy(2).round(),v=s.subtract(h);return!v.x&&!v.y?this:(t.animate&&t.pan?this.panBy(v):(t.pan&&this._rawPanBy(v),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(O(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:a}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=w({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=O(this._handleGeolocationResponse,this),a=O(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,a,t):navigator.geolocation.getCurrentPosition(i,a,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var i=t.code,a=t.message||(i===1?"permission denied":i===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:i,message:"Geolocation error: "+a+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var i=t.coords.latitude,a=t.coords.longitude,s=new _e(i,a),h=s.toBounds(t.coords.accuracy*2),v=this._locateOptions;if(v.setView){var M=this.getBoundsZoom(h);this.setView(s,v.maxZoom?Math.min(M,v.maxZoom):M)}var $={latlng:s,bounds:h,timestamp:t.timestamp};for(var G in t.coords)typeof t.coords[G]=="number"&&($[G]=t.coords[G]);this.fire("locationfound",$)}},addHandler:function(t,i){if(!i)return this;var a=this[t]=new i(this);return this._handlers.push(a),this.options[t]&&a.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ut(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ie(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)ut(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,i){var a="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),s=Ye("div",a,i||this._mapPane);return t&&(this._panes[t]=s),s},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),i=this.unproject(t.getBottomLeft()),a=this.unproject(t.getTopRight());return new pe(i,a)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,i,a){t=Te(t),a=C(a||[0,0]);var s=this.getZoom()||0,h=this.getMinZoom(),v=this.getMaxZoom(),M=t.getNorthWest(),$=t.getSouthEast(),G=this.getSize().subtract(a),le=j(this.project($,s),this.project(M,s)).getSize(),Ee=Ae.any3d?this.options.zoomSnap:1,Ue=G.x/le.x,qe=G.y/le.y,St=i?Math.max(Ue,qe):Math.min(Ue,qe);return s=this.getScaleZoom(St,s),Ee&&(s=Math.round(s/(Ee/100))*(Ee/100),s=i?Math.ceil(s/Ee)*Ee:Math.floor(s/Ee)*Ee),Math.max(h,Math.min(v,s))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new b(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,i){var a=this._getTopLeftPoint(t,i);return new _(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,i){var a=this.options.crs;return i=i===void 0?this._zoom:i,a.scale(t)/a.scale(i)},getScaleZoom:function(t,i){var a=this.options.crs;i=i===void 0?this._zoom:i;var s=a.zoom(t*a.scale(i));return isNaN(s)?1/0:s},project:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.latLngToPoint(xe(t),i)},unproject:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.pointToLatLng(C(t),i)},layerPointToLatLng:function(t){var i=C(t).add(this.getPixelOrigin());return this.unproject(i)},latLngToLayerPoint:function(t){var i=this.project(xe(t))._round();return i._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(xe(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(Te(t))},distance:function(t,i){return this.options.crs.distance(xe(t),xe(i))},containerPointToLayerPoint:function(t){return C(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return C(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var i=this.containerPointToLayerPoint(C(t));return this.layerPointToLatLng(i)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(xe(t)))},mouseEventToContainerPoint:function(t){return mr(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var i=this._container=tn(t);if(i){if(i._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");He(i,"scroll",this._onScroll,this),this._containerId=N(i)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ae.any3d,Ke(t,"leaflet-container"+(Ae.touch?" leaflet-touch":"")+(Ae.retina?" leaflet-retina":"")+(Ae.ielt9?" leaflet-oldie":"")+(Ae.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var i=cr(t,"position");i!=="absolute"&&i!=="relative"&&i!=="fixed"&&i!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),gt(this._mapPane,new b(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ke(t.markerPane,"leaflet-zoom-hide"),Ke(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,i,a){gt(this._mapPane,new b(0,0));var s=!this._loaded;this._loaded=!0,i=this._limitZoom(i),this.fire("viewprereset");var h=this._zoom!==i;this._moveStart(h,a)._move(t,i)._moveEnd(h),this.fire("viewreset"),s&&this.fire("load")},_moveStart:function(t,i){return t&&this.fire("zoomstart"),i||this.fire("movestart"),this},_move:function(t,i,a,s){i===void 0&&(i=this._zoom);var h=this._zoom!==i;return this._zoom=i,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),s?a&&a.pinch&&this.fire("zoom",a):((h||a&&a.pinch)&&this.fire("zoom",a),this.fire("move",a)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ie(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){gt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[N(this._container)]=this;var i=t?ot:He;i(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&i(window,"resize",this._onResize,this),Ae.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ie(this._resizeRequest),this._resizeRequest=D(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,i){for(var a=[],s,h=i==="mouseout"||i==="mouseover",v=t.target||t.srcElement,M=!1;v;){if(s=this._targets[N(v)],s&&(i==="click"||i==="preclick")&&this._draggableMoved(s)){M=!0;break}if(s&&s.listens(i,!0)&&(h&&!gr(v,t)||(a.push(s),h))||v===this._container)break;v=v.parentNode}return!a.length&&!M&&!h&&this.listens(i,!0)&&(a=[this]),a},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var i=t.target||t.srcElement;if(!(!this._loaded||i._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(i))){var a=t.type;a==="mousedown"&&Ti(i),this._fireDOMEvent(t,a)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,i,a){if(t.type==="click"){var s=w({},t);s.type="preclick",this._fireDOMEvent(s,s.type,a)}var h=this._findEventTargets(t,i);if(a){for(var v=[],M=0;M<a.length;M++)a[M].listens(i,!0)&&v.push(a[M]);h=v.concat(h)}if(h.length){i==="contextmenu"&&ft(t);var $=h[0],G={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var le=$.getLatLng&&(!$._radius||$._radius<=10);G.containerPoint=le?this.latLngToContainerPoint($.getLatLng()):this.mouseEventToContainerPoint(t),G.layerPoint=this.containerPointToLayerPoint(G.containerPoint),G.latlng=le?$.getLatLng():this.layerPointToLatLng(G.layerPoint)}for(M=0;M<h.length;M++)if(h[M].fire(i,G,!0),G.originalEvent._stopped||h[M].options.bubblingMouseEvents===!1&&se(this._mouseEvents,i)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,i=this._handlers.length;t<i;t++)this._handlers[t].disable()},whenReady:function(t,i){return this._loaded?t.call(i||this,{target:this}):this.on("load",t,i),this},_getMapPanePos:function(){return En(this._mapPane)||new b(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,i){var a=t&&i!==void 0?this._getNewPixelOrigin(t,i):this.getPixelOrigin();return a.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,i){var a=this.getSize()._divideBy(2);return this.project(t,i)._subtract(a)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,i,a){var s=this._getNewPixelOrigin(a,i);return this.project(t,i)._subtract(s)},_latLngBoundsToNewLayerBounds:function(t,i,a){var s=this._getNewPixelOrigin(a,i);return j([this.project(t.getSouthWest(),i)._subtract(s),this.project(t.getNorthWest(),i)._subtract(s),this.project(t.getSouthEast(),i)._subtract(s),this.project(t.getNorthEast(),i)._subtract(s)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,i,a){if(!a)return t;var s=this.project(t,i),h=this.getSize().divideBy(2),v=new _(s.subtract(h),s.add(h)),M=this._getBoundsOffset(v,a,i);return Math.abs(M.x)<=1&&Math.abs(M.y)<=1?t:this.unproject(s.add(M),i)},_limitOffset:function(t,i){if(!i)return t;var a=this.getPixelBounds(),s=new _(a.min.add(t),a.max.add(t));return t.add(this._getBoundsOffset(s,i))},_getBoundsOffset:function(t,i,a){var s=j(this.project(i.getNorthEast(),a),this.project(i.getSouthWest(),a)),h=s.min.subtract(t.min),v=s.max.subtract(t.max),M=this._rebound(h.x,-v.x),$=this._rebound(h.y,-v.y);return new b(M,$)},_rebound:function(t,i){return t+i>0?Math.round(t-i)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(i))},_limitZoom:function(t){var i=this.getMinZoom(),a=this.getMaxZoom(),s=Ae.any3d?this.options.zoomSnap:1;return s&&(t=Math.round(t/s)*s),Math.max(i,Math.min(a,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){lt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,i){var a=this._getCenterOffset(t)._trunc();return(i&&i.animate)!==!0&&!this.getSize().contains(a)?!1:(this.panBy(a,i),!0)},_createAnimProxy:function(){var t=this._proxy=Ye("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(i){var a=jo,s=this._proxy.style[a];nn(this._proxy,this.project(i.center,i.zoom),this.getZoomScale(i.zoom,1)),s===this._proxy.style[a]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ut(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),i=this.getZoom();nn(this._proxy,this.project(t,i),this.getZoomScale(i,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,i,a){if(this._animatingZoom)return!0;if(a=a||{},!this._zoomAnimated||a.animate===!1||this._nothingToAnimate()||Math.abs(i-this._zoom)>this.options.zoomAnimationThreshold)return!1;var s=this.getZoomScale(i),h=this._getCenterOffset(t)._divideBy(1-1/s);return a.animate!==!0&&!this.getSize().contains(h)?!1:(D(function(){this._moveStart(!0,a.noMoveStart||!1)._animateZoom(t,i,!0)},this),!0)},_animateZoom:function(t,i,a,s){this._mapPane&&(a&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=i,Ke(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:i,noUpdate:s}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(O(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&lt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Fn(t,i){return new Qe(t,i)}var jt=re.extend({options:{position:"topright"},initialize:function(t){A(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var i=this._map;return i&&i.removeControl(this),this.options.position=t,i&&i.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var i=this._container=this.onAdd(t),a=this.getPosition(),s=t._controlCorners[a];return Ke(i,"leaflet-control"),a.indexOf("bottom")!==-1?s.insertBefore(i,s.firstChild):s.appendChild(i),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ut(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),jn=function(t){return new jt(t)};Qe.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},i="leaflet-",a=this._controlContainer=Ye("div",i+"control-container",this._container);function s(h,v){var M=i+h+" "+i+v;t[h+v]=Ye("div",M,a)}s("top","left"),s("top","right"),s("bottom","left"),s("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ut(this._controlCorners[t]);ut(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Wo=jt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,i,a,s){return a<s?-1:s<a?1:0}},initialize:function(t,i,a){A(this,a),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var s in t)this._addLayer(t[s],s);for(s in i)this._addLayer(i[s],s,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return jt.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,i){return this._addLayer(t,i),this._map?this._update():this},addOverlay:function(t,i){return this._addLayer(t,i,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var i=this._getLayer(N(t));return i&&this._layers.splice(this._layers.indexOf(i),1),this._map?this._update():this},expand:function(){Ke(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(Ke(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):lt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return lt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",i=this._container=Ye("div",t),a=this.options.collapsed;i.setAttribute("aria-haspopup",!0),pr(i),Jr(i);var s=this._section=Ye("section",t+"-list");a&&(this._map.on("click",this.collapse,this),He(i,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var h=this._layersLink=Ye("a",t+"-toggle",i);h.href="#",h.title="Layers",h.setAttribute("role","button"),He(h,{keydown:function(v){v.keyCode===13&&this._expandSafely()},click:function(v){ft(v),this._expandSafely()}},this),a||this.expand(),this._baseLayersList=Ye("div",t+"-base",s),this._separator=Ye("div",t+"-separator",s),this._overlaysList=Ye("div",t+"-overlays",s),i.appendChild(s)},_getLayer:function(t){for(var i=0;i<this._layers.length;i++)if(this._layers[i]&&N(this._layers[i].layer)===t)return this._layers[i]},_addLayer:function(t,i,a){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:i,overlay:a}),this.options.sortLayers&&this._layers.sort(O(function(s,h){return this.options.sortFunction(s.layer,h.layer,s.name,h.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Hr(this._baseLayersList),Hr(this._overlaysList),this._layerControlInputs=[];var t,i,a,s,h=0;for(a=0;a<this._layers.length;a++)s=this._layers[a],this._addItem(s),i=i||s.overlay,t=t||!s.overlay,h+=s.overlay?0:1;return this.options.hideSingleBase&&(t=t&&h>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=i&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var i=this._getLayer(N(t.target)),a=i.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;a&&this._map.fire(a,i)},_createRadioElement:function(t,i){var a='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(i?' checked="checked"':"")+"/>",s=document.createElement("div");return s.innerHTML=a,s.firstChild},_addItem:function(t){var i=document.createElement("label"),a=this._map.hasLayer(t.layer),s;t.overlay?(s=document.createElement("input"),s.type="checkbox",s.className="leaflet-control-layers-selector",s.defaultChecked=a):s=this._createRadioElement("leaflet-base-layers_"+N(this),a),this._layerControlInputs.push(s),s.layerId=N(t.layer),He(s,"click",this._onInputClick,this);var h=document.createElement("span");h.innerHTML=" "+t.name;var v=document.createElement("span");i.appendChild(v),v.appendChild(s),v.appendChild(h);var M=t.overlay?this._overlaysList:this._baseLayersList;return M.appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,i,a,s=[],h=[];this._handlingClick=!0;for(var v=t.length-1;v>=0;v--)i=t[v],a=this._getLayer(i.layerId).layer,i.checked?s.push(a):i.checked||h.push(a);for(v=0;v<h.length;v++)this._map.hasLayer(h[v])&&this._map.removeLayer(h[v]);for(v=0;v<s.length;v++)this._map.hasLayer(s[v])||this._map.addLayer(s[v]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,i,a,s=this._map.getZoom(),h=t.length-1;h>=0;h--)i=t[h],a=this._getLayer(i.layerId).layer,i.disabled=a.options.minZoom!==void 0&&s<a.options.minZoom||a.options.maxZoom!==void 0&&s>a.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,He(t,"click",ft),this.expand();var i=this;setTimeout(function(){ot(t,"click",ft),i._preventClick=!1})}}),eo=function(t,i,a){return new Wo(t,i,a)},Ei=jt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var i="leaflet-control-zoom",a=Ye("div",i+" leaflet-bar"),s=this.options;return this._zoomInButton=this._createButton(s.zoomInText,s.zoomInTitle,i+"-in",a,this._zoomIn),this._zoomOutButton=this._createButton(s.zoomOutText,s.zoomOutTitle,i+"-out",a,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),a},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,i,a,s,h){var v=Ye("a",a,s);return v.innerHTML=t,v.href="#",v.title=i,v.setAttribute("role","button"),v.setAttribute("aria-label",i),pr(v),He(v,"click",on),He(v,"click",h,this),He(v,"click",this._refocusOnMap,this),v},_updateDisabled:function(){var t=this._map,i="leaflet-disabled";lt(this._zoomInButton,i),lt(this._zoomOutButton,i),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(Ke(this._zoomOutButton,i),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(Ke(this._zoomInButton,i),this._zoomInButton.setAttribute("aria-disabled","true"))}});Qe.mergeOptions({zoomControl:!0}),Qe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ei,this.addControl(this.zoomControl))});var Ka=function(t){return new Ei(t)},It=jt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var i="leaflet-control-scale",a=Ye("div",i),s=this.options;return this._addScales(s,i+"-line",a),t.on(s.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),a},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,i,a){t.metric&&(this._mScale=Ye("div",i,a)),t.imperial&&(this._iScale=Ye("div",i,a))},_update:function(){var t=this._map,i=t.getSize().y/2,a=t.distance(t.containerPointToLatLng([0,i]),t.containerPointToLatLng([this.options.maxWidth,i]));this._updateScales(a)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var i=this._getRoundNum(t),a=i<1e3?i+" m":i/1e3+" km";this._updateScale(this._mScale,a,i/t)},_updateImperial:function(t){var i=t*3.2808399,a,s,h;i>5280?(a=i/5280,s=this._getRoundNum(a),this._updateScale(this._iScale,s+" mi",s/a)):(h=this._getRoundNum(i),this._updateScale(this._iScale,h+" ft",h/i))},_updateScale:function(t,i,a){t.style.width=Math.round(this.options.maxWidth*a)+"px",t.innerHTML=i},_getRoundNum:function(t){var i=Math.pow(10,(Math.floor(t)+"").length-1),a=t/i;return a=a>=10?10:a>=5?5:a>=3?3:a>=2?2:1,i*a}}),Li=function(t){return new It(t)},Ho='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ri=jt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ae.inlineSvg?Ho+" ":"")+"Leaflet</a>"},initialize:function(t){A(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=Ye("div","leaflet-control-attribution"),pr(this._container);for(var i in t._layers)t._layers[i].getAttribution&&this.addAttribution(t._layers[i].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var i in this._attributions)this._attributions[i]&&t.push(i);var a=[];this.options.prefix&&a.push(this.options.prefix),t.length&&a.push(t.join(", ")),this._container.innerHTML=a.join(' <span aria-hidden="true">|</span> ')}}});Qe.mergeOptions({attributionControl:!0}),Qe.addInitHook(function(){this.options.attributionControl&&new ri().addTo(this)});var fs=function(t){return new ri(t)};jt.Layers=Wo,jt.Zoom=Ei,jt.Scale=It,jt.Attribution=ri,jn.layers=eo,jn.zoom=Ka,jn.scale=Li,jn.attribution=fs;var Vt=re.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Vt.addTo=function(t,i){return t.addHandler(i,this),this};var Vo={Events:te},Oi=Ae.touch?"touchstart mousedown":"mousedown",an=oe.extend({options:{clickTolerance:3},initialize:function(t,i,a,s){A(this,s),this._element=t,this._dragStartTarget=i||t,this._preventOutline=a},enable:function(){this._enabled||(He(this._dragStartTarget,Oi,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(an._dragging===this&&this.finishDrag(!0),ot(this._dragStartTarget,Oi,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!bi(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){an._dragging===this&&this.finishDrag();return}if(!(an._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(an._dragging=this,this._preventOutline&&Ti(this._element),Kr(),Xe(),!this._moving)){this.fire("down");var i=t.touches?t.touches[0]:t,a=Ln(this._element);this._startPoint=new b(i.clientX,i.clientY),this._startPos=En(this._element),this._parentScale=pn(a);var s=t.type==="mousedown";He(document,s?"mousemove":"touchmove",this._onMove,this),He(document,s?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var i=t.touches&&t.touches.length===1?t.touches[0]:t,a=new b(i.clientX,i.clientY)._subtract(this._startPoint);!a.x&&!a.y||Math.abs(a.x)+Math.abs(a.y)<this.options.clickTolerance||(a.x/=this._parentScale.x,a.y/=this._parentScale.y,ft(t),this._moved||(this.fire("dragstart"),this._moved=!0,Ke(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ke(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(a),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),gt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){lt(document.body,"leaflet-dragging"),this._lastTarget&&(lt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ot(document,"mousemove touchmove",this._onMove,this),ot(document,"mouseup touchend touchcancel",this._onUp,this),Yr(),Pi();var i=this._moved&&this._moving;this._moving=!1,an._dragging=!1,i&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function Go(t,i,a){var s,h=[1,4,2,8],v,M,$,G,le,Ee,Ue,qe;for(v=0,Ee=t.length;v<Ee;v++)t[v]._code=oi(t[v],i);for($=0;$<4;$++){for(Ue=h[$],s=[],v=0,Ee=t.length,M=Ee-1;v<Ee;M=v++)G=t[v],le=t[M],G._code&Ue?le._code&Ue||(qe=no(le,G,Ue,i,a),qe._code=oi(qe,i),s.push(qe)):(le._code&Ue&&(qe=no(le,G,Ue,i,a),qe._code=oi(qe,i),s.push(qe)),s.push(G));t=s}return t}function Ya(t,i){var a,s,h,v,M,$,G,le,Ee;if(!t||t.length===0)throw new Error("latlngs not passed");Gt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var Ue=xe([0,0]),qe=Te(t),St=qe.getNorthWest().distanceTo(qe.getSouthWest())*qe.getNorthEast().distanceTo(qe.getNorthWest());St<1700&&(Ue=Ko(t));var _t=t.length,Zt=[];for(a=0;a<_t;a++){var Mt=xe(t[a]);Zt.push(i.project(xe([Mt.lat-Ue.lat,Mt.lng-Ue.lng])))}for($=G=le=0,a=0,s=_t-1;a<_t;s=a++)h=Zt[a],v=Zt[s],M=h.y*v.x-v.y*h.x,G+=(h.x+v.x)*M,le+=(h.y+v.y)*M,$+=M*3;$===0?Ee=Zt[0]:Ee=[G/$,le/$];var ji=i.unproject(C(Ee));return xe([ji.lat+Ue.lat,ji.lng+Ue.lng])}function Ko(t){for(var i=0,a=0,s=0,h=0;h<t.length;h++){var v=xe(t[h]);i+=v.lat,a+=v.lng,s++}return xe([i/s,a/s])}var ps={__proto__:null,clipPolygon:Go,polygonCenter:Ya,centroid:Ko};function to(t,i){if(!i||!t.length)return t.slice();var a=i*i;return t=vs(t,a),t=gs(t,a),t}function qa(t,i,a){return Math.sqrt(ai(t,i,a,!0))}function ms(t,i,a){return ai(t,i,a)}function gs(t,i){var a=t.length,s=typeof Uint8Array<"u"?Uint8Array:Array,h=new s(a);h[0]=h[a-1]=1,Yo(t,h,i,0,a-1);var v,M=[];for(v=0;v<a;v++)h[v]&&M.push(t[v]);return M}function Yo(t,i,a,s,h){var v=0,M,$,G;for($=s+1;$<=h-1;$++)G=ai(t[$],t[s],t[h],!0),G>v&&(M=$,v=G);v>a&&(i[M]=1,Yo(t,i,a,s,M),Yo(t,i,a,M,h))}function vs(t,i){for(var a=[t[0]],s=1,h=0,v=t.length;s<v;s++)ys(t[s],t[h])>i&&(a.push(t[s]),h=s);return h<v-1&&a.push(t[v-1]),a}var qo;function Ja(t,i,a,s,h){var v=s?qo:oi(t,a),M=oi(i,a),$,G,le;for(qo=M;;){if(!(v|M))return[t,i];if(v&M)return!1;$=v||M,G=no(t,i,$,a,h),le=oi(G,a),$===v?(t=G,v=le):(i=G,M=le)}}function no(t,i,a,s,h){var v=i.x-t.x,M=i.y-t.y,$=s.min,G=s.max,le,Ee;return a&8?(le=t.x+v*(G.y-t.y)/M,Ee=G.y):a&4?(le=t.x+v*($.y-t.y)/M,Ee=$.y):a&2?(le=G.x,Ee=t.y+M*(G.x-t.x)/v):a&1&&(le=$.x,Ee=t.y+M*($.x-t.x)/v),new b(le,Ee,h)}function oi(t,i){var a=0;return t.x<i.min.x?a|=1:t.x>i.max.x&&(a|=2),t.y<i.min.y?a|=4:t.y>i.max.y&&(a|=8),a}function ys(t,i){var a=i.x-t.x,s=i.y-t.y;return a*a+s*s}function ai(t,i,a,s){var h=i.x,v=i.y,M=a.x-h,$=a.y-v,G=M*M+$*$,le;return G>0&&(le=((t.x-h)*M+(t.y-v)*$)/G,le>1?(h=a.x,v=a.y):le>0&&(h+=M*le,v+=$*le)),M=t.x-h,$=t.y-v,s?M*M+$*$:new b(h,v)}function Gt(t){return!Y(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function Qa(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Gt(t)}function Xa(t,i){var a,s,h,v,M,$,G,le;if(!t||t.length===0)throw new Error("latlngs not passed");Gt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var Ee=xe([0,0]),Ue=Te(t),qe=Ue.getNorthWest().distanceTo(Ue.getSouthWest())*Ue.getNorthEast().distanceTo(Ue.getNorthWest());qe<1700&&(Ee=Ko(t));var St=t.length,_t=[];for(a=0;a<St;a++){var Zt=xe(t[a]);_t.push(i.project(xe([Zt.lat-Ee.lat,Zt.lng-Ee.lng])))}for(a=0,s=0;a<St-1;a++)s+=_t[a].distanceTo(_t[a+1])/2;if(s===0)le=_t[0];else for(a=0,v=0;a<St-1;a++)if(M=_t[a],$=_t[a+1],h=M.distanceTo($),v+=h,v>s){G=(v-s)/h,le=[$.x-G*($.x-M.x),$.y-G*($.y-M.y)];break}var Mt=i.unproject(C(le));return xe([Mt.lat+Ee.lat,Mt.lng+Ee.lng])}var el={__proto__:null,simplify:to,pointToSegmentDistance:qa,closestPointOnSegment:ms,clipSegment:Ja,_getEdgeIntersection:no,_getBitCode:oi,_sqClosestPointOnSegment:ai,isFlat:Gt,_flat:Qa,polylineCenter:Xa},Jo={project:function(t){return new b(t.lng,t.lat)},unproject:function(t){return new _e(t.y,t.x)},bounds:new _([-180,-90],[180,90])},Qo={R:6378137,R_MINOR:6356752314245179e-9,bounds:new _([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var i=Math.PI/180,a=this.R,s=t.lat*i,h=this.R_MINOR/a,v=Math.sqrt(1-h*h),M=v*Math.sin(s),$=Math.tan(Math.PI/4-s/2)/Math.pow((1-M)/(1+M),v/2);return s=-a*Math.log(Math.max($,1e-10)),new b(t.lng*i*a,s)},unproject:function(t){for(var i=180/Math.PI,a=this.R,s=this.R_MINOR/a,h=Math.sqrt(1-s*s),v=Math.exp(-t.y/a),M=Math.PI/2-2*Math.atan(v),$=0,G=.1,le;$<15&&Math.abs(G)>1e-7;$++)le=h*Math.sin(M),le=Math.pow((1-le)/(1+le),h/2),G=Math.PI/2-2*Math.atan(v*le)-M,M+=G;return new _e(M*i,t.x*i/a)}},_s={__proto__:null,LonLat:Jo,Mercator:Qo,SphericalMercator:Pe},ws=w({},Ge,{code:"EPSG:3395",projection:Qo,transformation:function(){var t=.5/(Math.PI*Qo.R);return it(t,.5,-t,.5)}()}),tl=w({},Ge,{code:"EPSG:4326",projection:Jo,transformation:it(1/180,1,-1/180,.5)}),Cs=w({},me,{projection:Jo,transformation:it(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,i){var a=i.lng-t.lng,s=i.lat-t.lat;return Math.sqrt(a*a+s*s)},infinite:!0});me.Earth=Ge,me.EPSG3395=ws,me.EPSG3857=Se,me.EPSG900913=Ht,me.EPSG4326=tl,me.Simple=Cs;var ln=oe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[N(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[N(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var i=t.target;if(i.hasLayer(this)){if(this._map=i,this._zoomAnimated=i._zoomAnimated,this.getEvents){var a=this.getEvents();i.on(a,this),this.once("remove",function(){i.off(a,this)},this)}this.onAdd(i),this.fire("add"),i.fire("layeradd",{layer:this})}}});Qe.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var i=N(t);return this._layers[i]?this:(this._layers[i]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var i=N(t);return this._layers[i]?(this._loaded&&t.onRemove(this),delete this._layers[i],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return N(t)in this._layers},eachLayer:function(t,i){for(var a in this._layers)t.call(i,this._layers[a]);return this},_addLayers:function(t){t=t?Y(t)?t:[t]:[];for(var i=0,a=t.length;i<a;i++)this.addLayer(t[i])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[N(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var i=N(t);this._zoomBoundLayers[i]&&(delete this._zoomBoundLayers[i],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,i=-1/0,a=this._getZoomSpan();for(var s in this._zoomBoundLayers){var h=this._zoomBoundLayers[s].options;t=h.minZoom===void 0?t:Math.min(t,h.minZoom),i=h.maxZoom===void 0?i:Math.max(i,h.maxZoom)}this._layersMaxZoom=i===-1/0?void 0:i,this._layersMinZoom=t===1/0?void 0:t,a!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Un=ln.extend({initialize:function(t,i){A(this,i),this._layers={};var a,s;if(t)for(a=0,s=t.length;a<s;a++)this.addLayer(t[a])},addLayer:function(t){var i=this.getLayerId(t);return this._layers[i]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var i=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[i]&&this._map.removeLayer(this._layers[i]),delete this._layers[i],this},hasLayer:function(t){var i=typeof t=="number"?t:this.getLayerId(t);return i in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var i=Array.prototype.slice.call(arguments,1),a,s;for(a in this._layers)s=this._layers[a],s[t]&&s[t].apply(s,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,i){for(var a in this._layers)t.call(i,this._layers[a]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return N(t)}}),vr=function(t,i){return new Un(t,i)},On=Un.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Un.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Un.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new pe;for(var i in this._layers){var a=this._layers[i];t.extend(a.getBounds?a.getBounds():a.getLatLng())}return t}}),nl=function(t,i){return new On(t,i)},li=re.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){A(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,i){var a=this._getIconUrl(t);if(!a){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var s=this._createImg(a,i&&i.tagName==="IMG"?i:null);return this._setIconStyles(s,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),s},_setIconStyles:function(t,i){var a=this.options,s=a[i+"Size"];typeof s=="number"&&(s=[s,s]);var h=C(s),v=C(i==="shadow"&&a.shadowAnchor||a.iconAnchor||h&&h.divideBy(2,!0));t.className="leaflet-marker-"+i+" "+(a.className||""),v&&(t.style.marginLeft=-v.x+"px",t.style.marginTop=-v.y+"px"),h&&(t.style.width=h.x+"px",t.style.height=h.y+"px")},_createImg:function(t,i){return i=i||document.createElement("img"),i.src=t,i},_getIconUrl:function(t){return Ae.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function il(t){return new li(t)}var Ni=li.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof Ni.imagePath!="string"&&(Ni.imagePath=this._detectIconPath()),(this.options.imagePath||Ni.imagePath)+li.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var i=function(a,s,h){var v=s.exec(a);return v&&v[h]};return t=i(t,/^url\((['"])?(.+)\1\)$/,2),t&&i(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=Ye("div","leaflet-default-icon-path",document.body),i=cr(t,"background-image")||cr(t,"backgroundImage");if(document.body.removeChild(t),i=this._stripUrl(i),i)return i;var a=document.querySelector('link[href$="leaflet.css"]');return a?a.href.substring(0,a.href.length-11-1):""}}),Xo=Vt.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new an(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ke(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&lt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var i=this._marker,a=i._map,s=this._marker.options.autoPanSpeed,h=this._marker.options.autoPanPadding,v=En(i._icon),M=a.getPixelBounds(),$=a.getPixelOrigin(),G=j(M.min._subtract($).add(h),M.max._subtract($).subtract(h));if(!G.contains(v)){var le=C((Math.max(G.max.x,v.x)-G.max.x)/(M.max.x-G.max.x)-(Math.min(G.min.x,v.x)-G.min.x)/(M.min.x-G.min.x),(Math.max(G.max.y,v.y)-G.max.y)/(M.max.y-G.max.y)-(Math.min(G.min.y,v.y)-G.min.y)/(M.min.y-G.min.y)).multiplyBy(s);a.panBy(le,{animate:!1}),this._draggable._newPos._add(le),this._draggable._startPos._add(le),gt(i._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=D(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(Ie(this._panRequest),this._panRequest=D(this._adjustPan.bind(this,t)))},_onDrag:function(t){var i=this._marker,a=i._shadow,s=En(i._icon),h=i._map.layerPointToLatLng(s);a&&gt(a,s),i._latlng=h,t.latlng=h,t.oldLatLng=this._oldLatLng,i.fire("move",t).fire("drag",t)},_onDragEnd:function(t){Ie(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Nn=ln.extend({options:{icon:new Ni,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,i){A(this,i),this._latlng=xe(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var i=this._latlng;return this._latlng=xe(t),this.update(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,i="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),a=t.icon.createIcon(this._icon),s=!1;a!==this._icon&&(this._icon&&this._removeIcon(),s=!0,t.title&&(a.title=t.title),a.tagName==="IMG"&&(a.alt=t.alt||"")),Ke(a,i),t.keyboard&&(a.tabIndex="0",a.setAttribute("role","button")),this._icon=a,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&He(a,"focus",this._panOnFocus,this);var h=t.icon.createShadow(this._shadow),v=!1;h!==this._shadow&&(this._removeShadow(),v=!0),h&&(Ke(h,i),h.alt=""),this._shadow=h,t.opacity<1&&this._updateOpacity(),s&&this.getPane().appendChild(this._icon),this._initInteraction(),h&&v&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ot(this._icon,"focus",this._panOnFocus,this),ut(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ut(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&gt(this._icon,t),this._shadow&&gt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(i)},_initInteraction:function(){if(this.options.interactive&&(Ke(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Xo)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Xo(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&zt(this._icon,t),this._shadow&&zt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var i=this.options.icon.options,a=i.iconSize?C(i.iconSize):C(0,0),s=i.iconAnchor?C(i.iconAnchor):C(0,0);t.panInside(this._latlng,{paddingTopLeft:s,paddingBottomRight:a.subtract(s)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function xs(t,i){return new Nn(t,i)}var Zn=ln.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return A(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),io=Zn.extend({options:{fill:!0,radius:10},initialize:function(t,i){A(this,i),this._latlng=xe(t),this._radius=this.options.radius},setLatLng:function(t){var i=this._latlng;return this._latlng=xe(t),this.redraw(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var i=t&&t.radius||this._radius;return Zn.prototype.setStyle.call(this,t),this.setRadius(i),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,i=this._radiusY||t,a=this._clickTolerance(),s=[t+a,i+a];this._pxBounds=new _(this._point.subtract(s),this._point.add(s))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function rl(t,i){return new io(t,i)}var ro=io.extend({initialize:function(t,i,a){if(typeof i=="number"&&(i=w({},a,{radius:i})),A(this,i),this._latlng=xe(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new pe(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Zn.prototype.setStyle,_project:function(){var t=this._latlng.lng,i=this._latlng.lat,a=this._map,s=a.options.crs;if(s.distance===Ge.distance){var h=Math.PI/180,v=this._mRadius/Ge.R/h,M=a.project([i+v,t]),$=a.project([i-v,t]),G=M.add($).divideBy(2),le=a.unproject(G).lat,Ee=Math.acos((Math.cos(v*h)-Math.sin(i*h)*Math.sin(le*h))/(Math.cos(i*h)*Math.cos(le*h)))/h;(isNaN(Ee)||Ee===0)&&(Ee=v/Math.cos(Math.PI/180*i)),this._point=G.subtract(a.getPixelOrigin()),this._radius=isNaN(Ee)?0:G.x-a.project([le,t-Ee]).x,this._radiusY=G.y-M.y}else{var Ue=s.unproject(s.project(this._latlng).subtract([this._mRadius,0]));this._point=a.latLngToLayerPoint(this._latlng),this._radius=this._point.x-a.latLngToLayerPoint(Ue).x}this._updateBounds()}});function yr(t,i,a){return new ro(t,i,a)}var Ut=Zn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,i){A(this,i),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var i=1/0,a=null,s=ai,h,v,M=0,$=this._parts.length;M<$;M++)for(var G=this._parts[M],le=1,Ee=G.length;le<Ee;le++){h=G[le-1],v=G[le];var Ue=s(t,h,v,!0);Ue<i&&(i=Ue,a=s(t,h,v))}return a&&(a.distance=Math.sqrt(i)),a},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Xa(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,i){return i=i||this._defaultShape(),t=xe(t),i.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new pe,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Gt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var i=[],a=Gt(t),s=0,h=t.length;s<h;s++)a?(i[s]=xe(t[s]),this._bounds.extend(i[s])):i[s]=this._convertLatLngs(t[s]);return i},_project:function(){var t=new _;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),i=new b(t,t);this._rawPxBounds&&(this._pxBounds=new _([this._rawPxBounds.min.subtract(i),this._rawPxBounds.max.add(i)]))},_projectLatlngs:function(t,i,a){var s=t[0]instanceof _e,h=t.length,v,M;if(s){for(M=[],v=0;v<h;v++)M[v]=this._map.latLngToLayerPoint(t[v]),a.extend(M[v]);i.push(M)}else for(v=0;v<h;v++)this._projectLatlngs(t[v],i,a)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var i=this._parts,a,s,h,v,M,$,G;for(a=0,h=0,v=this._rings.length;a<v;a++)for(G=this._rings[a],s=0,M=G.length;s<M-1;s++)$=Ja(G[s],G[s+1],t,s,!0),$&&(i[h]=i[h]||[],i[h].push($[0]),($[1]!==G[s+1]||s===M-2)&&(i[h].push($[1]),h++))}},_simplifyPoints:function(){for(var t=this._parts,i=this.options.smoothFactor,a=0,s=t.length;a<s;a++)t[a]=to(t[a],i)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,i){var a,s,h,v,M,$,G=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(a=0,v=this._parts.length;a<v;a++)for($=this._parts[a],s=0,M=$.length,h=M-1;s<M;h=s++)if(!(!i&&s===0)&&qa(t,$[h],$[s])<=G)return!0;return!1}});function Ss(t,i){return new Ut(t,i)}Ut._flat=Qa;var zn=Ut.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ya(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var i=Ut.prototype._convertLatLngs.call(this,t),a=i.length;return a>=2&&i[0]instanceof _e&&i[0].equals(i[a-1])&&i.pop(),i},_setLatLngs:function(t){Ut.prototype._setLatLngs.call(this,t),Gt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Gt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,i=this.options.weight,a=new b(i,i);if(t=new _(t.min.subtract(a),t.max.add(a)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var s=0,h=this._rings.length,v;s<h;s++)v=Go(this._rings[s],t,!0),v.length&&this._parts.push(v)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var i=!1,a,s,h,v,M,$,G,le;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(v=0,G=this._parts.length;v<G;v++)for(a=this._parts[v],M=0,le=a.length,$=le-1;M<le;$=M++)s=a[M],h=a[$],s.y>t.y!=h.y>t.y&&t.x<(h.x-s.x)*(t.y-s.y)/(h.y-s.y)+s.x&&(i=!i);return i||Ut.prototype._containsPoint.call(this,t,!0)}});function bs(t,i){return new zn(t,i)}var gn=On.extend({initialize:function(t,i){A(this,i),this._layers={},t&&this.addData(t)},addData:function(t){var i=Y(t)?t:t.features,a,s,h;if(i){for(a=0,s=i.length;a<s;a++)h=i[a],(h.geometries||h.geometry||h.features||h.coordinates)&&this.addData(h);return this}var v=this.options;if(v.filter&&!v.filter(t))return this;var M=zi(t,v);return M?(M.feature=uo(t),M.defaultOptions=M.options,this.resetStyle(M),v.onEachFeature&&v.onEachFeature(t,M),this.addLayer(M)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=w({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(i){this._setLayerStyle(i,t)},this)},_setLayerStyle:function(t,i){t.setStyle&&(typeof i=="function"&&(i=i(t.feature)),t.setStyle(i))}});function zi(t,i){var a=t.type==="Feature"?t.geometry:t,s=a?a.coordinates:null,h=[],v=i&&i.pointToLayer,M=i&&i.coordsToLatLng||ao,$,G,le,Ee;if(!s&&!a)return null;switch(a.type){case"Point":return $=M(s),oo(v,t,$,i);case"MultiPoint":for(le=0,Ee=s.length;le<Ee;le++)$=M(s[le]),h.push(oo(v,t,$,i));return new On(h);case"LineString":case"MultiLineString":return G=_r(s,a.type==="LineString"?0:1,M),new Ut(G,i);case"Polygon":case"MultiPolygon":return G=_r(s,a.type==="Polygon"?1:2,M),new zn(G,i);case"GeometryCollection":for(le=0,Ee=a.geometries.length;le<Ee;le++){var Ue=zi({geometry:a.geometries[le],type:"Feature",properties:t.properties},i);Ue&&h.push(Ue)}return new On(h);case"FeatureCollection":for(le=0,Ee=a.features.length;le<Ee;le++){var qe=zi(a.features[le],i);qe&&h.push(qe)}return new On(h);default:throw new Error("Invalid GeoJSON object.")}}function oo(t,i,a,s){return t?t(i,a):new Nn(a,s&&s.markersInheritOptions&&s)}function ao(t){return new _e(t[1],t[0],t[2])}function _r(t,i,a){for(var s=[],h=0,v=t.length,M;h<v;h++)M=i?_r(t[h],i-1,a):(a||ao)(t[h]),s.push(M);return s}function lo(t,i){return t=xe(t),t.alt!==void 0?[V(t.lng,i),V(t.lat,i),V(t.alt,i)]:[V(t.lng,i),V(t.lat,i)]}function so(t,i,a,s){for(var h=[],v=0,M=t.length;v<M;v++)h.push(i?so(t[v],Gt(t[v])?0:i-1,a,s):lo(t[v],s));return!i&&a&&h.length>0&&h.push(h[0].slice()),h}function Ii(t,i){return t.feature?w({},t.feature,{geometry:i}):uo(i)}function uo(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var ea={toGeoJSON:function(t){return Ii(this,{type:"Point",coordinates:lo(this.getLatLng(),t)})}};Nn.include(ea),ro.include(ea),io.include(ea),Ut.include({toGeoJSON:function(t){var i=!Gt(this._latlngs),a=so(this._latlngs,i?1:0,!1,t);return Ii(this,{type:(i?"Multi":"")+"LineString",coordinates:a})}}),zn.include({toGeoJSON:function(t){var i=!Gt(this._latlngs),a=i&&!Gt(this._latlngs[0]),s=so(this._latlngs,a?2:i?1:0,!0,t);return i||(s=[s]),Ii(this,{type:(a?"Multi":"")+"Polygon",coordinates:s})}}),Un.include({toMultiPoint:function(t){var i=[];return this.eachLayer(function(a){i.push(a.toGeoJSON(t).geometry.coordinates)}),Ii(this,{type:"MultiPoint",coordinates:i})},toGeoJSON:function(t){var i=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(i==="MultiPoint")return this.toMultiPoint(t);var a=i==="GeometryCollection",s=[];return this.eachLayer(function(h){if(h.toGeoJSON){var v=h.toGeoJSON(t);if(a)s.push(v.geometry);else{var M=uo(v);M.type==="FeatureCollection"?s.push.apply(s,M.features):s.push(M)}}}),a?Ii(this,{geometries:s,type:"GeometryCollection"}):{type:"FeatureCollection",features:s}}});function ol(t,i){return new gn(t,i)}var sn=ol,$n=ln.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,i,a){this._url=t,this._bounds=Te(i),A(this,a)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ke(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ut(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Si(this._image),this},bringToBack:function(){return this._map&&Tn(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=Te(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",i=this._image=t?this._url:Ye("img");if(Ke(i,"leaflet-image-layer"),this._zoomAnimated&&Ke(i,"leaflet-zoom-animated"),this.options.className&&Ke(i,this.options.className),i.onselectstart=F,i.onmousemove=F,i.onload=O(this.fire,this,"load"),i.onerror=O(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=i.src;return}i.src=this._url,i.alt=this.options.alt},_animateZoom:function(t){var i=this._map.getZoomScale(t.zoom),a=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;nn(this._image,a,i)},_reset:function(){var t=this._image,i=new _(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),a=i.getSize();gt(t,i.min),t.style.width=a.x+"px",t.style.height=a.y+"px"},_updateOpacity:function(){zt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),al=function(t,i,a){return new $n(t,i,a)},ta=$n.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",i=this._image=t?this._url:Ye("video");if(Ke(i,"leaflet-image-layer"),this._zoomAnimated&&Ke(i,"leaflet-zoom-animated"),this.options.className&&Ke(i,this.options.className),i.onselectstart=F,i.onmousemove=F,i.onloadeddata=O(this.fire,this,"load"),t){for(var a=i.getElementsByTagName("source"),s=[],h=0;h<a.length;h++)s.push(a[h].src);this._url=a.length>0?s:[i.src];return}Y(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(i.style,"objectFit")&&(i.style.objectFit="fill"),i.autoplay=!!this.options.autoplay,i.loop=!!this.options.loop,i.muted=!!this.options.muted,i.playsInline=!!this.options.playsInline;for(var v=0;v<this._url.length;v++){var M=Ye("source");M.src=this._url[v],i.appendChild(M)}}});function ll(t,i,a){return new ta(t,i,a)}var na=$n.extend({_initImage:function(){var t=this._image=this._url;Ke(t,"leaflet-image-layer"),this._zoomAnimated&&Ke(t,"leaflet-zoom-animated"),this.options.className&&Ke(t,this.options.className),t.onselectstart=F,t.onmousemove=F}});function ia(t,i,a){return new na(t,i,a)}var vn=ln.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,i){t&&(t instanceof _e||Y(t))?(this._latlng=xe(t),A(this,i)):(A(this,t),this._source=i),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&zt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&zt(this._container,1),this.bringToFront(),this.options.interactive&&(Ke(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(zt(this._container,0),this._removeTimeout=setTimeout(O(ut,void 0,this._container),200)):ut(this._container),this.options.interactive&&(lt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=xe(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Si(this._container),this},bringToBack:function(){return this._map&&Tn(this._container),this},_prepareOpen:function(t){var i=this._source;if(!i._map)return!1;if(i instanceof On){i=null;var a=this._source._layers;for(var s in a)if(a[s]._map){i=a[s];break}if(!i)return!1;this._source=i}if(!t)if(i.getCenter)t=i.getCenter();else if(i.getLatLng)t=i.getLatLng();else if(i.getBounds)t=i.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,i=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof i=="string")t.innerHTML=i;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(i)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),i=C(this.options.offset),a=this._getAnchor();this._zoomAnimated?gt(this._container,t.add(a)):i=i.add(t).add(a);var s=this._containerBottom=-i.y,h=this._containerLeft=-Math.round(this._containerWidth/2)+i.x;this._container.style.bottom=s+"px",this._container.style.left=h+"px"}},_getAnchor:function(){return[0,0]}});Qe.include({_initOverlay:function(t,i,a,s){var h=i;return h instanceof t||(h=new t(s).setContent(i)),a&&h.setLatLng(a),h}}),ln.include({_initOverlay:function(t,i,a,s){var h=a;return h instanceof t?(A(h,s),h._source=this):(h=i&&!s?i:new t(s,this),h.setContent(a)),h}});var co=vn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,vn.prototype.openOn.call(this,t)},onAdd:function(t){vn.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Zn||this._source.on("preclick",mn))},onRemove:function(t){vn.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Zn||this._source.off("preclick",mn))},getEvents:function(){var t=vn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",i=this._container=Ye("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),a=this._wrapper=Ye("div",t+"-content-wrapper",i);if(this._contentNode=Ye("div",t+"-content",a),pr(i),Jr(this._contentNode),He(i,"contextmenu",mn),this._tipContainer=Ye("div",t+"-tip-container",i),this._tip=Ye("div",t+"-tip",this._tipContainer),this.options.closeButton){var s=this._closeButton=Ye("a",t+"-close-button",i);s.setAttribute("role","button"),s.setAttribute("aria-label","Close popup"),s.href="#close",s.innerHTML='<span aria-hidden="true">&#215;</span>',He(s,"click",function(h){ft(h),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,i=t.style;i.width="",i.whiteSpace="nowrap";var a=t.offsetWidth;a=Math.min(a,this.options.maxWidth),a=Math.max(a,this.options.minWidth),i.width=a+1+"px",i.whiteSpace="",i.height="";var s=t.offsetHeight,h=this.options.maxHeight,v="leaflet-popup-scrolled";h&&s>h?(i.height=h+"px",Ke(t,v)):lt(t,v),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),a=this._getAnchor();gt(this._container,i.add(a))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,i=parseInt(cr(this._container,"marginBottom"),10)||0,a=this._container.offsetHeight+i,s=this._containerWidth,h=new b(this._containerLeft,-a-this._containerBottom);h._add(En(this._container));var v=t.layerPointToContainerPoint(h),M=C(this.options.autoPanPadding),$=C(this.options.autoPanPaddingTopLeft||M),G=C(this.options.autoPanPaddingBottomRight||M),le=t.getSize(),Ee=0,Ue=0;v.x+s+G.x>le.x&&(Ee=v.x+s-le.x+G.x),v.x-Ee-$.x<0&&(Ee=v.x-$.x),v.y+a+G.y>le.y&&(Ue=v.y+a-le.y+G.y),v.y-Ue-$.y<0&&(Ue=v.y-$.y),(Ee||Ue)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([Ee,Ue]))}},_getAnchor:function(){return C(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Mi=function(t,i){return new co(t,i)};Qe.mergeOptions({closePopupOnClick:!0}),Qe.include({openPopup:function(t,i,a){return this._initOverlay(co,t,i,a).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),ln.include({bindPopup:function(t,i){return this._popup=this._initOverlay(co,this._popup,t,i),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof On||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){on(t);var i=t.layer||t.target;if(this._popup._source===i&&!(i instanceof Zn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=i,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var Ai=vn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){vn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){vn.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=vn.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",i=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ye("div",i),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+N(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var i,a,s=this._map,h=this._container,v=s.latLngToContainerPoint(s.getCenter()),M=s.layerPointToContainerPoint(t),$=this.options.direction,G=h.offsetWidth,le=h.offsetHeight,Ee=C(this.options.offset),Ue=this._getAnchor();$==="top"?(i=G/2,a=le):$==="bottom"?(i=G/2,a=0):$==="center"?(i=G/2,a=le/2):$==="right"?(i=0,a=le/2):$==="left"?(i=G,a=le/2):M.x<v.x?($="right",i=0,a=le/2):($="left",i=G+(Ee.x+Ue.x)*2,a=le/2),t=t.subtract(C(i,a,!0)).add(Ee).add(Ue),lt(h,"leaflet-tooltip-right"),lt(h,"leaflet-tooltip-left"),lt(h,"leaflet-tooltip-top"),lt(h,"leaflet-tooltip-bottom"),Ke(h,"leaflet-tooltip-"+$),gt(h,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&zt(this._container,t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(i)},_getAnchor:function(){return C(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),wr=function(t,i){return new Ai(t,i)};Qe.include({openTooltip:function(t,i,a){return this._initOverlay(Ai,t,i,a).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),ln.include({bindTooltip:function(t,i){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ai,this._tooltip,t,i),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var i=t?"off":"on",a={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?a.add=this._openTooltip:(a.mouseover=this._openTooltip,a.mouseout=this.closeTooltip,a.click=this._openTooltip,this._map?this._addFocusListeners():a.add=this._addFocusListeners),this._tooltip.options.sticky&&(a.mousemove=this._moveTooltip),this[i](a),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof On||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var i=typeof t.getElement=="function"&&t.getElement();i&&(He(i,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),He(i,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var i=typeof t.getElement=="function"&&t.getElement();i&&i.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var i=this;this._map.once("moveend",function(){i._openOnceFlag=!1,i._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var i=t.latlng,a,s;this._tooltip.options.sticky&&t.originalEvent&&(a=this._map.mouseEventToContainerPoint(t.originalEvent),s=this._map.containerPointToLayerPoint(a),i=this._map.layerPointToLatLng(s)),this._tooltip.setLatLng(i)}});var ho=li.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var i=t&&t.tagName==="DIV"?t:document.createElement("div"),a=this.options;if(a.html instanceof Element?(Hr(i),i.appendChild(a.html)):i.innerHTML=a.html!==!1?a.html:"",a.bgPos){var s=C(a.bgPos);i.style.backgroundPosition=-s.x+"px "+-s.y+"px"}return this._setIconStyles(i,"icon"),i},createShadow:function(){return null}});function sl(t){return new ho(t)}li.Default=Ni;var Wn=ln.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ae.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){A(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ut(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Si(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Tn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof b?t:new b(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var i=this.getPane().children,a=-t(-1/0,1/0),s=0,h=i.length,v;s<h;s++)v=i[s].style.zIndex,i[s]!==this._container&&v&&(a=t(a,+v));isFinite(a)&&(this.options.zIndex=a+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ae.ielt9){zt(this._container,this.options.opacity);var t=+new Date,i=!1,a=!1;for(var s in this._tiles){var h=this._tiles[s];if(!(!h.current||!h.loaded)){var v=Math.min(1,(t-h.loaded)/200);zt(h.el,v),v<1?i=!0:(h.active?a=!0:this._onOpaqueTile(h),h.active=!0)}}a&&!this._noPrune&&this._pruneTiles(),i&&(Ie(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this))}},_onOpaqueTile:F,_initContainer:function(){this._container||(this._container=Ye("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,i=this.options.maxZoom;if(t!==void 0){for(var a in this._levels)a=Number(a),this._levels[a].el.children.length||a===t?(this._levels[a].el.style.zIndex=i-Math.abs(t-a),this._onUpdateLevel(a)):(ut(this._levels[a].el),this._removeTilesAtZoom(a),this._onRemoveLevel(a),delete this._levels[a]);var s=this._levels[t],h=this._map;return s||(s=this._levels[t]={},s.el=Ye("div","leaflet-tile-container leaflet-zoom-animated",this._container),s.el.style.zIndex=i,s.origin=h.project(h.unproject(h.getPixelOrigin()),t).round(),s.zoom=t,this._setZoomTransform(s,h.getCenter(),h.getZoom()),F(s.el.offsetWidth),this._onCreateLevel(s)),this._level=s,s}},_onUpdateLevel:F,_onRemoveLevel:F,_onCreateLevel:F,_pruneTiles:function(){if(this._map){var t,i,a=this._map.getZoom();if(a>this.options.maxZoom||a<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)i=this._tiles[t],i.retain=i.current;for(t in this._tiles)if(i=this._tiles[t],i.current&&!i.active){var s=i.coords;this._retainParent(s.x,s.y,s.z,s.z-5)||this._retainChildren(s.x,s.y,s.z,s.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var i in this._tiles)this._tiles[i].coords.z===t&&this._removeTile(i)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ut(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,i,a,s){var h=Math.floor(t/2),v=Math.floor(i/2),M=a-1,$=new b(+h,+v);$.z=+M;var G=this._tileCoordsToKey($),le=this._tiles[G];return le&&le.active?(le.retain=!0,!0):(le&&le.loaded&&(le.retain=!0),M>s?this._retainParent(h,v,M,s):!1)},_retainChildren:function(t,i,a,s){for(var h=2*t;h<2*t+2;h++)for(var v=2*i;v<2*i+2;v++){var M=new b(h,v);M.z=a+1;var $=this._tileCoordsToKey(M),G=this._tiles[$];if(G&&G.active){G.retain=!0;continue}else G&&G.loaded&&(G.retain=!0);a+1<s&&this._retainChildren(h,v,a+1,s)}},_resetView:function(t){var i=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),i,i)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var i=this.options;return i.minNativeZoom!==void 0&&t<i.minNativeZoom?i.minNativeZoom:i.maxNativeZoom!==void 0&&i.maxNativeZoom<t?i.maxNativeZoom:t},_setView:function(t,i,a,s){var h=Math.round(i);this.options.maxZoom!==void 0&&h>this.options.maxZoom||this.options.minZoom!==void 0&&h<this.options.minZoom?h=void 0:h=this._clampZoom(h);var v=this.options.updateWhenZooming&&h!==this._tileZoom;(!s||v)&&(this._tileZoom=h,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),h!==void 0&&this._update(t),a||this._pruneTiles(),this._noPrune=!!a),this._setZoomTransforms(t,i)},_setZoomTransforms:function(t,i){for(var a in this._levels)this._setZoomTransform(this._levels[a],t,i)},_setZoomTransform:function(t,i,a){var s=this._map.getZoomScale(a,t.zoom),h=t.origin.multiplyBy(s).subtract(this._map._getNewPixelOrigin(i,a)).round();Ae.any3d?nn(t.el,h,s):gt(t.el,h)},_resetGrid:function(){var t=this._map,i=t.options.crs,a=this._tileSize=this.getTileSize(),s=this._tileZoom,h=this._map.getPixelWorldBounds(this._tileZoom);h&&(this._globalTileRange=this._pxBoundsToTileRange(h)),this._wrapX=i.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,i.wrapLng[0]],s).x/a.x),Math.ceil(t.project([0,i.wrapLng[1]],s).x/a.y)],this._wrapY=i.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([i.wrapLat[0],0],s).y/a.x),Math.ceil(t.project([i.wrapLat[1],0],s).y/a.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var i=this._map,a=i._animatingZoom?Math.max(i._animateToZoom,i.getZoom()):i.getZoom(),s=i.getZoomScale(a,this._tileZoom),h=i.project(t,this._tileZoom).floor(),v=i.getSize().divideBy(s*2);return new _(h.subtract(v),h.add(v))},_update:function(t){var i=this._map;if(i){var a=this._clampZoom(i.getZoom());if(t===void 0&&(t=i.getCenter()),this._tileZoom!==void 0){var s=this._getTiledPixelBounds(t),h=this._pxBoundsToTileRange(s),v=h.getCenter(),M=[],$=this.options.keepBuffer,G=new _(h.getBottomLeft().subtract([$,-$]),h.getTopRight().add([$,-$]));if(!(isFinite(h.min.x)&&isFinite(h.min.y)&&isFinite(h.max.x)&&isFinite(h.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var le in this._tiles){var Ee=this._tiles[le].coords;(Ee.z!==this._tileZoom||!G.contains(new b(Ee.x,Ee.y)))&&(this._tiles[le].current=!1)}if(Math.abs(a-this._tileZoom)>1){this._setView(t,a);return}for(var Ue=h.min.y;Ue<=h.max.y;Ue++)for(var qe=h.min.x;qe<=h.max.x;qe++){var St=new b(qe,Ue);if(St.z=this._tileZoom,!!this._isValidTile(St)){var _t=this._tiles[this._tileCoordsToKey(St)];_t?_t.current=!0:M.push(St)}}if(M.sort(function(Mt,ji){return Mt.distanceTo(v)-ji.distanceTo(v)}),M.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Zt=document.createDocumentFragment();for(qe=0;qe<M.length;qe++)this._addTile(M[qe],Zt);this._level.el.appendChild(Zt)}}}},_isValidTile:function(t){var i=this._map.options.crs;if(!i.infinite){var a=this._globalTileRange;if(!i.wrapLng&&(t.x<a.min.x||t.x>a.max.x)||!i.wrapLat&&(t.y<a.min.y||t.y>a.max.y))return!1}if(!this.options.bounds)return!0;var s=this._tileCoordsToBounds(t);return Te(this.options.bounds).overlaps(s)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var i=this._map,a=this.getTileSize(),s=t.scaleBy(a),h=s.add(a),v=i.unproject(s,t.z),M=i.unproject(h,t.z);return[v,M]},_tileCoordsToBounds:function(t){var i=this._tileCoordsToNwSe(t),a=new pe(i[0],i[1]);return this.options.noWrap||(a=this._map.wrapLatLngBounds(a)),a},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var i=t.split(":"),a=new b(+i[0],+i[1]);return a.z=+i[2],a},_removeTile:function(t){var i=this._tiles[t];i&&(ut(i.el),delete this._tiles[t],this.fire("tileunload",{tile:i.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){Ke(t,"leaflet-tile");var i=this.getTileSize();t.style.width=i.x+"px",t.style.height=i.y+"px",t.onselectstart=F,t.onmousemove=F,Ae.ielt9&&this.options.opacity<1&&zt(t,this.options.opacity)},_addTile:function(t,i){var a=this._getTilePos(t),s=this._tileCoordsToKey(t),h=this.createTile(this._wrapCoords(t),O(this._tileReady,this,t));this._initTile(h),this.createTile.length<2&&D(O(this._tileReady,this,t,null,h)),gt(h,a),this._tiles[s]={el:h,coords:t,current:!0},i.appendChild(h),this.fire("tileloadstart",{tile:h,coords:t})},_tileReady:function(t,i,a){i&&this.fire("tileerror",{error:i,tile:a,coords:t});var s=this._tileCoordsToKey(t);a=this._tiles[s],a&&(a.loaded=+new Date,this._map._fadeAnimated?(zt(a.el,0),Ie(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this)):(a.active=!0,this._pruneTiles()),i||(Ke(a.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:a.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ae.ielt9||!this._map._fadeAnimated?D(this._pruneTiles,this):setTimeout(O(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var i=new b(this._wrapX?S(t.x,this._wrapX):t.x,this._wrapY?S(t.y,this._wrapY):t.y);return i.z=t.z,i},_pxBoundsToTileRange:function(t){var i=this.getTileSize();return new _(t.min.unscaleBy(i).floor(),t.max.unscaleBy(i).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Bi(t){return new Wn(t)}var Hn=Wn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,i){this._url=t,i=A(this,i),i.detectRetina&&Ae.retina&&i.maxZoom>0?(i.tileSize=Math.floor(i.tileSize/2),i.zoomReverse?(i.zoomOffset--,i.minZoom=Math.min(i.maxZoom,i.minZoom+1)):(i.zoomOffset++,i.maxZoom=Math.max(i.minZoom,i.maxZoom-1)),i.minZoom=Math.max(0,i.minZoom)):i.zoomReverse?i.minZoom=Math.min(i.maxZoom,i.minZoom):i.maxZoom=Math.max(i.minZoom,i.maxZoom),typeof i.subdomains=="string"&&(i.subdomains=i.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,i){return this._url===t&&i===void 0&&(i=!0),this._url=t,i||this.redraw(),this},createTile:function(t,i){var a=document.createElement("img");return He(a,"load",O(this._tileOnLoad,this,i,a)),He(a,"error",O(this._tileOnError,this,i,a)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(a.referrerPolicy=this.options.referrerPolicy),a.alt="",a.src=this.getTileUrl(t),a},getTileUrl:function(t){var i={r:Ae.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var a=this._globalTileRange.max.y-t.y;this.options.tms&&(i.y=a),i["-y"]=a}return q(this._url,w(i,this.options))},_tileOnLoad:function(t,i){Ae.ielt9?setTimeout(O(t,this,null,i),0):t(null,i)},_tileOnError:function(t,i,a){var s=this.options.errorTileUrl;s&&i.getAttribute("src")!==s&&(i.src=s),t(a,i)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,i=this.options.maxZoom,a=this.options.zoomReverse,s=this.options.zoomOffset;return a&&(t=i-t),t+s},_getSubdomain:function(t){var i=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[i]},_abortLoading:function(){var t,i;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(i=this._tiles[t].el,i.onload=F,i.onerror=F,!i.complete)){i.src=Ce;var a=this._tiles[t].coords;ut(i),delete this._tiles[t],this.fire("tileabort",{tile:i,coords:a})}},_removeTile:function(t){var i=this._tiles[t];if(i)return i.el.setAttribute("src",Ce),Wn.prototype._removeTile.call(this,t)},_tileReady:function(t,i,a){if(!(!this._map||a&&a.getAttribute("src")===Ce))return Wn.prototype._tileReady.call(this,t,i,a)}});function ra(t,i){return new Hn(t,i)}var Cr=Hn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,i){this._url=t;var a=w({},this.defaultWmsParams);for(var s in i)s in this.options||(a[s]=i[s]);i=A(this,i);var h=i.detectRetina&&Ae.retina?2:1,v=this.getTileSize();a.width=v.x*h,a.height=v.y*h,this.wmsParams=a},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var i=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[i]=this._crs.code,Hn.prototype.onAdd.call(this,t)},getTileUrl:function(t){var i=this._tileCoordsToNwSe(t),a=this._crs,s=j(a.project(i[0]),a.project(i[1])),h=s.min,v=s.max,M=(this._wmsVersion>=1.3&&this._crs===tl?[h.y,h.x,v.y,v.x]:[h.x,h.y,v.x,v.y]).join(","),$=Hn.prototype.getTileUrl.call(this,t);return $+Z(this.wmsParams,$,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+M},setParams:function(t,i){return w(this.wmsParams,t),i||this.redraw(),this}});function ul(t,i){return new Cr(t,i)}Hn.WMS=Cr,ra.wms=ul;var yn=ln.extend({options:{padding:.1},initialize:function(t){A(this,t),N(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ke(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,i){var a=this._map.getZoomScale(i,this._zoom),s=this._map.getSize().multiplyBy(.5+this.options.padding),h=this._map.project(this._center,i),v=s.multiplyBy(-a).add(h).subtract(this._map._getNewPixelOrigin(t,i));Ae.any3d?nn(this._container,v,a):gt(this._container,v)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,i=this._map.getSize(),a=this._map.containerPointToLayerPoint(i.multiplyBy(-t)).round();this._bounds=new _(a,a.add(i.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),oa=yn.extend({options:{tolerance:0},getEvents:function(){var t=yn.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){yn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");He(t,"mousemove",this._onMouseMove,this),He(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),He(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){Ie(this._redrawRequest),delete this._ctx,ut(this._container),ot(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var i in this._layers)t=this._layers[i],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){yn.prototype._update.call(this);var t=this._bounds,i=this._container,a=t.getSize(),s=Ae.retina?2:1;gt(i,t.min),i.width=s*a.x,i.height=s*a.y,i.style.width=a.x+"px",i.style.height=a.y+"px",Ae.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){yn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[N(t)]=t;var i=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=i),this._drawLast=i,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var i=t._order,a=i.next,s=i.prev;a?a.prev=s:this._drawLast=s,s?s.next=a:this._drawFirst=a,delete t._order,delete this._layers[N(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var i=t.options.dashArray.split(/[, ]+/),a=[],s,h;for(h=0;h<i.length;h++){if(s=Number(i[h]),isNaN(s))return;a.push(s)}t.options._dashArray=a}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||D(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var i=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new _,this._redrawBounds.extend(t._pxBounds.min.subtract([i,i])),this._redrawBounds.extend(t._pxBounds.max.add([i,i]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var i=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,i.x,i.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,i=this._redrawBounds;if(this._ctx.save(),i){var a=i.getSize();this._ctx.beginPath(),this._ctx.rect(i.min.x,i.min.y,a.x,a.y),this._ctx.clip()}this._drawing=!0;for(var s=this._drawFirst;s;s=s.next)t=s.layer,(!i||t._pxBounds&&t._pxBounds.intersects(i))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,i){if(this._drawing){var a,s,h,v,M=t._parts,$=M.length,G=this._ctx;if($){for(G.beginPath(),a=0;a<$;a++){for(s=0,h=M[a].length;s<h;s++)v=M[a][s],G[s?"lineTo":"moveTo"](v.x,v.y);i&&G.closePath()}this._fillStroke(G,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var i=t._point,a=this._ctx,s=Math.max(Math.round(t._radius),1),h=(Math.max(Math.round(t._radiusY),1)||s)/s;h!==1&&(a.save(),a.scale(1,h)),a.beginPath(),a.arc(i.x,i.y/h,s,0,Math.PI*2,!1),h!==1&&a.restore(),this._fillStroke(a,t)}},_fillStroke:function(t,i){var a=i.options;a.fill&&(t.globalAlpha=a.fillOpacity,t.fillStyle=a.fillColor||a.color,t.fill(a.fillRule||"evenodd")),a.stroke&&a.weight!==0&&(t.setLineDash&&t.setLineDash(i.options&&i.options._dashArray||[]),t.globalAlpha=a.opacity,t.lineWidth=a.weight,t.strokeStyle=a.color,t.lineCap=a.lineCap,t.lineJoin=a.lineJoin,t.stroke())},_onClick:function(t){for(var i=this._map.mouseEventToLayerPoint(t),a,s,h=this._drawFirst;h;h=h.next)a=h.layer,a.options.interactive&&a._containsPoint(i)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(a))&&(s=a);this._fireEvent(s?[s]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var i=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,i)}},_handleMouseOut:function(t){var i=this._hoveredLayer;i&&(lt(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,i){if(!this._mouseHoverThrottled){for(var a,s,h=this._drawFirst;h;h=h.next)a=h.layer,a.options.interactive&&a._containsPoint(i)&&(s=a);s!==this._hoveredLayer&&(this._handleMouseOut(t),s&&(Ke(this._container,"leaflet-interactive"),this._fireEvent([s],t,"mouseover"),this._hoveredLayer=s)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(O(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,i,a){this._map._fireDOMEvent(i,a||i.type,t)},_bringToFront:function(t){var i=t._order;if(i){var a=i.next,s=i.prev;if(a)a.prev=s;else return;s?s.next=a:a&&(this._drawFirst=a),i.prev=this._drawLast,this._drawLast.next=i,i.next=null,this._drawLast=i,this._requestRedraw(t)}},_bringToBack:function(t){var i=t._order;if(i){var a=i.next,s=i.prev;if(s)s.next=a;else return;a?a.prev=s:s&&(this._drawLast=s),i.prev=null,i.next=this._drawFirst,this._drawFirst.prev=i,this._drawFirst=i,this._requestRedraw(t)}}});function aa(t){return Ae.canvas?new oa(t):null}var Di=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),cl={_initContainer:function(){this._container=Ye("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(yn.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var i=t._container=Di("shape");Ke(i,"leaflet-vml-shape "+(this.options.className||"")),i.coordsize="1 1",t._path=Di("path"),i.appendChild(t._path),this._updateStyle(t),this._layers[N(t)]=t},_addPath:function(t){var i=t._container;this._container.appendChild(i),t.options.interactive&&t.addInteractiveTarget(i)},_removePath:function(t){var i=t._container;ut(i),t.removeInteractiveTarget(i),delete this._layers[N(t)]},_updateStyle:function(t){var i=t._stroke,a=t._fill,s=t.options,h=t._container;h.stroked=!!s.stroke,h.filled=!!s.fill,s.stroke?(i||(i=t._stroke=Di("stroke")),h.appendChild(i),i.weight=s.weight+"px",i.color=s.color,i.opacity=s.opacity,s.dashArray?i.dashStyle=Y(s.dashArray)?s.dashArray.join(" "):s.dashArray.replace(/( *, *)/g," "):i.dashStyle="",i.endcap=s.lineCap.replace("butt","flat"),i.joinstyle=s.lineJoin):i&&(h.removeChild(i),t._stroke=null),s.fill?(a||(a=t._fill=Di("fill")),h.appendChild(a),a.color=s.fillColor||s.color,a.opacity=s.fillOpacity):a&&(h.removeChild(a),t._fill=null)},_updateCircle:function(t){var i=t._point.round(),a=Math.round(t._radius),s=Math.round(t._radiusY||a);this._setPath(t,t._empty()?"M0 0":"AL "+i.x+","+i.y+" "+a+","+s+" 0,"+65535*360)},_setPath:function(t,i){t._path.v=i},_bringToFront:function(t){Si(t._container)},_bringToBack:function(t){Tn(t._container)}},un=Ae.vml?Di:ye,si=yn.extend({_initContainer:function(){this._container=un("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=un("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ut(this._container),ot(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){yn.prototype._update.call(this);var t=this._bounds,i=t.getSize(),a=this._container;(!this._svgSize||!this._svgSize.equals(i))&&(this._svgSize=i,a.setAttribute("width",i.x),a.setAttribute("height",i.y)),gt(a,t.min),a.setAttribute("viewBox",[t.min.x,t.min.y,i.x,i.y].join(" ")),this.fire("update")}},_initPath:function(t){var i=t._path=un("path");t.options.className&&Ke(i,t.options.className),t.options.interactive&&Ke(i,"leaflet-interactive"),this._updateStyle(t),this._layers[N(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ut(t._path),t.removeInteractiveTarget(t._path),delete this._layers[N(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var i=t._path,a=t.options;i&&(a.stroke?(i.setAttribute("stroke",a.color),i.setAttribute("stroke-opacity",a.opacity),i.setAttribute("stroke-width",a.weight),i.setAttribute("stroke-linecap",a.lineCap),i.setAttribute("stroke-linejoin",a.lineJoin),a.dashArray?i.setAttribute("stroke-dasharray",a.dashArray):i.removeAttribute("stroke-dasharray"),a.dashOffset?i.setAttribute("stroke-dashoffset",a.dashOffset):i.removeAttribute("stroke-dashoffset")):i.setAttribute("stroke","none"),a.fill?(i.setAttribute("fill",a.fillColor||a.color),i.setAttribute("fill-opacity",a.fillOpacity),i.setAttribute("fill-rule",a.fillRule||"evenodd")):i.setAttribute("fill","none"))},_updatePoly:function(t,i){this._setPath(t,ee(t._parts,i))},_updateCircle:function(t){var i=t._point,a=Math.max(Math.round(t._radius),1),s=Math.max(Math.round(t._radiusY),1)||a,h="a"+a+","+s+" 0 1,0 ",v=t._empty()?"M0 0":"M"+(i.x-a)+","+i.y+h+a*2+",0 "+h+-a*2+",0 ";this._setPath(t,v)},_setPath:function(t,i){t._path.setAttribute("d",i)},_bringToFront:function(t){Si(t._path)},_bringToBack:function(t){Tn(t._path)}});Ae.vml&&si.include(cl);function fo(t){return Ae.svg||Ae.vml?new si(t):null}Qe.include({getRenderer:function(t){var i=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return i||(i=this._renderer=this._createRenderer()),this.hasLayer(i)||this.addLayer(i),i},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var i=this._paneRenderers[t];return i===void 0&&(i=this._createRenderer({pane:t}),this._paneRenderers[t]=i),i},_createRenderer:function(t){return this.options.preferCanvas&&aa(t)||fo(t)}});var dl=zn.extend({initialize:function(t,i){zn.prototype.initialize.call(this,this._boundsToLatLngs(t),i)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=Te(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function ks(t,i){return new dl(t,i)}si.create=un,si.pointsToPath=ee,gn.geometryToLayer=zi,gn.coordsToLatLng=ao,gn.coordsToLatLngs=_r,gn.latLngToCoords=lo,gn.latLngsToCoords=so,gn.getFeature=Ii,gn.asFeature=uo,Qe.mergeOptions({boxZoom:!0});var Ri=Vt.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){He(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ot(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ut(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Xe(),Kr(),this._startPoint=this._map.mouseEventToContainerPoint(t),He(document,{contextmenu:on,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=Ye("div","leaflet-zoom-box",this._container),Ke(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var i=new _(this._point,this._startPoint),a=i.getSize();gt(this._box,i.min),this._box.style.width=a.x+"px",this._box.style.height=a.y+"px"},_finish:function(){this._moved&&(ut(this._box),lt(this._container,"leaflet-crosshair")),Pi(),Yr(),ot(document,{contextmenu:on,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(O(this._resetState,this),0);var i=new pe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(i).fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Qe.addInitHook("addHandler","boxZoom",Ri),Qe.mergeOptions({doubleClickZoom:!0});var hl=Vt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var i=this._map,a=i.getZoom(),s=i.options.zoomDelta,h=t.originalEvent.shiftKey?a-s:a+s;i.options.doubleClickZoom==="center"?i.setZoom(h):i.setZoomAround(t.containerPoint,h)}});Qe.addInitHook("addHandler","doubleClickZoom",hl),Qe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var la=Vt.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new an(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}Ke(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){lt(this._map._container,"leaflet-grab"),lt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var i=Te(this._map.options.maxBounds);this._offsetLimit=j(this._map.latLngToContainerPoint(i.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(i.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var i=this._lastTime=+new Date,a=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(a),this._times.push(i),this._prunePositions(i)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),i=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=i.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,i){return t-(t-i)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),i=this._offsetLimit;t.x<i.min.x&&(t.x=this._viscousLimit(t.x,i.min.x)),t.y<i.min.y&&(t.y=this._viscousLimit(t.y,i.min.y)),t.x>i.max.x&&(t.x=this._viscousLimit(t.x,i.max.x)),t.y>i.max.y&&(t.y=this._viscousLimit(t.y,i.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,i=Math.round(t/2),a=this._initialWorldOffset,s=this._draggable._newPos.x,h=(s-i+a)%t+i-a,v=(s+i+a)%t-i-a,M=Math.abs(h+a)<Math.abs(v+a)?h:v;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=M},_onDragEnd:function(t){var i=this._map,a=i.options,s=!a.inertia||t.noInertia||this._times.length<2;if(i.fire("dragend",t),s)i.fire("moveend");else{this._prunePositions(+new Date);var h=this._lastPos.subtract(this._positions[0]),v=(this._lastTime-this._times[0])/1e3,M=a.easeLinearity,$=h.multiplyBy(M/v),G=$.distanceTo([0,0]),le=Math.min(a.inertiaMaxSpeed,G),Ee=$.multiplyBy(le/G),Ue=le/(a.inertiaDeceleration*M),qe=Ee.multiplyBy(-Ue/2).round();!qe.x&&!qe.y?i.fire("moveend"):(qe=i._limitOffset(qe,i.options.maxBounds),D(function(){i.panBy(qe,{duration:Ue,easeLinearity:M,noMoveStart:!0,animate:!0})}))}}});Qe.addInitHook("addHandler","dragging",la),Qe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var sa=Vt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),He(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ot(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,i=document.documentElement,a=t.scrollTop||i.scrollTop,s=t.scrollLeft||i.scrollLeft;this._map._container.focus(),window.scrollTo(s,a)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var i=this._panKeys={},a=this.keyCodes,s,h;for(s=0,h=a.left.length;s<h;s++)i[a.left[s]]=[-1*t,0];for(s=0,h=a.right.length;s<h;s++)i[a.right[s]]=[t,0];for(s=0,h=a.down.length;s<h;s++)i[a.down[s]]=[0,t];for(s=0,h=a.up.length;s<h;s++)i[a.up[s]]=[0,-1*t]},_setZoomDelta:function(t){var i=this._zoomKeys={},a=this.keyCodes,s,h;for(s=0,h=a.zoomIn.length;s<h;s++)i[a.zoomIn[s]]=t;for(s=0,h=a.zoomOut.length;s<h;s++)i[a.zoomOut[s]]=-t},_addHooks:function(){He(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ot(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var i=t.keyCode,a=this._map,s;if(i in this._panKeys){if(!a._panAnim||!a._panAnim._inProgress)if(s=this._panKeys[i],t.shiftKey&&(s=C(s).multiplyBy(3)),a.options.maxBounds&&(s=a._limitOffset(C(s),a.options.maxBounds)),a.options.worldCopyJump){var h=a.wrapLatLng(a.unproject(a.project(a.getCenter()).add(s)));a.panTo(h)}else a.panBy(s)}else if(i in this._zoomKeys)a.setZoom(a.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else if(i===27&&a._popup&&a._popup.options.closeOnEscapeKey)a.closePopup();else return;on(t)}}});Qe.addInitHook("addHandler","keyboard",sa),Qe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var at=Vt.extend({addHooks:function(){He(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ot(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var i=Ga(t),a=this._map.options.wheelDebounceTime;this._delta+=i,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var s=Math.max(a-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(O(this._performZoom,this),s),on(t)},_performZoom:function(){var t=this._map,i=t.getZoom(),a=this._map.options.zoomSnap||0;t._stop();var s=this._delta/(this._map.options.wheelPxPerZoomLevel*4),h=4*Math.log(2/(1+Math.exp(-Math.abs(s))))/Math.LN2,v=a?Math.ceil(h/a)*a:h,M=t._limitZoom(i+(this._delta>0?v:-v))-i;this._delta=0,this._startTime=null,M&&(t.options.scrollWheelZoom==="center"?t.setZoom(i+M):t.setZoomAround(this._lastMousePos,i+M))}});Qe.addInitHook("addHandler","scrollWheelZoom",at);var ua=600;Qe.mergeOptions({tapHold:Ae.touchNative&&Ae.safari&&Ae.mobile,tapTolerance:15});var xr=Vt.extend({addHooks:function(){He(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ot(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var i=t.touches[0];this._startPos=this._newPos=new b(i.clientX,i.clientY),this._holdTimeout=setTimeout(O(function(){this._cancel(),this._isTapValid()&&(He(document,"touchend",ft),He(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",i))},this),ua),He(document,"touchend touchcancel contextmenu",this._cancel,this),He(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){ot(document,"touchend",ft),ot(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),ot(document,"touchend touchcancel contextmenu",this._cancel,this),ot(document,"touchmove",this._onMove,this)},_onMove:function(t){var i=t.touches[0];this._newPos=new b(i.clientX,i.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,i){var a=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY});a._simulated=!0,i.target.dispatchEvent(a)}});Qe.addInitHook("addHandler","tapHold",xr),Qe.mergeOptions({touchZoom:Ae.touch,bounceAtZoomLimits:!0});var Fi=Vt.extend({addHooks:function(){Ke(this._map._container,"leaflet-touch-zoom"),He(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){lt(this._map._container,"leaflet-touch-zoom"),ot(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var i=this._map;if(!(!t.touches||t.touches.length!==2||i._animatingZoom||this._zooming)){var a=i.mouseEventToContainerPoint(t.touches[0]),s=i.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),i.options.touchZoom!=="center"&&(this._pinchStartLatLng=i.containerPointToLatLng(a.add(s)._divideBy(2))),this._startDist=a.distanceTo(s),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),He(document,"touchmove",this._onTouchMove,this),He(document,"touchend touchcancel",this._onTouchEnd,this),ft(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var i=this._map,a=i.mouseEventToContainerPoint(t.touches[0]),s=i.mouseEventToContainerPoint(t.touches[1]),h=a.distanceTo(s)/this._startDist;if(this._zoom=i.getScaleZoom(h,this._startZoom),!i.options.bounceAtZoomLimits&&(this._zoom<i.getMinZoom()&&h<1||this._zoom>i.getMaxZoom()&&h>1)&&(this._zoom=i._limitZoom(this._zoom)),i.options.touchZoom==="center"){if(this._center=this._startLatLng,h===1)return}else{var v=a._add(s)._divideBy(2)._subtract(this._centerPoint);if(h===1&&v.x===0&&v.y===0)return;this._center=i.unproject(i.project(this._pinchStartLatLng,this._zoom).subtract(v),this._zoom)}this._moved||(i._moveStart(!0,!1),this._moved=!0),Ie(this._animRequest);var M=O(i._move,i,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=D(M,this,!0),ft(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Ie(this._animRequest),ot(document,"touchmove",this._onTouchMove,this),ot(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Qe.addInitHook("addHandler","touchZoom",Fi),Qe.BoxZoom=Ri,Qe.DoubleClickZoom=hl,Qe.Drag=la,Qe.Keyboard=sa,Qe.ScrollWheelZoom=at,Qe.TapHold=xr,Qe.TouchZoom=Fi,f.Bounds=_,f.Browser=Ae,f.CRS=me,f.Canvas=oa,f.Circle=ro,f.CircleMarker=io,f.Class=re,f.Control=jt,f.DivIcon=ho,f.DivOverlay=vn,f.DomEvent=Qr,f.DomUtil=fr,f.Draggable=an,f.Evented=oe,f.FeatureGroup=On,f.GeoJSON=gn,f.GridLayer=Wn,f.Handler=Vt,f.Icon=li,f.ImageOverlay=$n,f.LatLng=_e,f.LatLngBounds=pe,f.Layer=ln,f.LayerGroup=Un,f.LineUtil=el,f.Map=Qe,f.Marker=Nn,f.Mixin=Vo,f.Path=Zn,f.Point=b,f.PolyUtil=ps,f.Polygon=zn,f.Polyline=Ut,f.Popup=co,f.PosAnimation=Xr,f.Projection=_s,f.Rectangle=dl,f.Renderer=yn,f.SVG=si,f.SVGOverlay=na,f.TileLayer=Hn,f.Tooltip=Ai,f.Transformation=We,f.Util=we,f.VideoOverlay=ta,f.bind=O,f.bounds=j,f.canvas=aa,f.circle=yr,f.circleMarker=rl,f.control=jn,f.divIcon=sl,f.extend=w,f.featureGroup=nl,f.geoJSON=ol,f.geoJson=sn,f.gridLayer=Bi,f.icon=il,f.imageOverlay=al,f.latLng=xe,f.latLngBounds=Te,f.layerGroup=vr,f.map=Fn,f.marker=xs,f.point=C,f.polygon=bs,f.polyline=Ss,f.popup=Mi,f.rectangle=ks,f.setOptions=A,f.stamp=N,f.svg=fo,f.svgOverlay=ia,f.tileLayer=ra,f.tooltip=wr,f.transformation=it,f.version=y,f.videoOverlay=ll;var fl=window.L;f.noConflict=function(){return window.L=fl,this},window.L=f})}(Pa,Pa.exports)),Pa.exports}var Na=jp();const as=$u(Na);function Yu(p,m,f){return Object.freeze({instance:p,context:m,container:f})}function qu(p,m){return m==null?function(y,w){const I=T.useRef();return I.current||(I.current=p(y,w)),I}:function(y,w){const I=T.useRef();I.current||(I.current=p(y,w));const O=T.useRef(y),{instance:P}=I.current;return T.useEffect(function(){O.current!==y&&(m(P,y,O.current),O.current=y)},[P,y,w]),I}}function Up(p,m){T.useEffect(function(){return(m.layerContainer??m.map).addLayer(p.instance),function(){var I;(I=m.layerContainer)==null||I.removeLayer(p.instance),m.map.removeLayer(p.instance)}},[m,p])}function yh(p){return function(f){const y=Gu(),w=p(Ku(f,y),y);return ph(y.map,f.attribution),vh(w.current,f.eventHandlers),Up(w.current,y),w}}function Zp(p,m){const f=qu(p,m),y=yh(f);return Ap(y)}function $p(p,m){const f=qu(p),y=Rp(f,m);return Bp(y)}function Wp(p,m){const f=qu(p,m),y=yh(f);return Dp(y)}function Hp(p,m,f){const{opacity:y,zIndex:w}=m;y!=null&&y!==f.opacity&&p.setOpacity(y),w!=null&&w!==f.zIndex&&p.setZIndex(w)}function Vp(){return Gu().map}function Gp({bounds:p,boundsOptions:m,center:f,children:y,className:w,id:I,placeholder:O,style:P,whenReady:N,zoom:x,...S},F){const[V]=T.useState({className:w,id:I,style:P}),[ne,k]=T.useState(null);T.useImperativeHandle(F,()=>(ne==null?void 0:ne.map)??null,[ne]);const A=T.useCallback(z=>{if(z!==null&&ne===null){const q=new Na.Map(z,S);f!=null&&x!=null?q.setView(f,x):p!=null&&q.fitBounds(p,m),N!=null&&q.whenReady(N),k(Ip(q))}},[]);return T.useEffect(()=>()=>{ne==null||ne.map.remove()},[ne]),o("div",{...V,ref:A,children:ne?o(gh,{value:ne,children:y}):O??null})}const Kp=T.forwardRef(Gp),Ru=Zp(function({position:m,...f},y){const w=new Na.Marker(m,f);return Yu(w,Mp(y,{overlayContainer:w}))},function(m,f,y){f.position!==y.position&&m.setLatLng(f.position),f.icon!=null&&f.icon!==y.icon&&m.setIcon(f.icon),f.zIndexOffset!=null&&f.zIndexOffset!==y.zIndexOffset&&m.setZIndexOffset(f.zIndexOffset),f.opacity!=null&&f.opacity!==y.opacity&&m.setOpacity(f.opacity),m.dragging!=null&&f.draggable!==y.draggable&&(f.draggable===!0?m.dragging.enable():m.dragging.disable())}),Fu=$p(function(m,f){const y=new Na.Popup(m,f.overlayContainer);return Yu(y,f)},function(m,f,{position:y},w){T.useEffect(function(){const{instance:O}=m;function P(x){x.popup===O&&(O.update(),w(!0))}function N(x){x.popup===O&&w(!1)}return f.map.on({popupopen:P,popupclose:N}),f.overlayContainer==null?(y!=null&&O.setLatLng(y),O.openOn(f.map)):f.overlayContainer.bindPopup(O),function(){var S;f.map.off({popupopen:P,popupclose:N}),(S=f.overlayContainer)==null||S.unbindPopup(),f.map.removeLayer(O)}},[m,f,w,y])}),Yp=Wp(function({url:m,...f},y){const w=new Na.TileLayer(m,Ku(f,y));return Yu(w,y)},function(m,f,y){Hp(m,f,y);const{url:w}=f;w!=null&&w!==y.url&&m.setUrl(w)});new as.Icon({iconUrl:"https://cdn-icons-png.flaticon.com/256/2894/2894975.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-30]});const qp=p=>{const m=p.toLowerCase()==="available"?"green":(p.toLowerCase()==="busy","blue");return new as.DivIcon({html:`
            <div style="
                position: relative;
                display: flex;
                align-items: center;
                justify-content: center;
                width: 42px;
                height: 42px;
                border-radius: 50%;
                border: 2px solid ${m}; /* This is the ring */
                background: white;
            ">
                <img 
                    src="https://cdn-icons-png.flaticon.com/256/2894/2894975.png"
                    style="
                        width: 32px; 
                        height: 32px;
                        border-radius: 50%;
                    "
                />
            </div>
        `,className:"",iconSize:[42,42],iconAnchor:[21,21],popupAnchor:[0,-21]})},Jd=p=>{const m=(p==null?void 0:p.toLowerCase())==="requested"?"red":(p==null?void 0:p.toLowerCase())==="in progress"?"green":"white";return new as.DivIcon({html:`
            <div style="
                position: relative;
                display: flex;
                align-items: center;
                justify-content: center;
                width: 42px;
                height: 42px;
                border-radius: 50%;
                border: 2px solid ${m}; /* This is the ring */
                background: white;
            ">
                <img 
                    src="https://cdn-icons-png.flaticon.com/256/3011/3011270.png"
                    style="
                        width: 32px; 
                        height: 32px;
                        border-radius: 50%;
                    "
                />
            </div>
        `,className:"",iconSize:[42,42],iconAnchor:[21,21],popupAnchor:[0,-21]})};new as.Icon({iconUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQa9Y6objfcVGpO7PeoYl1irKFKSvWHmpI5BcOr4_wtkCy2uZ6QOXHowRnBQLTnJ0-Cg7E&usqp=CAU",iconSize:[30,30]});const je={page:{marginTop:"10px",width:"100%",height:"85vh",overflowY:"hidden"},body:{width:"100%",height:"60vh",marginBottom:"0px"},footer:{backgroundColor:"white",width:"100%",height:"25vh",overflowY:"hidden",marginTop:"0px"},title:{fontSize:"1.5em",marginBottom:"20px",color:"#333",textAlign:"center"},label:{display:"block",fontSize:"0.9em",color:"#555",marginBottom:"8px"},input:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1em",backgroundColor:"white",color:"black"},buttonContainer:{display:"flex",justifyContent:"space-between",gap:"10px",marginTop:"20px"},submitButton:{backgroundColor:"#4CAF50",color:"white",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1em",flex:1},cancelButton:{backgroundColor:"#f44336",color:"white",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1em",flex:1},assignButton:{backgroundColor:"#4CAF50",color:"white",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1em",flex:1,height:"20px"},patientSearchOverlay:{position:"fixed",top:"0",left:"0",width:"50vw",height:"50vh",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",opacity:"0",pointerEvents:"none",transition:"opacity 0.3s ease, pointer-events 0.3s ease"},tableContainer:{height:"79vh",backgroundColor:"white",width:"100%"},table:{width:"95%",borderCollapse:"collapse",marginTop:"20px"},thead:{backgroundColor:"#2c3e50",color:"white",position:"sticky",top:"0px",zIndex:2e3}};function Jp(){const{state:p,logout:m,updatePatient:f}=T.useContext(en),{token:y,spineUrl:w,category:I,accessLevel:O,configurations:P,serviceBranches:N,userID:x,organisation:S}=p,[F,V]=T.useState("fleet"),[ne,k]=T.useState("triage"),[A,Z]=T.useState("eligible"),[z,q]=T.useState({}),[Y,se]=T.useState([]),[Ce,Be]=T.useState([9.06434,7.48492]),[Oe,X]=T.useState([]),[J,Re]=T.useState([]),[D,Ie]=T.useState([]);function we({center:C}){const _=Vp();return T.useEffect(()=>{C&&_.setView(C,_.getZoom(),{animate:!0})},[C,_]),null}T.useEffect(()=>{const C=async()=>{if(!y){navigate("/");return}try{const j=await fetch(`${w}/ambulance/tracking_center`,{method:"GET",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"}});if(j.ok){const pe=await j.json();X(pe.fleetData),Re(pe.pendingTickets)}else{const pe=await j.json();console.error("Error fetching fleet data:",j.statusText)}}catch(j){console.error("Error fetching fleet data:",j)}};C();const _=setInterval(C,6e3);return()=>clearInterval(_)},[]),T.useEffect(()=>{(async _=>{if(!_)return;const j=`${w}/ambulance/get_coordinates?q=${encodeURIComponent(_)}`;try{const pe=await fetch(j,{method:"GET",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"}});if(!pe.ok)throw new Error(`HTTP error! Status: ${pe.status}`);const _e=(await pe.json()).locationData;return _e!=null&&_e.latitude&&(_e!=null&&_e.longitude)?(q(xe=>({...xe,patientLatitude:_e.latitude,patientLongitude:_e.longitude,pickupAddress:_e.address,addressFound:!0})),Be([_e.latitude,_e.longitude])):q(xe=>({...xe,addressFound:!1})),console.log(`Latitude: ${_e.lat}, Longitude: ${_e.lon}`),_e}catch(pe){console.error("Error geocoding the address:",pe)}})(z.originAddress)},[z.originAddress]),T.useEffect(()=>{(()=>{let _=0;z.isRegisteredClient==="no"?Z("ineligible"):z.isRegisteredClient&&!z.patientFound&&V("patientSearch"),z.isBreathing==="no"&&(_+=10),z.hasPulse==="no"&&(_+=10),z.isConscious==="no"&&(_+=10),q({...z,triageScore:_})})()},[z.isRegisteredClient,z.isBreathing,z.isConscious,z.hasPulse]);const re=()=>{q({}),Z("eligible")},ae=C=>({backgroundColor:C%2===0?"#f9f9f9":"#e0e0e0",cursor:"pointer"}),te=async C=>{C.preventDefault();try{const _=await fetch(`${w}/patients/search_patients?ppn=${encodeURIComponent(z.ppn)}&lastName=${encodeURIComponent(z.lastName)}&dob=${encodeURIComponent(z.dob)}`,{method:"GET",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"}});if(_.ok){const j=await _.json();se(j.searchResults)}else{const j=await _.json();se([]),alert(j.message),console.error("Failed to fetch:",j.message)}}catch(_){console.error("Error fetching referrals:",_)}},oe=C=>{const{name:_,value:j}=C.target;q(pe=>({...pe,[_]:j}))},b=async C=>{const _={...z};Object.entries(C).forEach(([j,pe])=>{_[j]=pe,_.patientFound=!0}),q(_),V("fleet")},Q=async()=>{if(!window.confirm("Confirm submission")){alert("Submission cancelled!");return}try{const _=await fetch(`${w}/ambulance/raise_ambulance_ticket`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify(z)});if(_.ok){const j=await _.json();alert(j.message),V("fleet"),q({})}else{const j=await _.json();alert(j.message||"Something went wrong")}}catch(_){console.error("Submission error:",_),alert("An error occurred while submitting the ticket")}};return d("div",{style:je.page,children:[F==="patientSearch"&&d("div",{style:je.tableContainer,children:[o("h2",{children:"Search Patients"}),o("form",{style:je.form,onSubmit:te,children:o("table",{style:je.table,children:o("thead",{children:d("tr",{children:[o("th",{style:je.th,children:o("input",{type:"text",name:"lastName",value:z.lastName||"",onChange:oe,placeholder:"Last Name",style:je.input})}),o("th",{style:je.th,children:o("input",{type:"date",name:"dob",value:z.dob||"",onChange:oe,placeholder:"NHS Number",style:je.input})}),o("th",{style:je.th,children:o("input",{type:"text",name:"ppn",value:z.ppn||"",onChange:oe,placeholder:"Private Prescription Number(PPN)",style:je.input})}),d("th",{style:je.th,children:[o("button",{style:je.button,type:"submit",children:"Search"}),o("button",{onClick:()=>{q({}),se([]),V("fleet"),k("triage")},children:"Back"})]})]})})})}),d("table",{style:je.table,children:[o("thead",{style:je.thead,children:d("tr",{children:[o("th",{style:je.th,children:"Name"}),o("th",{style:je.th,children:"Gender"}),o("th",{style:je.th,children:"DOB"}),o("th",{style:je.th,children:"PPN"}),o("th",{style:je.th})]})}),o("tbody",{children:Y.length>0?Y.map(C=>d("tr",{children:[d("td",{style:je.td,children:[C.title," ",C.lastName," ",C.firstName]}),o("td",{style:je.td,children:C.gender}),o("td",{style:je.td,children:C.dob}),o("td",{style:je.td,children:C.ppn}),o("td",{style:je.td,children:o("button",{style:je.button,onClick:()=>b(C),children:"Select"})})]},C.ppn)):o("tr",{children:o("td",{colSpan:"5",style:je.td,children:"No patients found"})})})]})]}),F==="fleet"&&d("div",{children:[o("div",{style:je.body,children:d(Kp,{center:Ce,zoom:13,style:{height:"100%",width:"100%"},children:[o(we,{center:Ce}),o(Yp,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),o(Ru,{position:Ce,icon:Jd((z==null?void 0:z.serviceStatus)||""),children:d(Fu,{children:[o("strong",{children:"New Triage"}),o("br",{}),"Pickup Location: ",z.originAddress," ",o("br",{}),"Latitude: ",Ce[0],o("br",{}),"Longitude: ",Ce[1]]})}),Oe.map((C,_)=>o(Ru,{position:[C.lat,C.lng],icon:qp(C.status),children:d(Fu,{children:[o("strong",{children:"Call Sign:"})," ",C.callSign," ",o("br",{}),o("strong",{children:"Company:"})," ",C.organisation," ",o("br",{}),o("strong",{children:"Status:"})," ",C.status," ",o("br",{}),o("strong",{children:"Speed:"})," ",C.speed," km/h"]})},_)),J.map((C,_)=>o(Ru,{position:[C.lat,C.lng],icon:Jd(C.serviceStatus),eventHandlers:{click:j=>{j.target.openPopup()},dblclick:()=>{setSelectedTicket(C)}},children:d(Fu,{children:[o("strong",{children:"Patient:"})," ",C.patient," ",o("br",{}),o("strong",{children:"PPN:"})," ",C.ppn," ",o("br",{}),o("strong",{children:"Address:"})," ",C.address," ",o("br",{}),o("strong",{children:"Contact:"})," ",C.contactNumber]})},_))]})}),d("div",{style:je.footer,children:[ne==="allocation"&&o("div",{children:D.map((C,_)=>d("tr",{style:ae(_),children:[d("td",{children:[_+1," "]}),o("td",{children:C.company}),o("td",{children:o("input",{type:"range",readOnly:!0,min:0,value:C.dynamicEquityIndex})}),o("td",{children:o("span",{style:je.assignButton,children:"Assign"})})]},C))}),ne==="triage"&&d("div",{style:{display:"block",marginTop:"20px",height:"25vh",overflowY:"hidden"},children:[A=="eligible"&&d("div",{style:{display:"flex",flexDirection:"row",height:"23vh"},children:[o("div",{style:je.patientSearchOverlay}),d("div",{style:{height:"100%",width:"40%",lineHeight:"0.5",overflowY:"auto",textAlign:"left",margin:"10px"},children:[d("p",{children:[o("strong",{children:"TRIAGE SCORE:"})," ",z!=null&&z.triageScore?z.triageScore:0]}),o("p",{children:z!=null&&z.lastName?`Patient: ${z.title} ${z.lastName} ${z.firstName}`:""}),o("p",{children:z!=null&&z.dob?`DOB: ${z.dob} (${z.age}yrs`:""}),o("p",{children:z!=null&&z.gender?`Gender: ${z.gender}`:""}),o("p",{children:z!=null&&z.address?`Registered Address: ${z.address}`:"unavailable"}),d("p",{children:["Pickup Location: ",z!=null&&z.patientLatitude&&(z!=null&&z.patientLongitude)?`${z.pickupAddress}`:"?"]})]}),d("div",{style:{height:"100%",width:"70%",overflowY:"auto"},children:[d("label",{style:je.label,children:["Transport Type:",d("select",{value:z.nonproprietaryName,style:je.input,onChange:C=>q({...z,nonproprietaryName:C.target.value}),required:!0,children:[o("option",{value:"",children:"Select"}),o("option",{value:"emergency ambulance transport",children:"Emergency Ambulance Transport"}),o("option",{value:"emergency ambulance transportemergency ambulance transport for road traffic accident victims",children:"Emergency Ambulance Transport For Road Traffic Accident Victims"}),o("option",{value:"non-emergency ambulance transport",children:"Non-Emergency Ambulance Transport"})]})]}),d("label",{style:je.label,children:["Is Patient Registered on PrescribeNg Platform?:",d("select",{value:z.isRegisteredClient,style:je.input,onChange:C=>q({...z,isRegisteredClient:C.target.value}),required:!0,children:[o("option",{value:"",children:"Select"}),o("option",{value:"Y",children:"Yes"}),o("option",{value:"no",children:"No"})]})]}),d("label",{style:je.label,children:["Is Patient Breathing?:",d("select",{value:z.isBreathing,style:je.input,onChange:C=>q({...z,isBreathing:C.target.value}),required:!0,children:[o("option",{value:"",children:"Select"}),o("option",{value:"yes",children:"Yes"}),o("option",{value:"no",children:"No"})]})]}),d("label",{style:je.label,children:["Does patient have a pulse?:",d("select",{value:z.hasPulse,style:je.input,onChange:C=>q({...z,hasPulse:C.target.value}),required:!0,children:[o("option",{value:"",children:"Select"}),o("option",{value:"yes",children:"Yes"}),o("option",{value:"no",children:"No"})]})]}),d("label",{style:je.label,children:["Is patient conscious?:",d("select",{value:z.isConscious,style:je.input,onChange:C=>q({...z,isConscious:C.target.value}),required:!0,children:[o("option",{value:"",children:"Select"}),o("option",{value:"yes",children:"Yes"}),o("option",{value:"no",children:"No"})]})]}),d("label",{style:je.label,children:["Incident:",d("select",{value:z.situation,style:je.input,onChange:C=>q({...z,situation:C.target.value}),required:!0,children:[o("option",{value:"",children:"Select"}),o("option",{value:"Found unresponsive",children:"Found unresponsive"}),o("option",{value:"Road Traffic Accident",children:"Road Traffic Accident"}),o("option",{value:"other",children:"Other reasons"})]}),o("input",{value:z.otherReason,style:{...je.input,display:z.situation==="other"?"inline-block":"none"},onChange:C=>q({...z,otherReason:C.target.value}),required:!0})]}),o("h3",{children:"Security Questions"}),d("label",{style:je.label,children:["Caller's Name:",o("input",{value:z.callerName,style:je.input,onChange:C=>q({...z,callerName:C.target.value}),required:!0})]}),d("label",{style:je.label,children:["Caller's Telephone/Mobile Number:",o("input",{value:z.callerNumber,style:je.input,onChange:C=>q({...z,callerNumber:C.target.value}),required:!0})]}),d("label",{style:je.label,children:["Patient's Current Location (House number, street name, landmark(optional), city name, state):",o("input",{value:z.originAddress,style:je.input,onChange:C=>q({...z,originAddress:C.target.value}),required:!0}),o("span",{children:z.addressFound?"Found!":""})]}),d("div",{style:je.buttonContainer,children:[o("button",{style:je.submitButton,onClick:Q,children:"Submit"}),o("button",{type:"button",style:je.cancelButton,onClick:()=>{q({}),se([])},children:"Cancel"})]})]})]}),A=="ineligible"&&d("div",{children:[o("h3",{style:je.title,children:"Ineligible Client!!!"}),o("div",{style:je.buttonContainer,children:o("button",{type:"button",style:je.cancelButton,onClick:re,children:"Close"})})]})]})]})]})]})}var es={exports:{}},Qp=es.exports,Qd;function Xp(){return Qd||(Qd=1,function(p,m){(function(y,w){p.exports=w(rs())})(Qp,function(f){return function(y){var w={};function I(O){if(w[O])return w[O].exports;var P=w[O]={i:O,l:!1,exports:{}};return y[O].call(P.exports,P,P.exports,I),P.l=!0,P.exports}return I.m=y,I.c=w,I.d=function(O,P,N){I.o(O,P)||Object.defineProperty(O,P,{enumerable:!0,get:N})},I.r=function(O){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(O,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(O,"__esModule",{value:!0})},I.t=function(O,P){if(P&1&&(O=I(O)),P&8||P&4&&typeof O=="object"&&O&&O.__esModule)return O;var N=Object.create(null);if(I.r(N),Object.defineProperty(N,"default",{enumerable:!0,value:O}),P&2&&typeof O!="string")for(var x in O)I.d(N,x,(function(S){return O[S]}).bind(null,x));return N},I.n=function(O){var P=O&&O.__esModule?function(){return O.default}:function(){return O};return I.d(P,"a",P),P},I.o=function(O,P){return Object.prototype.hasOwnProperty.call(O,P)},I.p="",I(I.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(y,w,I){I.r(w);var O=I("react"),P=function(){var V=function(ne,k){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,Z){A.__proto__=Z}||function(A,Z){for(var z in Z)Z.hasOwnProperty(z)&&(A[z]=Z[z])},V(ne,k)};return function(ne,k){V(ne,k);function A(){this.constructor=ne}ne.prototype=k===null?Object.create(k):(A.prototype=k.prototype,new A)}}(),N=function(){return N=Object.assign||function(V){for(var ne,k=1,A=arguments.length;k<A;k++){ne=arguments[k];for(var Z in ne)Object.prototype.hasOwnProperty.call(ne,Z)&&(V[Z]=ne[Z])}return V},N.apply(this,arguments)},x=function(V,ne){var k={};for(var A in V)Object.prototype.hasOwnProperty.call(V,A)&&ne.indexOf(A)<0&&(k[A]=V[A]);if(V!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Z=0,A=Object.getOwnPropertySymbols(V);Z<A.length;Z++)ne.indexOf(A[Z])<0&&Object.prototype.propertyIsEnumerable.call(V,A[Z])&&(k[A[Z]]=V[A[Z]]);return k};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(ne){var k=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return k?new Promise(function(A,Z){k.call(navigator,ne,A,Z)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function S(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var F=function(V){P(ne,V);function ne(k){var A=V.call(this,k)||this;return A.canvas=null,A.ctx=null,A.requestUserMediaId=0,A.unmounted=!1,A.state={hasUserMedia:!1},A}return ne.prototype.componentDidMount=function(){var k=this,A=k.state,Z=k.props;if(this.unmounted=!1,!S()){Z.onUserMediaError("getUserMedia not supported");return}A.hasUserMedia||this.requestUserMedia(),Z.children&&typeof Z.children!="function"&&console.warn("children must be a function")},ne.prototype.componentDidUpdate=function(k){var A=this.props;if(!S()){A.onUserMediaError("getUserMedia not supported");return}var Z=JSON.stringify(k.audioConstraints)!==JSON.stringify(A.audioConstraints),z=JSON.stringify(k.videoConstraints)!==JSON.stringify(A.videoConstraints),q=k.minScreenshotWidth!==A.minScreenshotWidth,Y=k.minScreenshotHeight!==A.minScreenshotHeight;(z||q||Y)&&(this.canvas=null,this.ctx=null),(Z||z)&&(this.stopAndCleanup(),this.requestUserMedia())},ne.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},ne.stopMediaStream=function(k){k&&(k.getVideoTracks&&k.getAudioTracks?(k.getVideoTracks().map(function(A){k.removeTrack(A),A.stop()}),k.getAudioTracks().map(function(A){k.removeTrack(A),A.stop()})):k.stop())},ne.prototype.stopAndCleanup=function(){var k=this.state;k.hasUserMedia&&(ne.stopMediaStream(this.stream),k.src&&window.URL.revokeObjectURL(k.src))},ne.prototype.getScreenshot=function(k){var A=this,Z=A.state,z=A.props;if(!Z.hasUserMedia)return null;var q=this.getCanvas(k);return q&&q.toDataURL(z.screenshotFormat,z.screenshotQuality)},ne.prototype.getCanvas=function(k){var A=this,Z=A.state,z=A.props;if(!this.video||!Z.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var q=this.video.videoWidth,Y=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var se=q/Y;q=z.minScreenshotWidth||this.video.clientWidth,Y=q/se,z.minScreenshotHeight&&Y<z.minScreenshotHeight&&(Y=z.minScreenshotHeight,q=Y*se)}this.canvas=document.createElement("canvas"),this.canvas.width=(k==null?void 0:k.width)||q,this.canvas.height=(k==null?void 0:k.height)||Y,this.ctx=this.canvas.getContext("2d")}var Ce=this,Be=Ce.ctx,Oe=Ce.canvas;return Be&&Oe&&(Oe.width=(k==null?void 0:k.width)||Oe.width,Oe.height=(k==null?void 0:k.height)||Oe.height,z.mirrored&&(Be.translate(Oe.width,0),Be.scale(-1,1)),Be.imageSmoothingEnabled=z.imageSmoothing,Be.drawImage(this.video,0,0,(k==null?void 0:k.width)||Oe.width,(k==null?void 0:k.height)||Oe.height),z.mirrored&&(Be.scale(-1,1),Be.translate(-Oe.width,0))),Oe},ne.prototype.requestUserMedia=function(){var k=this,A=this.props,Z=function(Y,se){var Ce={video:typeof se<"u"?se:!0};A.audio&&(Ce.audio=typeof Y<"u"?Y:!0),k.requestUserMediaId++;var Be=k.requestUserMediaId;navigator.mediaDevices.getUserMedia(Ce).then(function(Oe){k.unmounted||Be!==k.requestUserMediaId?ne.stopMediaStream(Oe):k.handleUserMedia(null,Oe)}).catch(function(Oe){k.handleUserMedia(Oe)})};if("mediaDevices"in navigator)Z(A.audioConstraints,A.videoConstraints);else{var z=function(Y){return{optional:[{sourceId:Y}]}},q=function(Y){var se=Y.deviceId;return typeof se=="string"?se:Array.isArray(se)&&se.length>0?se[0]:typeof se=="object"&&se.ideal?se.ideal:null};MediaStreamTrack.getSources(function(Y){var se=null,Ce=null;Y.forEach(function(X){X.kind==="audio"?se=X.id:X.kind==="video"&&(Ce=X.id)});var Be=q(A.audioConstraints);Be&&(se=Be);var Oe=q(A.videoConstraints);Oe&&(Ce=Oe),Z(z(se),z(Ce))})}},ne.prototype.handleUserMedia=function(k,A){var Z=this.props;if(k||!A){this.setState({hasUserMedia:!1}),Z.onUserMediaError(k);return}this.stream=A;try{this.video&&(this.video.srcObject=A),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(A)})}Z.onUserMedia(A)},ne.prototype.render=function(){var k=this,A=this,Z=A.state,z=A.props,q=z.audio;z.forceScreenshotSourceSize;var Y=z.disablePictureInPicture;z.onUserMedia,z.onUserMediaError,z.screenshotFormat,z.screenshotQuality,z.minScreenshotWidth,z.minScreenshotHeight,z.audioConstraints,z.videoConstraints,z.imageSmoothing;var se=z.mirrored,Ce=z.style,Be=Ce===void 0?{}:Ce,Oe=z.children,X=x(z,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),J=se?N(N({},Be),{transform:(Be.transform||"")+" scaleX(-1)"}):Be,Re={getScreenshot:this.getScreenshot.bind(this)};return O.createElement(O.Fragment,null,O.createElement("video",N({autoPlay:!0,disablePictureInPicture:Y,src:Z.src,muted:!q,playsInline:!0,ref:function(D){k.video=D},style:J},X)),Oe&&Oe(Re))},ne.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},ne}(O.Component);w.default=F},react:function(y,w){y.exports=f}}).default})}(es)),es.exports}var em=Xp();const za=$u(em);function tm(){const{state:p}=T.useContext(en),{spineUrl:m,token:f,accessLevel:y,allStates:w,referenceLibrary:I}=p,[O,P]=T.useState("page1"),[N,x]=T.useState("home"),[S,F]=T.useState({}),[V,ne]=T.useState([]),[k,A]=T.useState({}),[Z,z]=T.useState(""),[q,Y]=T.useState(""),[se,Ce]=T.useState(""),[Be,Oe]=T.useState([]);fn();const[X,J]=T.useState(!1),Re=["ambulance","clinic","dental","diagnostics","hospital","pharmacy","physiotherapy"];T.useEffect(()=>{(async()=>{try{const _=await fetch(`${m}/devices/fetch_devices?serviceType=${encodeURIComponent(q)}&q=${encodeURIComponent(Z)}`,{method:"GET",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}});if(_.ok){const j=await _.json();ne(j.fleet)}else{const j=await _.json();alert(j.message)}}catch(_){console.error("Error checking duplicate service:",_)}finally{J(!1)}})()},[m,q,Z]);const D=C=>{A(C),P("productPage")};T.useEffect(()=>{(async()=>{try{const _=await fetch(`${m}/devices/check_for_approved_dispensaries?dispensaryID=${encodeURIComponent(S.dispensaryID)}`,{method:"GET",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}});if(_.ok){const j=await _.json();Ce(j.approvedDispensary),Oe(j.approvedBranches)}else{const j=await _.json();alert(j.message)}}catch(_){console.error("Error checking duplicate service:",_),alert("could not check for duplicate service")}finally{J(!1)}})()},[S.dispensaryID]),T.useEffect(()=>{(async()=>{["epcr","pre_alert"].includes(S.deviceType)&&(S.transportCategory="not applicable",S.mode="not applicable")})()},[S.deviceType,S.transportCategory,S.mode]);const Ie=async()=>{if(!se){alert("No ambulance company found!");return}if(!S.dispensaryID||!S.transportCategory||!S.mode||!S.regNumber){alert("All fields are required!");return}if(confirm("Confirm submission")){const _={};Object.entries(S).forEach(([j,pe])=>{_[j]=pe});try{const j=await fetch(`${m}/devices/create_new_device`,{method:"POST",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"},body:JSON.stringify(_)});if(j.ok){const pe=await j.json();alert(pe.message)}else{const pe=await j.json();alert(pe.message)}}catch(j){console.error("Submission error:",j),alert("An error occurred creating new medical transport vehicle")}}else alert("New medical transport vehicle creation cancelled!")},we=async C=>{let _=C;if(!confirm(`You are about to set service authorization status to ${C}. Do you want to procede?`)){alert("Action cancelled!");return}try{const pe=await fetch(`${m}/services/service_authorization`,{method:"POST",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"},body:JSON.stringify({sku:k.sku,authorizationStatus:_})});if(pe.ok){const Te=await pe.json();alert(Te.message)}else{const Te=await pe.json();alert(Te.message)}}catch(pe){console.error("Authorization error:",pe),alert("An error occurred authorizing service")}},re=async()=>{if(!confirm("Confirm submission")){alert("Action cancelled!");return}try{const _=await fetch(`${m}/services/update_allowed_categories`,{method:"POST",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"},body:JSON.stringify({sku:k.sku,allowedCategories:k.allowedCategories})});if(_.ok){const j=await _.json();alert(j.message)}else{const j=await _.json();alert(j.message)}}catch(_){console.error("Submission error:",_),alert("An error occurred updating allowed categories")}},ae=C=>{const _=[...k.allowedCategories,C];A({...k,allowedCategories:_})},te=C=>{const _=k.allowedCategories.filter(j=>j!==C);A({...k,allowedCategories:_})},oe={container:{width:"90%",height:"65vh",margin:"0 auto",padding:"20px",backgroundColor:"#ffffff",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",overflowY:"auto"},productContainer:{width:"90%",height:"60vh",textAlign:"left",margin:"0 auto",padding:"20px",backgroundColor:"#ffffff",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",overflowY:"auto"},label:{display:"block",fontSize:"0.9em",color:"#555",marginBottom:"8px",width:"98%"},input:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1em",backgroundColor:"white",color:"black"},TCBody:{height:"60vh",width:"100%",overflowY:"auto",margin:"20px",textAlign:"left"},TCButton:{padding:"10px 20px",backgroundColor:"#007bff",margin:"5px",color:"white",cursor:"pointer",borderRadius:"4px",textAlign:"center"},tableContainer:{height:"79vh",backgroundColor:"white",width:"100%"},thead:{backgroundColor:"grey",position:"sticky",top:"0px",zIndex:2e3},serviceTypeSelector:{backgroundColor:"orange",color:"white",right:"20px",width:"25%",height:"25px",top:"120px"},searchContainer:{backgroundColor:"grey",alignItems:"left",justifyContent:"left"},searchField:{backgroundColor:"white",color:"black",right:"20px",width:"25%",height:"25px",top:"120px"},categoryContainer:{padding:"20px",display:"grid",gap:"20px",gridTemplateRows:"auto auto",gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))",height:"80%",width:"100%",overflowY:"auto"}},b=C=>({backgroundColor:C%2===0?"#f9f9f9":"#e0e0e0",cursor:"pointer"}),Q=C=>{const _=k.allowedCategories.some(j=>j===C);return{display:"flex",justifyContent:"center",alignItems:"center",border:"0.5px solid",width:"120px",height:"60px",aspectRatio:"1",textAlign:"center",cursor:X?"wait":"pointer",backgroundColor:_?"#3498db":"white",transition:"background-color 0.3s ease"}};return d("div",{children:[O==="page1"&&d("div",{children:[o("h2",{children:"PRESCRIBENG SERVICES SECTION"}),d("div",{style:oe.TCBody,children:[o("h3",{children:"WARNING"}),o("p",{children:"This page is strictly for personnels of the medical department and includes the following roles: doctor, nurse, pharmacies, radiographers, laboratory scientist"}),o("p",{children:"If you do not belong to the medical department and one of the mentioned roles, exit the page immediately and report to the technical team."})]}),o("span",{style:oe.TCButton,onClick:()=>P("page2"),children:"View Existing Devices"}),o("span",{style:oe.TCButton,onClick:()=>P("newDeviceForm1"),children:"Create New Device"})]}),O==="page2"&&o("div",{children:o("div",{style:oe.container,children:d("div",{style:oe.tableContainer,children:[d("div",{style:oe.searchContainer,children:[d("select",{style:oe.serviceTypeSelector,value:q,onChange:C=>Y(C.target.value),children:[o("option",{value:"",children:"Select Service Type"}),I.serviceTypes.map(C=>o("option",{children:C},C))]}),o("input",{style:oe.searchField,value:Z,onChange:C=>z(C.target.value),placeholder:"Search here for services"}),o("span",{onClick:()=>P("page1"),style:{position:"relative",top:"0px",right:"0px"},children:"Close"})]}),d("table",{style:{width:"100%"},children:[o("thead",{style:oe.thead,children:d("tr",{children:[o("th",{children:"S/N"}),o("th",{children:"Device Type"}),o("th",{children:"Dispensary ID"}),o("th",{children:"Organisation"}),o("th",{children:"Branch"}),o("th",{children:"Transport Cat"}),o("th",{children:"Transport Mode"}),o("th",{children:"Call Sign"}),o("th",{children:"Device Status"}),o("th",{children:"Authorization"})]})}),o("tbody",{children:V.map((C,_)=>d("tr",{style:b(_),onClick:()=>D(C),children:[o("td",{children:_+1}),o("td",{children:C.deviceType}),o("td",{children:"******"+C.deviceID.slice(-4)}),o("td",{children:C.organisation}),o("td",{children:C.branchName}),o("td",{children:C.transportCategory}),o("td",{children:C.mode}),o("td",{children:C.callSign}),o("td",{children:C.deviceStatus}),o("td",{children:C.authorizationStatus})]},C))})]})]})})}),O==="productPage"&&o("div",{children:d("div",{children:[N==="home"&&d("div",{children:[o("h3",{children:"Product Page"}),d("div",{style:oe.productContainer,children:[o("span",{style:{textDecoration:"underline",color:"red"},onClick:()=>P("page2"),children:"Back"}),d("div",{style:{display:"flex",flexDirection:"row",height:"80%",overflowY:"hidden"},children:[d("div",{style:{width:"70%",height:"100%",overflowY:"auto"},children:[d("p",{children:[o("strong",{children:"Service Item: "}),k.nonproprietaryName]}),d("p",{children:[o("strong",{children:"Type: "}),k.serviceType]}),d("p",{children:[o("strong",{children:"Class: "}),k.itemClass]}),d("p",{children:[o("strong",{children:"Subclass: "}),k.itemSubclass]}),o("br",{}),d("p",{children:[o("strong",{children:"Scheme: "}),k.scheme]}),d("p",{children:[o("strong",{children:"Item Description: "}),k.description]}),o("br",{}),d("p",{children:[o("strong",{children:"Status: "}),k.authorizationStatus]}),d("p",{children:[o("strong",{children:"Added On: "}),k.createdOn]}),o("br",{}),d("p",{children:[o("strong",{children:"Added By: "}),k.createdBy]}),o("br",{}),d("p",{style:{display:k.authorizationStation==="authorized"?"inline-block":"none"},children:[o("strong",{children:"Authorized By: "}),k.authorizedBy]}),o("br",{})]}),d("div",{style:{display:"block",width:"23%",height:"100%",overflowY:"auto"},children:[o("button",{style:{...oe.TCButton},onClick:()=>x("allowedCategories"),children:"Allowed Categories"}),o("br",{}),o("button",{style:{...oe.TCButton,display:k.authorizationStation==="authorized"?"none":"inline-block"},onClick:()=>we("authorized"),children:"Authorize"}),o("br",{}),o("button",{style:{...oe.TCButton,display:k.authorizationStation==="authorized"?"none":"inline-block"},onClick:()=>we("unauthorized"),children:"De-Authorize"}),o("br",{}),o("button",{style:{...oe.TCButton,display:k.authorizationStation==="authorized"?"none":"inline-block"},onClick:()=>we("withdrawn"),children:"Withdraw"}),o("br",{}),o("button",{style:{...oe.TCButton,display:k.authorizationStation==="authorized"?"none":"inline-block"},onClick:()=>we("rejected"),children:"Reject"}),o("br",{})]})]})]})]}),N==="allowedCategories"&&d("div",{children:[o("h3",{children:"Allowed Categories"}),d("div",{style:oe.productContainer,children:[o("span",{style:{textDecoration:"underline",color:"red"},onClick:()=>x("home"),children:"Close"}),d("div",{style:{display:"flex",flexDirection:"row",height:"80%",overflowY:"hidden",backgroundColor:"grey"},children:[d("div",{style:{display:"block",width:"45%",margin:"20px",height:"100%"},children:[o("h3",{children:"Categories"}),o("div",{style:oe.categoryContainer,children:Re.map(C=>o("div",{style:Q(C),onClick:()=>ae(C),children:o("p",{children:C})},C))})]}),d("div",{style:{display:"block",width:"45%",margin:"20px",height:"100%"},children:[o("h3",{children:"Allowed Categories"}),o("div",{style:oe.categoryContainer,children:(k==null?void 0:k.allowedCategories.length)>0?k.allowedCategories.map(C=>o("div",{style:Q(C),onClick:()=>te(C),children:o("p",{children:C})},C)):o("p",{children:"No categories selected"})})]})]}),o("button",{style:oe.TCButton,onClick:re,children:"Save"})]})]})]})}),O==="newDeviceForm1"&&d("div",{children:[o("h3",{children:"New Device Form "}),d("div",{style:oe.container,children:[d("label",{style:oe.label,children:["Dispensary ID:",o("input",{type:"text",value:S.dispensaryID,onChange:C=>F({...S,dispensaryID:C.target.value}),style:oe.input})]}),o("label",{style:oe.label,children:o("p",{style:{display:se?"inline-block":"none",color:"green"},children:o("strong",{children:se.toUpperCase()})})}),d("label",{style:oe.label,children:["Branches:",d("select",{type:"text",value:S.branchID,onChange:C=>F({...S,branchID:C.target.value}),style:oe.input,children:[o("option",{value:"",children:"Select Branch"}),Be.map((C,_)=>d("option",{value:C.branchID,children:[C.branchName," branch"]},_))]})]}),d("label",{style:oe.label,children:["Device Type:",d("select",{type:"text",value:S.deviceType,onChange:C=>F({...S,deviceType:C.target.value}),style:oe.input,children:[o("option",{value:"",children:"Select Device Type"}),o("option",{value:"epcr",children:"ePCR Device"}),o("option",{value:"pos_terminal",children:"POS Terminal"}),o("option",{value:"pre_alert",children:"Ambulance Pre-alert Dashboard"}),o("option",{value:"navigation",children:"Ambulance Sat-Nav (For ambulance and transport companies)"}),o("option",{value:"fire_department_alert",children:"Fire Department Alert"}),o("option",{value:"eta_board",children:"ETA Board (For Buses and Train Services)"}),o("option",{value:"telematics",children:"Telematics (For Boats, Buses and Trains)"})]})]}),d("label",{style:{...oe.label,display:S.deviceType==="pos_terminal"?"inline-block":"none"},children:["Vendo ID:",o("input",{type:"text",value:S.vendorID,onChange:C=>F({...S,vendorID:C.target.value}),style:oe.input})]}),d("label",{style:{...oe.label,display:S.deviceType==="pos_terminal"?"inline-block":"none"},children:["Product ID:",o("input",{type:"text",value:S.productID,onChange:C=>F({...S,productID:C.target.value}),style:oe.input})]}),d("label",{style:{...oe.label,display:S.deviceType==="pos_terminal"?"inline-block":"none"},children:["Device Serial ID/Number:",o("input",{type:"text",value:S.serialID,onChange:C=>F({...S,serialID:C.target.value}),style:oe.input})]}),d("label",{style:{...oe.label,display:S.deviceType==="telematics"?"inline-block":"none"},children:["Telematic Device UserName:",o("input",{type:"text",value:S.deviceUsername,onChange:C=>F({...S,deviceUsername:C.target.value}),style:oe.input})]}),d("label",{style:{...oe.label,display:S.deviceType==="telematics"?"inline-block":"none"},children:["Telematic Device Password:",o("input",{type:"text",value:S.devicePassword,onChange:C=>F({...S,devicePassword:C.target.value}),style:oe.input})]}),d("label",{style:oe.label,children:["Transport Category:",d("select",{type:"text",value:S.transportCategory,onChange:C=>F({...S,transportCategory:C.target.value}),style:oe.input,children:[o("option",{value:"",children:"Transport Type"}),o("option",{value:"emergency",children:"Emergency"}),o("option",{value:"public-transport",children:"Public Transport"}),o("option",{value:"not applicable",children:"Not Applicable"})]})]}),d("label",{style:oe.label,children:["Transport Modality:",d("select",{type:"text",value:S.mode,onChange:C=>F({...S,mode:C.target.value}),style:oe.input,children:[o("option",{value:"",children:"Select Modality"}),o("option",{value:"bus",children:"Public transport bus"}),o("option",{value:"van",children:"Ambulance Van"}),o("option",{value:"not applicable",children:"Not Applicable"})]})]}),d("label",{style:oe.label,children:["Vehicle Registration Number:",o("input",{type:"text",value:S.regNumber,onChange:C=>F({...S,regNumber:C.target.value}),style:oe.input})]}),o("span",{style:oe.TCButton,onClick:()=>P("page1"),children:"Close"}),o("span",{style:oe.TCButton,onClick:Ie,children:"Create New Vehicle"})]})]})]})}function nm(){const{state:p}=T.useContext(en),{spineUrl:m,token:f,accessLevel:y,allStates:w,department:I,referenceLibrary:O}=p,[P,N]=T.useState([]),[x,S]=T.useState("home"),[F,V]=T.useState("view-mode"),[ne,k]=T.useState([]),[A,Z]=T.useState([]),[z,q]=T.useState({}),[Y,se]=T.useState(""),[Ce,Be]=T.useState(""),[Oe,X]=T.useState(""),[J,Re]=T.useState(""),[D,Ie]=T.useState("");fn();const[we,re]=T.useState(!1),[ae,te]=T.useState(!1),[oe,b]=T.useState(!1),[Q,C]=T.useState("table"),[_,j]=T.useState({}),[pe,Te]=T.useState([]);T.useEffect(()=>{(async()=>{re(!0);try{const be=await fetch(`${m}/organisations/fetch_dispensaries?state=${encodeURIComponent(J)}&locality=${encodeURIComponent(D)}&category=${encodeURIComponent(Ce)}&approvalStatus=${encodeURIComponent(Oe)}&q=${encodeURIComponent(Y)}`,{method:"GET",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}});if(be.ok){const U=await be.json();Z(U.dispensaries),k(U.banks)}else{const U=await be.json();alert(U.message)}}catch(be){console.error("Error fetching dispensaries:",be),alert("could not fetch dispensaries")}finally{re(!1)}})()},[m,J,D,Ce,Oe,Y,ae]),T.useEffect(()=>{(async()=>{re(!0);try{const be=await fetch(`${m}/organisations/fetch_approved_localities?state=${encodeURIComponent(J)}`,{method:"GET",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}});if(be.ok){const U=await be.json();N(U.localities),te(ie=>!ie)}else{const U=await be.json()}}catch(be){console.error("Error fetching approved localities:",be),alert("could not fetch approved localities")}finally{re(!1)}})()},[m,J]);const _e=de=>{q(de),S("organisationDashboard")},xe=async()=>{if(!z.bank){alert("Bank missing!");return}if(!z.bankCode){alert("Bank code missing!");return}if(!z.nuban){alert("Nuban missing!");return}if(!confirm("By this action, you're assuming responsibility of changes being made. Do you want to go ahead?")){alert("Action cancelled!");return}try{const be=await fetch(`${m}/organisations/update_bank_details`,{method:"POST",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"},body:JSON.stringify(z)});if(be.ok){const U=await be.json();alert(U.message),V("view-mode")}else{const U=await be.json();alert(U.message)}}catch(be){console.error("Submission error:",be),alert("An error occurred creating new service")}},me=async de=>{if(!confirm("By this action, you're assuming responsibility of changes being made. Do you want to go ahead?")){alert("Action cancelled!");return}try{const U=await fetch(`${m}/organisations/modify_dispensary`,{method:"POST",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"},body:JSON.stringify({dispensaryID:z.dispensaryID,action:de})});if(U.ok){const ie=await U.json();alert(ie.message)}else{const ie=await U.json();alert(ie.message)}}catch(U){console.error("Submission error:",U),alert("An error occurred creating new service")}},Ge=async()=>{if(!confirm("By this action, you're assuming responsibility of changes being made. Ensure organisation has sent a request through their official email and copied at least one of the key persons, who should have also responded. Organisation's whitelisted IP addresses will be deleted and a new IP address set for the main branch. Do you want to go ahead?")){alert("Action cancelled!");return}const be=prompt("Provide new IPv4 address");if(!be){alert("No IPv4 Uploaded!");return}try{const U=await fetch(`${m}/organisations/reset_network`,{method:"POST",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"},body:JSON.stringify({dispensaryID:z.dispensaryID,newIP:be})});if(U.ok){const ie=await U.json();alert(ie.message)}else{const ie=await U.json();alert(ie.message)}}catch(U){console.error("Submission error:",U),alert("An error occurred creating new service")}};T.useRef(null);const ge=de=>new Promise((be,U)=>{const ie=new FileReader;ie.onloadend=()=>be(ie.result.split(",")[1]),ie.onerror=U,ie.readAsDataURL(de)}),Pe=async()=>{if(!confirm("Confirm Image Upload")){alert("New Patient creation cancelled!"),q({...z,newLogo:null});return}const be=z.newLogo;if(be){const U=new FileReader;U.onloadend=async()=>{const ie=U.result.split(",")[1];try{const he=await fetch(`${m}/organisations/logo_upload`,{method:"POST",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"},body:JSON.stringify({dispensaryID:z.dispensaryID,newLogo:ie})});if(he.ok){const ke=await he.json();ke.newLogoUrl&&q({...z,logoUrl:ke.newLogoUrl}),S("organisationDashboard"),q({...z,newLogo:null})}else{const ke=await he.json();alert(ke.message)}}catch(he){console.error("Submission error:",he),alert("An error occurred while uploading the new logo")}},U.readAsDataURL(be)}else alert("No image selected!")},We=de=>{const{name:be,type:U,files:ie}=de.target;if(U==="file"){const he=Array.from(ie);Te(ke=>({...ke,[be]:[...ke[be]||[],...he]}))}},it=de=>{Te(be=>{const U=[...be.uploads];return U.splice(de,1),{uploads:U}})},Se=async()=>{if(confirm("Confirm submission")){const be=await Promise.all(pe.uploads.map(async U=>{const ie=await ge(U);return{name:U.name,content:ie}}));try{const U=await fetch(`${m}/organisations/file_upload`,{method:"POST",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"},body:JSON.stringify({dispensaryID:z.dispensaryID,registrationNumber:z.registrationNumber,uploads:be})});if(U.ok){const ie=await U.json();q({...z,documents:ie.documents}),C("table")}else{const ie=await U.json();alert(ie.message)}}catch(U){console.error("File upload error:",U),alert("An error occurred uploading files")}}else alert("File upload cancelled!")},Ht=async()=>{if(!_.validity){alert("Document validity missing!");return}confirm("Ensure due diligence has been done on file before modifying file verification status.")||alert("File verification cancelled!");try{const be=await fetch(`${m}/organisations/file_verification`,{method:"POST",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"},body:JSON.stringify({dispensaryID:z.dispensaryID,registrationNumber:z.registrationNumber,fileKey:_.fileKey,validity:_.validity,verification:"verified"})});if(be.ok){const U=await be.json();q({...z,documents:U.documents}),C("table"),b(!1)}else{const U=await be.json();alert(U.message)}}catch(be){console.error("File verification error:",be),alert("An error occurred uploading files")}},ye=async()=>{if(!_.validity){alert("Document validity missing!");return}confirm("Ensure due diligence has been done on file before modifying file verification status.")||alert("File verification cancelled!");try{const be=await fetch(`${m}/organisations/file_verification`,{method:"POST",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"},body:JSON.stringify({dispensaryID:z.dispensaryID,registrationNumber:z.registrationNumber,fileKey:_.fileKey,validity:_.validity,verification:"unverified"})});if(be.ok){const U=await be.json();q({...z,documents:U.documents}),C("table"),b(!1)}else{const U=await be.json();alert(U.message)}}catch(be){console.error("File verification error:",be),alert("An error occurred uploading files")}},ee={container:{width:"90%",height:"65vh",margin:"0 auto",padding:"20px",backgroundColor:"#ffffff",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",overflowY:"auto"},profileContainer:{width:"90%",height:"60vh",textAlign:"left",margin:"0 auto",padding:"20px",backgroundColor:"#ffffff",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)"},input:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1em",backgroundColor:"white",color:"black"},TCBody:{height:"60vh",width:"100%",overflowY:"auto",margin:"20px",textAlign:"left"},button:{padding:"10px",backgroundColor:"#007BFF",color:"#FFF",border:"none",cursor:"pointer",margin:"5px"},TCButton:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",cursor:"pointer",borderRadius:"4px",textAlign:"center"},specialOptions:{display:y<=3?"inline-block":"none"},image:{height:"100%",width:"100%",objectFit:"cover"},photoContainer:{position:"sticky",top:"10px",left:"80px",backgroundColor:"#fff",height:"300px",width:"300px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden",marginRight:"20px"},photoContainer2:{position:"sticky",top:"10px",left:"80px",backgroundColor:"#fff",height:"300px",width:"300px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden"},placeholderText:{color:"#666",fontSize:"16px",fontStyle:"italic",textAlign:"center"},tableContainer:{height:"79vh",backgroundColor:"white",width:"100%"},table:{width:"95%",borderCollapse:"collapse",marginTop:"20px"},thead:{backgroundColor:"grey",position:"sticky",top:"0px",zIndex:2e3},serviceTypeSelector:{backgroundColor:"#2c3e50",color:"white",right:"20px",width:"25%",height:"25px",top:"120px"},searchContainer:{backgroundColor:"grey",alignItems:"left",justifyContent:"left"},searchField:{backgroundColor:"white",color:"black",right:"20px",width:"25%",height:"25px",top:"120px"},topCloseButton:{height:"30px",width:"100px",backgroundColor:"red",cursor:"pointer"},docVerificationOverlay:{display:oe?"block":"none",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:2e3,pointerEvents:"auto",width:"40%",height:"40%",backgroundColor:"grey",textAlign:"center"},uploadfield:{padding:"20px",border:"1px solid #ccc",borderRadius:"8px"},uploadInput:{marginBottom:"10px"},uploadedFiles:{marginTop:"10px",listStyleType:"none",padding:"0",minHeight:"4vh"},uploadItem:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},removeFileButton:{color:"red",cursor:"pointer"}},Fe=de=>({backgroundColor:de%2===0?"#f9f9f9":"#e0e0e0",cursor:"pointer"});return d("div",{style:{cursor:we?"progress":"default"},children:[x==="home"&&d("div",{children:[o("h2",{children:"PRESCRIBENG SERVICES SECTION"}),d("div",{style:ee.TCBody,children:[o("h3",{children:"WARNING"}),o("p",{children:"This page is strictly for personnels of the medical department and includes the following roles: doctor, nurse, pharmacies, radiographers, laboratory scientist"}),o("p",{children:"If you do not belong to the medical department and one of the mentioned roles, exit the page immediately and report to the technical team."})]}),o("span",{style:ee.TCButton,onClick:()=>S("tableHome"),children:"View Organisations"})]}),x==="tableHome"&&o("div",{children:o("div",{style:ee.container,children:d("div",{style:ee.tableContainer,children:[d("div",{style:ee.searchContainer,children:[d("select",{style:ee.serviceTypeSelector,value:Ce,onChange:de=>Be(de.target.value),children:[o("option",{value:"",children:"Select Organisation Category"}),o("option",{value:"ambulance",children:"Ambulance Company"}),o("option",{value:"clinic",children:"Clinic"}),o("option",{value:"hospital",children:"Hospital"}),o("option",{value:"pharmacy",children:"Pharmacy"}),o("option",{value:"sponsor",children:"Sponsor Organisation"}),o("option",{style:ee.specialOptions,value:"authority",children:"Authority"})]}),d("select",{style:ee.serviceTypeSelector,value:Oe,onChange:de=>X(de.target.value),children:[o("option",{value:"",children:"Select Status"}),o("option",{value:"approved",children:"Approved Partners"}),o("option",{value:"unapproved",children:"New Partners"}),o("option",{value:"suspended",children:"Suspended"}),o("option",{value:"reported",children:"Under Investigation"}),o("option",{value:"banned",children:"Banned"})]}),d("select",{style:ee.serviceTypeSelector,value:J,onChange:de=>Re(de.target.value),children:[o("option",{value:"",children:"Select State"}),w.map(de=>o("option",{children:de},de))]}),d("select",{style:ee.serviceTypeSelector,value:D,onChange:de=>Ie(de.target.value),children:[o("option",{value:"",children:"Select Locality"}),P.map(de=>o("option",{children:de},de))]}),o("input",{style:ee.searchField,value:Y,onChange:de=>se(de.target.value),placeholder:"Search here for services"}),o("span",{onClick:()=>S("home"),style:{position:"relative",top:"0px",right:"0px",textAlign:"right"},children:"Close"})]}),d("table",{style:{width:"100%"},children:[o("thead",{style:ee.thead,children:d("tr",{children:[o("th",{children:"S/N"}),o("th",{children:"Organisation"}),o("th",{children:"Category"}),o("th",{children:"Dispensary ID"}),o("th",{children:"State"}),o("th",{children:"Locality"}),o("th",{children:"Email"}),o("th",{children:"Status"})]})}),o("tbody",{children:A.map((de,be)=>d("tr",{style:Fe(be),onClick:()=>_e(de),children:[o("td",{children:be+1}),o("td",{children:de.organisation}),o("td",{children:de.category}),o("td",{children:de.dispensaryID}),o("td",{children:de.state}),o("td",{children:de.locality}),o("td",{children:de.organisationEmail}),o("td",{children:de.approvalStatus})]},de))})]})]})})}),x==="organisationDashboard"&&o("div",{children:d("div",{style:ee.profileContainer,children:[o("h3",{children:z.organisation.toUpperCase()}),d("div",{style:{display:"flex",flexDirection:"row",height:"80%"},children:[d("div",{children:[o("div",{style:ee.photoContainer,children:z.logoUrl?o("img",{src:z.logoUrl,style:ee.image,alt:"User's photo"}):o("div",{style:ee.placeholderText,children:"Photo Not Found"})}),o("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:()=>S("Logo Upload"),children:"Upload Logo"})]}),d("div",{style:{width:"35%",height:"100%",overflowY:"auto"},children:[d("p",{children:[o("strong",{children:"Category: "}),z.category]}),d("p",{children:[o("strong",{children:"Organisation Email: "}),z.organisationEmail]}),d("p",{children:[o("strong",{children:"Telephone: "}),z.telephone]}),d("p",{children:[o("strong",{children:"Status: "}),z.approvalStatus]}),d("p",{children:[o("strong",{children:"Added On: "}),z.createdOn]}),d("p",{children:[o("strong",{children:"Added By: "}),z.createdBy]}),d("p",{style:{display:z.approvalStatus==="approved"?"inline-block":"none"},children:[o("strong",{children:"Approved By: "}),z.approvedBy]}),o("br",{})]}),d("div",{style:{height:"100%",display:"flex",flexDirection:"column",width:"35%",overflowY:"auto",marginLeft:"30px"},children:[o("h3",{children:"Key Persons"}),z.keyPersons.map((de,be)=>d("div",{style:{lineHeight:"0.5",borderRadius:"10px",backgroundColor:"#F9F9F9",display:"inline-block",marginBottom:"10px"},children:[o("p",{children:de.name}),d("p",{children:["Role: ",de.role]}),d("p",{children:["Email: ",de.email]})]},be))]})]}),d("div",{style:{marginTop:"10px"},children:[o("button",{style:{...ee.button,display:y===1||I==="marketing"&&y<=4?"inline-block":"none"},onClick:()=>me("approved"),children:"Approve"}),o("button",{style:{...ee.button,display:y===1||I==="marketing"&&y<=4?"inline-block":"none"},onClick:()=>me("suspended"),children:"Suspend"}),o("button",{style:{...ee.button,display:y===1||I==="marketing"&&y<=4?"inline-block":"none"},onClick:()=>me("reported"),children:"Report"}),o("button",{style:{...ee.button,display:y===1||I==="marketing"&&y<=4?"inline-block":"none"},onClick:()=>me("banned"),children:"Ban"}),o("button",{style:{...ee.button,display:y===1||I==="IT"&&y<=4?"inline-block":"none"},onClick:Ge,children:"Reset Network"}),o("button",{style:{...ee.button,display:y===1||I==="marketing"&&y<=4?"inline-block":"none"},onClick:()=>S("Bank Details"),children:"Bank Details"}),o("button",{style:{...ee.button},onClick:()=>S("Documents"),children:"Documents"}),o("button",{style:{...ee.button},onClick:()=>{S("tableHome"),te(de=>!de)},children:"Back"})]})]})}),x==="Bank Details"&&d("div",{children:[" ",d("div",{style:ee.profileContainer,children:[o("h3",{children:z.organisation.toUpperCase()}),"Bank Details Will be managed here",d("div",{style:{display:"flex",flexDirection:"row",height:"80%"},children:[o("div",{children:o("div",{style:ee.photoContainer,children:z.logoUrl?o("img",{src:z.logoUrl,style:ee.image,alt:"User's photo"}):o("div",{style:ee.placeholderText,children:"Photo Not Found"})})}),d("div",{style:{width:"65%",height:"100%",overflowY:"auto"},children:[F==="view-mode"&&d("div",{children:[d("p",{children:[o("strong",{children:"Bank: "}),z.bank]}),d("p",{children:[o("strong",{children:"Bank Code: "}),z.bankCode]}),d("p",{children:[o("strong",{children:"Nuban: "}),z.nuban]}),o("span",{style:ee.TCButton,onClick:()=>V("edit-mode"),children:"Edit"})]}),F==="edit-mode"&&d("div",{children:[d("p",{children:[o("strong",{children:"Bank: "}),d("select",{style:{backgroundColor:"white",color:"black"},value:z.bank,onChange:de=>{const be=de.target.value,U=ne.find(ie=>ie.bank===be);q({...z,bank:be,bankCode:U?U.bankCode:""})},children:[o("option",{value:"",children:"Select Bank"}),ne.map((de,be)=>o("option",{value:de.bank,children:de.bank},be))]})]}),d("p",{children:[o("strong",{children:"Bank Code: "}),o("input",{style:{backgroundColor:"white",color:"black"},value:z.bankCode,onChange:de=>q({...z,bankCode:de.target.value}),readOnly:!0})]}),d("p",{children:[o("strong",{children:"Nuban: "}),o("input",{style:{backgroundColor:"white",color:"black"},value:z.nuban,onChange:de=>q({...z,nuban:de.target.value})})]}),o("span",{style:ee.TCButton,onClick:xe,children:"Update Bank Details"})]})]})]})]}),o("span",{style:ee.TCButton,onClick:()=>{S("organisationDashboard"),V("view-mode")},children:"Back"})]}),x==="logo upload"&&d("div",{children:[" ",o("div",{style:ee.profileContainer,children:"Logo Will be upload through this page"}),o("span",{style:ee.TCButton,onClick:()=>S("organisationDashboard"),children:"Back"})]}),x==="Logo Upload"&&o("div",{style:{width:"100%"},children:o("div",{style:ee.profileContainer,children:d("div",{style:{display:"flex",flexDirection:"row"},children:[d("div",{style:{...ee.section,marginRight:"20px"},children:[d("h3",{children:["Logo Preview for ",z.organisation]}),o("div",{style:ee.photoContainer2,children:z.newLogo?o("img",{src:z.newLogo,alt:"Captured",width:400}):o("div",{style:ee.placeholderText,children:"No Logo Uploaded"})}),o("div",{children:o("input",{type:"file",onChange:de=>q({...z,newLogo:de.target.files[0]})})}),o("button",{style:ee.button,onClick:Pe,children:"Upload"}),o("button",{style:ee.button,onClick:()=>{S("organisationDashboard"),q({...z,newLogo:null})},children:"Back"})]}),o("div",{style:{...ee.section},children:o("p",{children:"Write up and warnings about Logo Upload"})})]})})}),x==="Documents"&&o("div",{style:{width:"100%"},children:d("div",{style:ee.profileContainer,children:[Q==="table"&&d("div",{style:{...ee.section,width:"100%"},children:[o("div",{style:{height:"40%",width:"100%"},children:d("table",{style:ee.table,children:[o("thead",{style:ee.thead,children:d("tr",{children:[o("th",{children:"Document"}),o("th",{children:"Validity"}),o("th",{children:"Verification"}),o("th",{children:"Action"})]})}),o("tbody",{children:z.documents&&z.documents.length>0?z.documents.map((de,be)=>d("tr",{children:[o("td",{children:de.fileName}),o("td",{children:de.validity||"not set"}),o("td",{children:de.verification||"unverified"}),o("td",{children:o("button",{onClick:()=>{C("iframe"),j(de)},children:"View"})})]},be)):o("tr",{colSpan:"4",style:{textAlign:"right"},children:"No documents uploaded"})})]})}),o("button",{onClick:()=>{S("organisationDashboard")},children:"Close"}),o("button",{onClick:()=>{C("upload")},children:"Upload Document"})]}),Q==="iframe"&&o("div",{style:{...ee.section,width:"100%",position:"relative",zIndex:1e3,pointerEvents:oe?"none":"auto"},children:d("div",{children:[o("span",{style:ee.topCloseButton,onClick:()=>{C("table"),_({}),b(!1)},children:"Close"}),o("iframe",{style:{height:"60vh",width:"100%"},src:_.fileUrl}),d("div",{style:ee.docVerificationOverlay,children:[d("div",{children:[o("h3",{children:"When does this document expire?"}),o("input",{style:ee.input,type:"date",value:_.validity||"",onChange:de=>j({..._,validity:de.target.value})}),o("button",{style:{...ee.button,display:_.verification==="unverified"?"inline-block":"none"},onClick:Ht,children:"Verify"}),o("button",{style:{...ee.button,display:_.verification==="verified"?"inline-block":"none"},onClick:ye,children:"De-Verify"})]}),o("span",{style:ee.topCloseButton,onClick:()=>b(!1),children:"Close"})]}),o("button",{style:{...ee.button,display:_.verification==="verified"?"none":"inline-block"},onClick:()=>b(!0),children:"Verify"}),o("button",{style:{...ee.button,display:_.verification==="verified"&&y<=3?"inline-block":"none"},onClick:()=>b(!0),children:"De-Verify"})]})}),Q==="upload"&&d("div",{style:{...ee.section,width:"100%"},children:[d("div",{style:ee.uploadfield,children:[d("div",{style:ee.uploadInput,children:[o("label",{children:"Upload File"}),o("input",{name:"uploads",type:"file",onChange:We,multiple:!0})]}),o("div",{style:ee.uploadedFiles,children:pe.uploads&&pe.uploads.length>0?pe.uploads.map((de,be)=>d("div",{style:ee.uploadItem,children:[d("span",{children:[be+1,". ",de.name]}),o("span",{style:ee.removeFileButton,onClick:()=>it(be),children:"X"})]},be)):o("p",{children:"No files uploaded yet."})})]}),o("button",{onClick:()=>{C("table"),Te([])},children:"Back"}),o("button",{style:{display:pe.uploads?"inline-block":"none"},onClick:Se,children:"Upload"})]})]})})]})}function im(){const{state:p}=T.useContext(en),{spineUrl:m,token:f,accessLevel:y,allStates:w}=p,[I,O]=T.useState([]),[P,N]=T.useState("page1"),[x,S]=T.useState({}),[F,V]=T.useState({organisationEmailOTP:"",kp1EmailOTP:"",kp1MobileOTP:"",kp2EmailOTP:"",kp2MobileOTP:""}),[ne,k]=T.useState("");fn();const[A,Z]=T.useState(!1);T.useEffect(()=>{(async()=>{Z(!0);try{const Re=await fetch(`${m}/organisations/fetch_approved_localities?state=${encodeURIComponent(x.state)}`,{method:"GET",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}});if(Re.ok){const D=await Re.json();O(D.localities)}else{const D=await Re.json();alert(D.message)}}catch(Re){console.error("Error fetching approved localities:",Re),alert("An error occurred while fetching approved localities")}finally{Z(!1)}})()},[x.state]);const z=async()=>{Z(!0);try{const J=await fetch(`${m}/organisations/generate_organisation_email_otp?organisationEmail=${encodeURIComponent(x.organisationEmail)}`,{method:"GET",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}});if(J.ok){const Re=await J.json();V({...F,organisationEmailOTP:Re.organisationEmailOTP}),N("page3")}else{const Re=await J.json();alert(Re.message)}}catch(J){console.error("Submission error:",J),alert("An error occurred while generating otp")}finally{Z(!1)}},q=async()=>{if(x.organisationEmailOTP!==F.organisationEmailOTP){alert("Invalid OTP!");return}else alert("Organisation Email verified!"),N("page4")},Y=async()=>{Z(!0);try{const J=await fetch(`${m}/organisations/generate_email_and_mobile_otp?email=${encodeURIComponent(x.kp1Email)}&mobile=${x.kp1Mobile}`,{method:"GET",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}});if(J.ok){const Re=await J.json();V({...F,kp1EmailOTP:Re.emailOTP,kp1MobileOTP:Re.mobileOTP}),N("page5")}else{const Re=await J.json();alert(Re.message)}}catch(J){console.error("Submission error:",J),alert("An error occurred while generating otp")}finally{Z(!1)}},se=async()=>{if(x.kp1EmailOTP!==F.kp1EmailOTP){alert("Invalid Email OTP!");return}else if(x.kp1MobileOTP!==F.kp1MobileOTP){alert("Invalid Mobile OTP!");return}else alert("Keyperson Email and Mobile number verified!"),N("page6")},Ce=async()=>{Z(!0);try{const J=await fetch(`${m}/organisations/generate_email_and_mobile_otp?email=${encodeURIComponent(x.kp2Email)}&mobile=${x.kp2Mobile}`,{method:"GET",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}});if(J.ok){const Re=await J.json();V({...F,kp2EmailOTP:Re.emailOTP,kp2MobileOTP:Re.mobileOTP}),N("page7")}else{const Re=await J.json();alert(Re.message)}}catch(J){console.error("Submission error:",J),alert("An error occurred while generating otp")}finally{Z(!1)}},Be=async()=>{if(x.kp2EmailOTP!==F.kp2EmailOTP){alert("Invalid Email OTP!");return}else if(x.kp2MobileOTP!==F.kp2MobileOTP){alert("Invalid Mobile OTP!");return}else alert("Keyperson Email and Mobile number verified!"),N("page8")},Oe=async()=>{if(confirm("Confirm submission")){const Re={};Object.entries(x).forEach(([D,Ie])=>{Re[D]=Ie});try{const D=await fetch(`${m}/organisations/organisation_signup`,{method:"POST",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"},body:JSON.stringify(Re)});if(D.ok){const Ie=await D.json();k(Ie.successMessage),N("page9")}else{const Ie=await D.json();alert(Ie.message)}}catch(D){console.error("Submission error:",D),alert("An error occurred creating new organisation")}finally{Z(!1)}}else alert("New Organisation creation cancelled!")},X={container:{width:"90%",height:"65vh",margin:"0 auto",padding:"20px",backgroundColor:"#ffffff",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",overflowY:"auto"},label:{display:"block",fontSize:"0.9em",color:"#555",marginBottom:"8px"},input:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1em",backgroundColor:"white",color:"black"},TCBody:{height:"60vh",width:"100%",overflowY:"auto",margin:"20px",textAlign:"left"},TCButton:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",cursor:"pointer",borderRadius:"4px",textAlign:"center"},buttonContainer:{display:"flex",justifyContent:"space-between",gap:"10px",marginTop:"20px"},submitButton:{backgroundColor:"#4CAF50",color:"white",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1em",flex:1},cancelButton:{backgroundColor:"#f44336",color:"white",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1em",flex:1}};return d("div",{style:{cursor:A?"wait":"default"},children:[P==="page1"&&d("div",{children:[o("h2",{children:"Terms And Conditions"}),d("div",{style:X.TCBody,children:[o("h3",{children:"GENERAL"}),d("p",{children:[o("strong",{children:"Hospitals/Clinic:"})," Yada yadas"]}),o("br",{}),o("h3",{children:"PHARMACY"}),o("h3",{children:"HOSPITAL"}),d("p",{children:[o("strong",{children:"Hospitals/Clinic:"})," Yada yadas"]}),o("br",{}),o("h3",{children:"SPONSOR ORGANISATIONS"}),d("p",{children:[o("strong",{children:"Hospitals/Clinic:"})," Yada yadas"]}),o("br",{})]}),o("span",{style:X.TCButton,onClick:()=>N("page2"),children:"Agree"})]}),P==="page2"&&d("div",{children:[o("h2",{children:"Organisation Data"}),d("div",{style:X.container,children:[d("label",{style:X.label,children:["Category:",d("select",{type:"text",name:"category",value:x.category,onChange:J=>S({...x,category:J.target.value}),style:X.input,children:[o("option",{value:"",children:"Select Category"}),o("option",{value:"ambulance",children:"Ambulance Company"}),o("option",{value:"clinic",children:"Clinic"}),o("option",{value:"dental",children:"Dental Centre"}),o("option",{value:"hospital",children:"Hospital"}),o("option",{value:"pharmacy",children:"Pharmacy"}),o("option",{value:"physiotherapy",children:"Physiotherapy Centre"}),o("option",{value:"sponsor",children:"Sponsor Organisation"}),o("option",{value:"donor",children:"Donor Agency"}),o("option",{value:"scheme",children:"Scheme"})]})]}),d("label",{style:X.label,children:["Name of Organisation:",o("input",{type:"text",name:"organisation",value:x.organisation,onChange:J=>S({...x,organisation:J.target.value}),style:X.input})]}),d("label",{style:X.label,children:["CAC Registration Number:",o("input",{type:"text",name:"registrationNumber",value:x.registrationNumber,onChange:J=>S({...x,registrationNumber:J.target.value}),style:X.input})]}),d("label",{style:X.label,children:["State:",d("select",{type:"text",name:"state",value:x.state,onChange:J=>S({...x,state:J.target.value}),style:X.input,children:[o("option",{value:"",children:"Select"}),w.map(J=>o("option",{children:J},J))]})]}),d("label",{style:X.label,children:["City/Town:",d("select",{type:"text",name:"locality",value:x.locality,onChange:J=>S({...x,locality:J.target.value}),style:X.input,children:[o("option",{value:"",children:"Select"}),I.map(J=>o("option",{children:J},J))]})]}),d("label",{style:X.label,children:["Address:",o("input",{type:"text",name:"address",value:x.address,onChange:J=>S({...x,address:J.target.value}),style:X.input})]}),d("label",{style:X.label,children:["Postal Code:",o("input",{type:"text",name:"postcode",value:x.postcode,onChange:J=>S({...x,postcode:J.target.value}),style:X.input})]}),d("label",{style:X.label,children:["GPS Coordinates:",o("input",{type:"text",name:"gps",value:x.gps,onChange:J=>S({...x,gps:J.target.value}),style:X.input})]}),d("label",{style:X.label,children:["Telephone Number(s):",o("input",{type:"text",name:"organisationTelephone",value:x.organisationTelephone,onChange:J=>S({...x,organisationTelephone:J.target.value}),style:X.input})]}),d("label",{style:X.label,children:["Organisation Email:",o("input",{type:"text",name:"organisationEmail",value:x.organisationEmail,onChange:J=>S({...x,organisationEmail:J.target.value}),style:X.input})]}),d("label",{style:X.label,children:["Organisation's IPV4 Address... This is the only address where your account can be signed into:",o("input",{type:"text",name:"ipAddress",value:x.ipAddress,onChange:J=>S({...x,ipAddress:J.target.value}),style:X.input})]}),o("span",{style:X.TCButton,onClick:z,children:"Next Page"})]})]}),P==="page3"&&d("div",{children:[o("h2",{children:"Organisation Email Verification"}),d("div",{style:X.container,children:[o("input",{type:"text",name:"organisationEmailOTP",value:x.organisationEmailOTP,onChange:J=>S({...x,organisationEmailOTP:J.target.value}),style:X.input,placeholder:"Verification code..."}),o("span",{style:X.TCButton,onClick:q,children:"Verify"}),o("span",{style:X.TCButton,onClick:()=>N("page2"),children:"Back"})]})]}),P==="page4"&&d("div",{children:[o("h2",{children:"Keyperson 1: "}),d("div",{style:X.container,children:[d("label",{style:X.label,children:["KeyPerson1 Title:",d("select",{type:"text",value:x.kp1Title,onChange:J=>S({...x,kp1Title:J.target.value}),style:X.input,children:[o("option",{value:"",children:"Select Title"}),o("option",{value:"Dr.",children:"Dr."}),o("option",{value:"Mr.",children:"Mr."}),o("option",{value:"Mrs.",children:"Mrs."}),o("option",{value:"Ms.",children:"Ms."}),o("option",{value:"Prof.",children:"Prof."})]})]}),d("label",{style:X.label,children:["Keyperson1 Last Name:",o("input",{type:"text",value:x.kp1LastName,onChange:J=>S({...x,kp1LastName:J.target.value}),style:X.input})]}),d("label",{style:X.label,children:["Keyperson1 First Name:",o("input",{type:"text",value:x.kp1FirstName,onChange:J=>S({...x,kp1FirstName:J.target.value}),style:X.input})]}),d("label",{style:X.label,children:["Keyperson1 Department:",o("input",{type:"text",value:x.kp1Department,onChange:J=>S({...x,kp1Department:J.target.value}),style:X.input})]}),d("label",{style:X.label,children:["Keyperson1 Role:",o("input",{type:"text",value:x.kp1Role,onChange:J=>S({...x,kp1Role:J.target.value}),style:X.input})]}),d("label",{style:X.label,children:["Keyperson1 Employee ID:",o("input",{type:"text",value:x.kp1UserID,onChange:J=>S({...x,kp1UserID:J.target.value}),style:X.input})]}),d("label",{style:X.label,children:["Keyperson1 Work Email:",o("input",{type:"text",value:x.kp1Email,onChange:J=>S({...x,kp1Email:J.target.value}),style:X.input})]}),d("label",{style:X.label,children:["Keyperson1 Mobile:",o("input",{type:"number",value:x.kp1Mobile,onChange:J=>S({...x,kp1Mobile:J.target.value}),style:X.input})]}),o("span",{style:X.TCButton,onClick:Y,children:"Next Page"}),o("span",{style:X.TCButton,onClick:()=>N("page3"),children:"Back"})]})]}),P==="page5"&&d("div",{children:[o("h2",{children:"Keyperson 1 Email/Mobile Number Verification"}),d("div",{style:X.container,children:[o("label",{style:X.label,children:o("input",{type:"text",name:"kp1EmailOTP",value:x.kp1EmailOTP,onChange:J=>S({...x,kp1EmailOTP:J.target.value}),style:X.input,placeholder:"Keyperson1 Email Verification code..."})}),o("label",{style:X.label,children:o("input",{type:"text",name:"kp1MobileOTP",value:x.kp1MobileOTP,onChange:J=>S({...x,kp1MobileOTP:J.target.value}),style:X.input,placeholder:"Keyperson1 Mobile Verification code..."})}),o("span",{style:X.TCButton,onClick:se,children:"Verify"}),o("span",{style:X.TCButton,onClick:()=>N("page4"),children:"Back"})]})]}),P==="page6"&&d("div",{children:[o("h2",{children:"Keyperson 2: "}),d("div",{style:X.container,children:[d("label",{style:X.label,children:["KeyPerson2 Name:",d("select",{type:"text",value:x.kp2Title,onChange:J=>S({...x,kp2Title:J.target.value}),style:X.input,children:[o("option",{value:"",children:"Select Title"}),o("option",{value:"Dr.",children:"Dr."}),o("option",{value:"Mr.",children:"Mr."}),o("option",{value:"Mrs.",children:"Mrs."}),o("option",{value:"Ms.",children:"Ms."}),o("option",{value:"Prof.",children:"Prof."})]})]}),d("label",{style:X.label,children:["Keyperson2 Last Name:",o("input",{type:"text",value:x.kp2LastName,onChange:J=>S({...x,kp2LastName:J.target.value}),style:X.input})]}),d("label",{style:X.label,children:["Keyperson2 First Name:",o("input",{type:"text",value:x.kp2FirstName,onChange:J=>S({...x,kp2FirstName:J.target.value}),style:X.input})]}),d("label",{style:X.label,children:["Keyperson2 Department:",o("input",{type:"text",value:x.kp2Department,onChange:J=>S({...x,kp2Department:J.target.value}),style:X.input})]}),d("label",{style:X.label,children:["Keyperson2 Role:",o("input",{type:"text",value:x.kp2Role,onChange:J=>S({...x,kp2Role:J.target.value}),style:X.input})]}),d("label",{style:X.label,children:["Keyperson2 Employee ID:",o("input",{type:"text",value:x.kp2UserID,onChange:J=>S({...x,kp2UserID:J.target.value}),style:X.input})]}),d("label",{style:X.label,children:["Keyperson2 Work Email:",o("input",{type:"text",value:x.kp2Email,onChange:J=>S({...x,kp2Email:J.target.value}),style:X.input})]}),d("label",{style:X.label,children:["Keyperson2 Mobile:",o("input",{type:"number",value:x.kp2Mobile,onChange:J=>S({...x,kp2Mobile:J.target.value}),style:X.input})]}),o("span",{style:X.TCButton,onClick:Ce,children:"Next Page"}),o("span",{style:X.TCButton,onClick:()=>N("page5"),children:"Back"})]})]}),P==="page7"&&d("div",{children:[o("h2",{children:"Keyperson 2 Email/Mobile Number Verification"}),d("div",{style:X.container,children:[o("label",{style:X.label,children:o("input",{type:"text",name:"kp2EmailOTP",value:x.kp2EmailOTP,onChange:J=>S({...x,kp2EmailOTP:J.target.value}),style:X.input,placeholder:"Keyperson2 Email Verification code..."})}),o("label",{style:X.label,children:o("input",{type:"text",name:"kp2MobileOTP",value:x.kp2MobileOTP,onChange:J=>S({...x,kp2MobileOTP:J.target.value}),style:X.input,placeholder:"Keyperson2 Mobile Verification code..."})}),o("span",{style:X.TCButton,onClick:Be,children:"Verify"}),o("span",{style:X.TCButton,onClick:()=>N("page6"),children:"Back"})]})]}),P==="page8"&&d("div",{children:[o("h2",{children:"Final Submission Page"}),d("div",{style:X.buttonContainer,children:[o("button",{style:X.submitButton,onClick:Oe,children:"Submit"}),o("button",{type:"button",style:X.cancelButton,onClick:()=>N("page1"),children:"Cancel"})]})]}),P==="page9"&&d("div",{children:[o("h2",{children:"Signup Success Page"}),ne]})]})}function rm(){const{state:p}=T.useContext(en),{spineUrl:m,token:f,accessLevel:y,allStates:w}=p,[I,O]=T.useState("page1"),[P,N]=T.useState({}),[x,S]=T.useState({photo:null,rightFinger:null,leftFinger:null}),[F,V]=T.useState({verifiedWatcher:"",emailOTP:"",mobileOTP:"",kp2EmailOTP:""}),[ne,k]=T.useState(""),[A,Z]=T.useState({});fn();const[z,q]=T.useState(!1),[Y,se]=T.useState(""),Ce=T.useRef(null);T.useEffect(()=>{(()=>{if(P.dob){const re=new Date(P.dob),ae=new Date;let te=ae.getFullYear()-re.getFullYear();const oe=ae.getMonth()-re.getMonth(),b=ae.getDate()-re.getDate();(oe<0||oe===0&&b<0)&&te--,N({...P,age:te})}else N({...P,age:null})})()},[P.dob]),T.useEffect(()=>{(async()=>{q(!0);try{const re=await fetch(`${m}/patients/verify_watcher?watcherPPN=${encodeURIComponent(P.watcherPPN)}`,{method:"GET",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}});if(re.ok){const ae=await re.json();V({...F,verifiedWatcher:ae.verifiedWatcher})}else{const ae=await re.json();alert(ae.message)}}catch(re){console.error("Error verifying watcher:",re)}finally{q(!1)}})()},[P.watcherPPN]);const Be=async()=>{if(F.verifiedWatcher&&!P.relationship){alert("State relationship between watcher and patient!");return}if(q(!0),!P.title||!P.lastName||!P.firstName||!P.dob||!P.gender||!P.nin||!P.address||!P.locality||!P.state||!P.mobile||!P.email){alert("Complete all fields!"),q(!1);return}try{const we=await fetch(`${m}/patients/generate_email_and_mobile_otp?email=${encodeURIComponent(P.email)}&mobile=${P.mobile}`,{method:"GET",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}});if(we.ok){const re=await we.json();V({...F,emailOTP:re.emailOTP,mobileOTP:re.mobileOTP}),O("page3")}else{const re=await we.json();alert(re.message)}}catch(we){console.error("Submission error:",we),alert("An error occurred while generating otp")}finally{q(!1)}},Oe=async()=>{if(P.emailOTP!==F.emailOTP){alert("Invalid Email OTP!");return}else if(P.mobileOTP!==F.mobileOTP){alert("Invalid Mobile OTP!");return}else alert("Keyperson Email and Mobile number verified!"),O("page4")},X=()=>{const we=Ce.current.getScreenshot();S({...x,photo:we})},J=async()=>{if(q(!0),confirm("Confirm submission")){const re={};Object.entries(P).forEach(([ae,te])=>{re[ae]=te}),Object.entries(x).forEach(([ae,te])=>{re[ae]=te});try{const ae=await fetch(`${m}/patients/patient_signup`,{method:"POST",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"},body:JSON.stringify(re)});if(ae.ok){const te=await ae.json();k(te.successMessage),Z(te.certificate),O("page6")}else{const te=await ae.json();alert(te.message)}}catch(ae){console.error("Submission error:",ae),alert("An error occurred creating new patient")}finally{q(!1)}}else alert("New Patient creation cancelled!"),q(!1)},Re=()=>{N({}),S({}),O("page1")},D={container:{cursor:z?"wait":"default",width:"90%",height:"65vh",margin:"0 auto",padding:"20px",backgroundColor:"#ffffff",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",overflowY:"auto"},label:{display:"block",fontSize:"0.9em",color:"#555",marginBottom:"8px",width:"98%",cursor:z?"wait":"default"},input:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1em",backgroundColor:"white",color:"black",cursor:z?"wait":"default"},TCBody:{height:"60vh",width:"100%",overflowY:"auto",margin:"20px",textAlign:"left"},TCButton:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",cursor:z?"wait":"pointer",borderRadius:"4px",textAlign:"center"},photo:{margin:"20px",backgroundColor:"#fff",height:"150px",width:"200px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden",cursor:z?"wait":"default"},image:{height:"100%",width:"100%",objectFit:"cover",cursor:z?"wait":"default"},placeholderText:{color:"#666",fontSize:"16px",fontStyle:"italic",textAlign:"center",cursor:z?"wait":"default"}},Ie={button:{padding:"10px",backgroundColor:"#007BFF",color:"#FFF",border:"none",cursor:"pointer"}};return d("div",{children:[I==="page1"&&d("div",{children:[o("h2",{children:"Patients Terms And Conditions"}),d("div",{style:D.TCBody,children:[o("h3",{children:"GENERAL"}),d("p",{children:[o("strong",{children:"Minor:"})," All minors are required to be registered under an adult who would be responsible for them at all times"]}),o("br",{})]}),o("span",{style:D.TCButton,onClick:()=>O("page2"),children:"Agree"})]}),I==="page2"&&d("div",{children:[o("h2",{children:"Patient Biodata: "}),d("div",{style:D.container,children:[d("label",{style:D.label,children:[o("input",{type:"hidden",value:x.phone,style:D.input}),o("input",{type:"hidden",value:x.rightFinger,style:D.input}),o("input",{type:"hidden",value:x.leftFinger,style:D.input})]}),d("label",{style:D.label,children:["Name:",d("select",{type:"text",value:P.title,onChange:we=>N({...P,title:we.target.value}),style:D.input,children:[o("option",{value:"",children:"Select Title"}),o("option",{value:"Dr.",children:"Dr."}),o("option",{value:"Mr.",children:"Mr."}),o("option",{value:"Mrs.",children:"Mrs."}),o("option",{value:"Ms.",children:"Ms."}),o("option",{value:"Prof.",children:"Prof."})]})]}),d("label",{style:D.label,children:["Last Name:",o("input",{type:"text",value:P.lastName,onChange:we=>N({...P,lastName:we.target.value}),style:D.input})]}),d("label",{style:D.label,children:["First Name:",o("input",{type:"text",value:P.firstName,onChange:we=>N({...P,firstName:we.target.value}),style:D.input})]}),d("label",{style:D.label,children:["Date of Birth:",o("input",{type:"date",value:P.dob,onChange:we=>N({...P,dob:we.target.value}),style:D.input}),d("p",{style:{display:P.age?"inline-block":"none"},children:[P.age,"years"]})]}),d("label",{style:D.label,children:["Watcher (All minors require a watcher. Clients who are not computer literate may also require a watcher):",o("input",{type:"text",value:P.watcherPPN,onChange:we=>N({...P,watcherPPN:we.target.value}),style:D.input}),d("p",{style:{display:P.watcherPPN?"inline-block":"none"},children:[o("strong",{children:"Verified Watcher: "}),F.verifiedWatcher?F.verifiedWatcher:"Watcher could not be verified",o("input",{style:{backgroundColor:"white",color:"black",width:"30%"},value:P.relationship,onChange:we=>N({...P,relationship:we.target.value}),placeholder:"Relationship..."})]})]}),d("label",{style:D.label,children:["National Identification Number(NIN):",o("input",{type:"text",value:P.nin,onChange:we=>N({...P,nin:we.target.value}),style:D.input})]}),d("label",{style:D.label,children:["Gender:",d("select",{type:"text",value:P.gender,onChange:we=>N({...P,gender:we.target.value}),style:D.input,children:[o("option",{value:"",children:"Select Gender"}),o("option",{value:"male",children:"Male"}),o("option",{value:"female",children:"Female"})]})]}),d("label",{style:D.label,children:["Correspondence Address:",o("input",{type:"text",value:P.address,onChange:we=>N({...P,address:we.target.value}),style:D.input})]}),d("label",{style:D.label,children:["City/Town:",o("input",{type:"text",value:P.locality,onChange:we=>N({...P,locality:we.target.value}),style:D.input})]}),d("label",{style:D.label,children:["State of Residence:",d("select",{type:"text",value:P.state,onChange:we=>N({...P,state:we.target.value}),style:D.input,children:[o("option",{value:"",children:"Select"}),w.map(we=>o("option",{children:we},we))]})]}),d("label",{style:D.label,children:["Email (Every client must be linked to an email or mobile number for correspondence purposes):",o("input",{type:"email",value:P.email,onChange:we=>N({...P,email:we.target.value}),style:D.input})]}),d("label",{style:D.label,children:["Mobile:",o("input",{type:"number",value:P.mobile,onChange:we=>N({...P,mobile:we.target.value}),style:D.input})]}),d("label",{style:D.label,children:["Emergency Contact 1 (First Name/Mobile/Relationship):",o("input",{type:"text",value:P.emergencyContact1,onChange:we=>N({...P,emergencyContact1:we.target.value}),style:D.input})]}),d("label",{style:D.label,children:["Emergency Contact 2 (First Name/Mobile/Relationship):",o("input",{type:"text",value:P.emergencyContact2,onChange:we=>N({...P,emergencyContact2:we.target.value}),style:D.input})]}),o("span",{style:D.TCButton,onClick:Be,children:"Next Page"}),o("span",{style:D.TCButton,onClick:()=>{O("page1"),N({})},children:"Back"})]})]}),I==="page3"&&d("div",{children:[o("h2",{children:"Email/Mobile Number Verification"}),d("div",{style:D.container,children:[o("label",{style:D.label,children:o("input",{type:"text",name:"emailOTP",value:P.emailOTP,onChange:we=>N({...P,emailOTP:we.target.value}),style:D.input,placeholder:"Email Verification code..."})}),o("label",{style:D.label,children:o("input",{type:"text",name:"mobileOTP",value:P.mobileOTP,onChange:we=>N({...P,mobileOTP:we.target.value}),style:D.input,placeholder:"Mobile Verification code..."})}),o("span",{style:D.TCButton,onClick:Oe,children:"Verify"}),o("span",{style:D.TCButton,onClick:()=>O("page2"),children:"Back"})]})]}),I==="page4"&&d("div",{children:[o("h2",{children:"NHIS Number"}),d("div",{style:D.container,children:[d("label",{style:D.label,children:["NHIS number (Proof must be provided)",o("input",{type:"text",value:P.nhisNumber,onChange:we=>N({...P,nhisNumber:we.target.value}),style:D.input,placeholder:"NHIS number..."})]}),o("span",{style:D.TCButton,onClick:()=>O("page5"),children:"Next page"}),o("span",{style:D.TCButton,onClick:()=>O("page3"),children:"Back"})]})]}),I==="page5"&&o("div",{style:D.container,children:d("div",{style:{display:"flex",flexDirection:"row"},children:[d("div",{style:{width:"50%"},children:[o("h2",{children:"Webcam"}),o(za,{audio:!1,ref:Ce,screenshotFormat:"image/png",width:400}),o("div",{style:{margin:"20px 0"},children:o("button",{onClick:X,children:"Capture Photo"})})]}),d("div",{style:{display:x.photo?"inline-block":"none"},children:[x.photo&&d("div",{children:[o("h3",{children:"Photo Preview"}),o("img",{src:x.photo,alt:"Captured",width:400})]}),d("div",{style:{marginTop:"20px"},children:[o("button",{onClick:J,children:"Submit"}),o("span",{style:D.TCButton,onClick:()=>{O("page4"),S({...x,photo:null})},children:"Back"})]})]}),Y&&o("p",{children:Y})]})}),I==="page6"&&d("div",{children:[o("h2",{children:"Signup Success Page"}),ne,o("div",{style:{margin:"10px 0"},children:o("button",{style:Ie.button,onClick:()=>O("page7"),children:"Print(Show) Certificate"})})]}),I==="page7"&&d("div",{children:[o("h2",{children:"PrescribeNg Certificate"}),o("div",{style:D.photo,children:A.photoUrl?o("img",{src:A.photoUrl,style:D.image,alt:"User's photo"}):o("div",{style:D.placeholderText,children:"Photo Not Found"})}),d("div",{style:{alignContent:"left",textAlign:"left",margin:"20px"},children:[d("p",{children:[o("strong",{children:"Private Prescription Number: "}),A.ppn]}),d("p",{children:[o("strong",{children:"Patient Name: "}),A.name]}),d("p",{children:[o("strong",{children:"Date of Birth: "}),A.dob]}),d("p",{children:[o("strong",{children:"Age at Signup: "}),A.age,"yrs"]}),d("p",{children:[o("strong",{children:"Correspondence Address: "}),A.address]})]}),o("div",{style:{margin:"10px 0"},children:o("button",{style:Ie.button,onClick:Re,children:"Close"})})]})]})}function om(){const{state:p,logout:m,updatePatient:f}=T.useContext(en),{token:y,spineUrl:w,category:I,accessLevel:O,configurations:P,serviceBranches:N,userID:x,organisation:S}=p,[F,V]=T.useState("Home"),[ne,k]=T.useState("new-watcher"),[A,Z]=T.useState({}),[z,q]=T.useState({}),[Y,se]=T.useState(""),[Ce,Be]=T.useState(0),[Oe,X]=T.useState(""),[J,Re]=T.useState([]),[D,Ie]=T.useState({}),[we,re]=T.useState(!1),[ae,te]=T.useState(!1),[oe,b]=T.useState("table"),[Q,C]=T.useState({}),[_,j]=T.useState([]),pe=T.useRef(null);fn();const Te=async ie=>{ie.preventDefault();try{const he=await fetch(`${w}/patients/search_patients?ppn=${encodeURIComponent(Oe.ppn)}&lastName=${encodeURIComponent(Oe.lastName)}&dob=${encodeURIComponent(Oe.dob)}`,{method:"GET",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"}});if(he.ok){const ke=await he.json();Re(ke.searchResults)}else{const ke=await he.json();Re([]),alert(ke.message),console.error("Failed to fetch:",ke.message)}}catch(he){console.error("Error fetching referrals:",he)}},_e=ie=>{const{name:he,value:ke}=ie.target;X(rt=>({...rt,[he]:ke}))},xe=ie=>{Ie(ie),V("Editing Pad")};T.useEffect(()=>{(async()=>{try{const he=await fetch(`${w}/patients/find_new_watcher?ppn=${encodeURIComponent(Y)}`,{method:"GET",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"}});if(console.log(w),he.ok){const ke=await he.json();ke.newWatcher?q(ke.newWatcher):q({})}else{const ke=await he.json();alert(ke.message),console.error("Failed to fetch keypersons:",he.statusText)}}catch(he){console.error("Error fetching keypersons:",he)}})()},[w,y,Y,we]);const me=async()=>{if(!z.watcherID){alert("No new watcher exists!");return}try{if(!confirm("You are about to add a new watcher to patient's profile and this will give unrestricted access to patient's profile. By clicking ok, you assume responsibility for this change and have ensured that all due diligence has been done according to PrescribeNg LTD policies. Do you want to procede?")){alert("Action cancelled!");return}let he=prompt("What is the watcher's relationship with patient?");if(!he){alert("You must state the relationship between watcher and patient!");return}const ke=await fetch(`${w}/patients/add_new_watcher`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({ppn:D.ppn,watcherID:z.watcherID,relationship:he})});if(ke.ok){const rt=await ke.json();alert(rt.message),Ie({...D,watchers:rt.updatedWatchers})}else{const rt=await ke.json();alert(rt.message),console.error("Failed to fetch localities:",ke.statusText)}}catch(ie){console.error("Error fetching localities:",ie)}},Ge=async()=>{if(!A.watcherID){alert("No watcher selected!");return}try{if(!confirm("You are about to remove a watcher from patient's profile and this will remove all access to patient's profile. By clicking ok, you assume responsibility for this change and have ensured that all due diligence has been done according to PrescribeNg LTD policies. Do you want to procede?")){alert("Action cancelled!");return}const he=await fetch(`${w}/patients/remove_watcher`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({ppn:D.ppn,watcherID:A.watcherID})});if(he.ok){const ke=await he.json();alert(ke.message),Ie({...D,watchers:ke.updatedWatchers})}else{const ke=await he.json();alert(ke.message),console.error("Failed to fetch localities:",he.statusText)}}catch(ie){console.error("Error fetching localities:",ie)}},ge=async()=>{try{if(!confirm("You are about to modify a patient's profile. By clicking ok, you assume responsibility for this change. Do you want to procede?")){alert("Action cancelled!");return}const he=await fetch(`${w}/patients/modify_patient`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify(D)});if(he.ok){const ke=await he.json();alert(ke.message),re(rt=>!rt)}else{const ke=await he.json();alert(ke.message),console.error("Failed to fetch localities:",he.statusText)}}catch(ie){console.error("Error fetching localities:",ie)}},Pe=async()=>{if(!D.shareCodeReason){alert("Please provide a compelling reason for generating share code");return}try{if(!confirm(`You are about to generate a share code for ${D.firstName.toUpperCase()}. You must ensure a proof exists in form of email, that this request was made by ${D.firstName.toUpperCase()} or by an authorized person acting onbehalf of ${D.firstName.toUpperCase()}, with a compelling reason.`)){alert("Action cancelled!");return}const he=await fetch(`${w}/patients/generate_share_code`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify(D)});if(he.ok){const ke=await he.json();alert(ke.message),re(rt=>!rt)}else{const ke=await he.json();alert(ke.message),console.error("Failed to fetch localities:",he.statusText)}}catch(ie){console.error("Error fetching localities:",ie)}},We=()=>{const ie=pe.current.getScreenshot();Ie({...D,newPhoto:ie})},it=async()=>{if(!confirm("Confirm Image Upload")){alert("New Patient creation cancelled!"),Ie({...D,newPhoto:null});return}try{const he=await fetch(`${w}/patients/photo_upload`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({ppn:D.ppn,newPhoto:D.newPhoto})});if(he.ok){const ke=await he.json();ke.newPhotoUrl&&Ie({...D,photoUrl:ke.newPhotoUrl}),V("Editing Pad"),Ie({...D,newPhoto:null})}else{const ke=await he.json();alert(ke.message)}}catch(he){console.error("Submission error:",he),alert("An error occurred creating new patient")}},Se=ie=>{const{name:he,type:ke,files:rt}=ie.target;if(ke==="file"){const Dr=Array.from(rt);j(qn=>({...qn,[he]:[...qn[he]||[],...Dr]}))}},Ht=ie=>{j(he=>{const ke=[...he.uploads];return ke.splice(ie,1),{uploads:ke}})},ye=ie=>new Promise((he,ke)=>{const rt=new FileReader;rt.onloadend=()=>he(rt.result.split(",")[1]),rt.onerror=ke,rt.readAsDataURL(ie)}),ee=async()=>{if(confirm("Confirm submission")){const he=await Promise.all(_.uploads.map(async ke=>{const rt=await ye(ke);return{name:ke.name,content:rt}}));try{const ke=await fetch(`${w}/patients/file_upload`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({ppn:D.ppn,uploads:he})});if(ke.ok){const rt=await ke.json();Ie({...D,documents:rt.documents}),b("table")}else{const rt=await ke.json();alert(rt.message)}}catch(ke){console.error("File upload error:",ke),alert("An error occurred uploading files")}}else alert("File upload cancelled!")},Fe=async()=>{if(!Q.validity){alert("Document validity missing!");return}confirm("Ensure due diligence has been done on file before modifying file verification status.")||alert("File verification cancelled!");try{const he=await fetch(`${w}/patients/file_verification`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({ppn:D.ppn,fileKey:Q.fileKey,validity:Q.validity,verification:"verified"})});if(he.ok){const ke=await he.json();Ie({...D,documents:ke.documents}),b("table"),te(!1)}else{const ke=await he.json();alert(ke.message)}}catch(he){console.error("File verification error:",he),alert("An error occurred uploading files")}},de=async()=>{if(!Q.validity){alert("Document validity missing!");return}confirm("Ensure due diligence has been done on file before modifying file verification status.")||alert("File verification cancelled!");try{const he=await fetch(`${w}/patients/file_verification`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({ppn:D.ppn,fileKey:Q.fileKey,validity:Q.validity,verification:"unverified"})});if(he.ok){const ke=await he.json();Ie({...D,documents:ke.documents}),b("table"),te(!1)}else{const ke=await he.json();alert(ke.message)}}catch(he){console.error("File verification error:",he),alert("An error occurred uploading files")}},be=async()=>{if(!confirm("Confirm credit award.")){alert("Action cancelled!");return}try{const he=await fetch(`${w}/patients/patient_credit_award`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({ppn:D.ppn,amount:Ce})});if(he.ok){const ke=await he.json();alert(ke.message),V("Editing Pad"),Ie({...D,credit:parseFloat(D.credit)+parseFloat(Ce)})}else{const ke=await he.json();alert(ke.message)}}catch(he){console.error("Credit award error:",he),alert("An error occurred awarding credit to patient")}},U={page:{color:"black",height:"100%",width:"100%",overflowY:"hidden",overflowX:"hidden",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},tableContainer:{height:"79vh",backgroundColor:"white",width:"100%"},table:{width:"95%",borderCollapse:"collapse",marginTop:"20px"},thead:{backgroundColor:"#2c3e50",color:"white",position:"sticky",top:"0px",zIndex:2e3},profileContainer:{display:"flex",flexDirection:"row",color:"black",backgroundColor:"#f9f9f9",padding:"20px",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",width:"80%",height:"65vh",margin:"20px auto",textAlign:"center"},photoContainer:{position:"sticky",top:"10px",left:"80px",backgroundColor:"#fff",height:"200px",width:"200px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden"},photoContainer2:{position:"sticky",top:"10px",left:"80px",backgroundColor:"#fff",height:"380px",width:"380px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden"},image:{height:"100%",width:"100%",objectFit:"cover"},placeholderText:{color:"#666",fontSize:"16px",fontStyle:"italic",textAlign:"center"},section:{display:"block",width:"45%",marginBottom:"20px",textAlign:"left",lineHeight:"0.8"},input:{padding:"10px",marginRight:"10px",borderRadius:"5px",border:"1px solid #ccc",width:"200px",backgroundColor:"white",color:"black"},shareCodeInput:{padding:"10px",marginRight:"10px",borderRadius:"5px",border:"1px solid #ccc",width:"95%",height:"40vh",backgroundColor:"white",color:"black"},button:{backgroundColor:"#3498db",margin:"5px",cursor:"pointer"},topCloseButton:{height:"30px",width:"100px",backgroundColor:"red",cursor:"pointer"},docVerificationOverlay:{display:ae?"block":"none",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:2e3,pointerEvents:"auto",width:"40%",height:"40%",backgroundColor:"grey",textAlign:"center"},uploadfield:{padding:"20px",border:"1px solid #ccc",borderRadius:"8px"},uploadInput:{marginBottom:"10px"},uploadedFiles:{marginTop:"10px",listStyleType:"none",padding:"0",minHeight:"4vh"},uploadItem:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},removeFileButton:{color:"red",cursor:"pointer"}};return d("div",{style:U.page,children:[F==="Home"&&d("div",{style:U.tableContainer,children:[o("h2",{children:"Search Patients"}),o("form",{style:U.form,onSubmit:Te,children:o("table",{style:U.table,children:o("thead",{children:d("tr",{children:[o("th",{style:U.th,children:o("input",{type:"text",name:"lastName",value:Oe.lastName||"",onChange:_e,placeholder:"Last Name",style:U.input})}),o("th",{style:U.th,children:o("input",{type:"date",name:"dob",value:Oe.dob||"",onChange:_e,placeholder:"NHS Number",style:U.input})}),o("th",{style:U.th,children:o("input",{type:"text",name:"ppn",value:Oe.ppn||"",onChange:_e,placeholder:"Private Prescription Number(PPN)",style:U.input})}),o("th",{style:U.th,children:o("button",{style:U.button,type:"submit",children:"Search"})})]})})})}),d("table",{style:U.table,children:[o("thead",{style:U.thead,children:d("tr",{children:[o("th",{style:U.th,children:"Name"}),o("th",{style:U.th,children:"Gender"}),o("th",{style:U.th,children:"DOB"}),o("th",{style:U.th,children:"PPN"}),o("th",{style:U.th})]})}),o("tbody",{children:J.length>0?J.map(ie=>d("tr",{children:[d("td",{style:U.td,children:[ie.title," ",ie.lastName," ",ie.firstName]}),o("td",{style:U.td,children:ie.gender}),o("td",{style:U.td,children:ie.dob}),o("td",{style:U.td,children:ie.ppn}),o("td",{style:U.td,children:o("button",{style:U.button,onClick:()=>xe(ie),children:"Select"})})]},ie.ppn)):o("tr",{children:o("td",{colSpan:"5",style:U.td,children:"No patients found"})})})]})]}),F==="Editing Pad"&&d("div",{style:{width:"100%"},children:[d("div",{style:U.profileContainer,children:[d("div",{style:U.section,children:[o("div",{style:U.photoContainer,children:D.photoUrl?o("img",{src:D.photoUrl,style:U.image,alt:"User's photo"}):o("div",{style:U.placeholderText,children:"Photo Not Found"})}),o("span",{style:{textDecoration:"underline",color:"green",cursor:"pointer"},onClick:()=>V("Photo Upload"),children:"Change Photo"}),d("p",{children:[o("strong",{children:"Name:"})," ",D.title," ",D.lastName," ",D.firstName]}),d("p",{children:[o("strong",{children:"PPN:"})," ",D.ppn]}),d("p",{children:[o("strong",{children:"NHIS Number:"})," ",D!=null&&D.nhis?`${D.nhis}`:"Not linked"]}),d("p",{children:[o("strong",{children:"Share Code/Expiry:"})," ",D!=null&&D.shareCode?`${D.shareCode} (${D.shareCodeExpiry})`:"Patient has no share code"]}),d("p",{children:[o("strong",{children:"DOB:"})," ",D.dob,"(",D.age,"yrs)"]}),d("p",{children:[o("strong",{children:"CREDIT:"})," ₦",D.credit]}),d("p",{children:[o("strong",{children:"Admission Status:"})," ",D.admissionStatus]}),d("p",{children:[o("strong",{children:"Mobile Access:"})," ",(D==null?void 0:D.access)==="open"?"Activated":"Not activated"]}),d("div",{style:{marginBottom:"20px"},children:["Patient Status:",d("select",{style:U.input,value:D.clientStatus||"",onChange:ie=>Ie({...D,clientStatus:ie.target.value}),children:[o("option",{value:"",children:"Select Access Level"}),o("option",{value:"enrolled",children:"Enrolled"}),o("option",{value:"flagged",children:"Flagged"}),o("option",{value:"wanted",children:"Wanted"}),o("option",{value:"missing",children:"Missing Person"})]}),o("textarea",{style:{...U.input,display:D.clientStatus==="enrolled"?"none":"inline-block"},placeholder:"Brief detail...",value:D.flagReason,onChange:ie=>Ie({...D,flagReason:ie.target.value})}),o("button",{style:U.button,onClick:ge,children:"Save Changes"})]})]}),d("div",{style:U.section,children:[o("div",{style:{height:"40%"},children:d("table",{style:U.table,children:[o("thead",{style:U.thead,children:d("tr",{children:[o("th",{children:"Watcher"}),o("th",{children:"Relationship"}),o("th",{children:"Watcher ID"})]})}),o("tbody",{children:D.watchers&&D.watchers.length>0?D.watchers.map((ie,he)=>d("tr",{children:[o("td",{children:ie.watcher}),o("td",{children:ie.relationship||"unknown"}),o("td",{children:ie.watcherID})]},he)):o("tr",{colSpan:"3",style:{textAlign:"right"},children:"Patient has no watcher"})})]})}),o("div",{style:{height:"40%"},children:d("table",{style:U.table,children:[o("thead",{style:U.thead,children:d("tr",{children:[o("th",{children:"HMO"}),o("th",{children:"Plan"}),o("th",{children:"Contact"})]})}),o("tbody",{children:D.policies&&D.policies.length>0?D.policies.map((ie,he)=>d("tr",{children:[o("td",{children:ie.sponsor}),o("td",{children:ie.plan}),o("td",{children:ie.contact})]},he)):o("tr",{colSpan:"3",style:{textAlign:"right"},children:"Patient has no active policy"})})]})})]})]}),d("div",{style:{display:"flex"},children:[o("button",{style:U.button,onClick:()=>V("Share Code"),children:"Generate Sharecode"}),o("button",{style:U.button,onClick:()=>V("Watchers"),children:"Add/Remove watcher"}),o("button",{style:U.button,onClick:()=>V("Documents"),children:"Documents"}),o("button",{style:U.button,onClick:()=>{Be(0),V("Award Credit")},children:"Award Credit"}),o("button",{style:U.button,onClick:()=>{V("Home"),Ie({})},children:"Close"})]})]}),F==="Share Code"&&o("div",{style:{width:"100%"},children:d("div",{style:U.profileContainer,children:[d("div",{style:U.section,children:[d("h2",{children:["Share code Reason(",D.title," ",D.lastName," ",D.firstName,")"]}),o("div",{style:{marginBottom:"20px"},children:o("textarea",{style:{...U.shareCodeInput},placeholder:"(Paste email content from patient)",value:D.shareCodeReason,onChange:ie=>Ie({...D,shareCodeReason:ie.target.value})})}),o("button",{style:U.button,onClick:Pe,children:"Generate Sharecode"}),o("button",{style:U.button,onClick:()=>V("Editing Pad"),children:"Back"})]}),o("div",{style:{...U.section,width:"55%",marginLeft:"20px"},children:d("div",{style:{height:"40%"},children:[o("h3",{children:"Audit Trail"}),d("table",{style:U.table,children:[o("thead",{style:U.thead,children:d("tr",{children:[o("th",{children:"Event"}),o("th",{children:"Detail"}),o("th",{children:"Date"})]})}),o("tbody",{children:D.auditTrail&&D.auditTrail.length>0?D.auditTrail.map((ie,he)=>d("tr",{style:{marginBottom:"20px"},children:[o("td",{children:ie.event}),o("td",{children:ie.event}),o("td",{children:ie.date})]},he)):o("tr",{colSpan:"3",style:{textAlign:"right"},children:"Patient has no audit trail"})})]})]})})]})}),F==="Watchers"&&o("div",{style:{width:"100%"},children:d("div",{style:U.profileContainer,children:[o("div",{style:{...U.section,width:"55%",marginLeft:"20px"},children:d("div",{style:{height:"60%",overflowY:"auto"},children:[o("h3",{children:"Audit Trail"}),d("table",{style:U.table,children:[o("thead",{style:U.thead,children:d("tr",{children:[o("th",{children:"Watcher"}),o("th",{children:"Relationship"}),o("th",{children:"Watcher ID"}),o("th",{})]})}),o("tbody",{children:D.watchers&&D.watchers.length>0?D.watchers.map((ie,he)=>d("tr",{children:[o("td",{children:ie.watcher}),o("td",{children:ie.relationship||"unknown"}),o("td",{children:ie.watcherID}),o("td",{onClick:()=>{Z(ie),k("existing-watcher")},children:o("span",{style:U.button,children:"View"})})]},he)):o("tr",{colSpan:"3",style:{textAlign:"right"},children:"Patient has no watcher"})})]})]})}),d("div",{style:U.section,children:[ne==="existing-watcher"&&d("div",{children:[o("h2",{children:A.watcher}),o("div",{style:{...U.photoContainer2},children:A!=null&&A.photoUrl?o("img",{src:A==null?void 0:A.photoUrl,style:U.image,alt:"User's photo"}):o("div",{style:U.placeholderText,children:"Photo Not Found"})}),o("div",{style:{marginTop:"10px"},children:d("div",{children:[o("button",{style:{...U.button,display:A.watcherID?"inline-block":"none"},onClick:Ge,children:"Remove"}),o("button",{style:U.button,onClick:()=>k("new-watcher"),children:"Add New Watcher"}),o("button",{style:U.button,onClick:()=>{V("Editing Pad"),k("new-watcher"),q({}),Z({}),se("")},children:"Back"})]})})]}),ne==="new-watcher"&&d("div",{children:[o("h2",{children:z.watcher}),o("div",{style:{...U.photoContainer2},children:z!=null&&z.photoUrl?o("img",{src:z==null?void 0:z.photoUrl,style:U.image,alt:"User's photo"}):o("div",{style:U.placeholderText,children:"Photo Not Found"})}),d("div",{style:{marginTop:"10px"},children:[o("input",{style:{backgroundColor:"white",color:"black",width:"300px",height:"30px"},value:Y,onChange:ie=>se(ie.target.value),placeholder:"Enter PPN of new watcher.."}),d("div",{children:[o("button",{style:U.button,onClick:me,children:"Add"}),o("button",{style:U.button,onClick:()=>{V("Editing Pad"),q({}),Z({}),se("")},children:"Back"})]})]})]})]})]})}),F==="Photo Upload"&&o("div",{style:{width:"100%"},children:d("div",{style:U.profileContainer,children:[d("div",{style:{...U.section,width:"50%"},children:[o("h2",{children:"Web Cam"}),o("div",{style:U.photoContainer2,children:o(za,{audio:!1,ref:pe,screenshotFormat:"image/png",width:400})}),o("button",{style:U.button,onClick:We,children:"Capture"}),o("button",{style:U.button,onClick:()=>{V("Editing Pad"),Ie({...D,newPhoto:null})},children:"Back"})]}),d("div",{style:{...U.section,width:"50%",display:D.newPhoto?"inline-block":"none"},children:[d("h2",{children:["Preview (",D.title," ",D.lastName," ",D.firstName,")"]}),o("div",{style:U.photoContainer2,children:D.newPhoto?o("img",{src:D.newPhoto,alt:"Captured",width:400}):o("div",{style:U.placeholderText,children:"No image captured"})}),o("button",{style:U.button,onClick:it,children:"Upload"})]})]})}),F==="Documents"&&o("div",{style:{width:"100%"},children:d("div",{style:U.profileContainer,children:[oe==="table"&&d("div",{style:{...U.section,width:"100%"},children:[o("div",{style:{height:"40%",width:"100%"},children:d("table",{style:U.table,children:[o("thead",{style:U.thead,children:d("tr",{children:[o("th",{children:"Document"}),o("th",{children:"Validity"}),o("th",{children:"Verification"}),o("th",{children:"Action"})]})}),o("tbody",{children:D.documents&&D.documents.length>0?D.documents.map((ie,he)=>d("tr",{children:[o("td",{children:ie.fileName}),o("td",{children:ie.validity||"not set"}),o("td",{children:ie.verification||"unverified"}),o("td",{children:o("button",{onClick:()=>{b("iframe"),C(ie)},children:"View"})})]},he)):o("tr",{colSpan:"4",style:{textAlign:"right"},children:"No documents uploaded"})})]})}),o("button",{onClick:()=>{V("Editing Pad")},children:"Close"}),o("button",{onClick:()=>{b("upload")},children:"Upload Document"})]}),oe==="iframe"&&o("div",{style:{...U.section,width:"100%",position:"relative",zIndex:1e3,pointerEvents:ae?"none":"auto"},children:d("div",{children:[o("span",{style:U.topCloseButton,onClick:()=>{b("table"),Q({}),te(!1)},children:"Close"}),o("iframe",{style:{height:"60vh",width:"100%"},src:Q.fileUrl}),d("div",{style:U.docVerificationOverlay,children:[d("div",{children:[o("h3",{children:"When does this document expire?"}),o("input",{style:U.input,type:"date",value:Q.validity||"",onChange:ie=>C({...Q,validity:ie.target.value})}),o("button",{style:{...U.button,display:Q.verification==="unverified"?"inline-block":"none"},onClick:Fe,children:"Verify"}),o("button",{style:{...U.button,display:Q.verification==="verified"?"inline-block":"none"},onClick:de,children:"De-Verify"})]}),o("span",{style:U.topCloseButton,onClick:()=>te(!1),children:"Close"})]}),o("button",{style:{...U.button,display:Q.verification==="verified"?"none":"inline-block"},onClick:()=>te(!0),children:"Verify"}),o("button",{style:{...U.button,display:Q.verification==="verified"&&O<=3?"inline-block":"none"},onClick:()=>te(!0),children:"De-Verify"})]})}),oe==="upload"&&d("div",{style:{...U.section,width:"100%"},children:[d("div",{style:U.uploadfield,children:[d("div",{style:U.uploadInput,children:[o("label",{children:"Upload File"}),o("input",{name:"uploads",type:"file",onChange:Se,multiple:!0})]}),o("div",{style:U.uploadedFiles,children:_.uploads&&_.uploads.length>0?_.uploads.map((ie,he)=>d("div",{style:U.uploadItem,children:[d("span",{children:[he+1,". ",ie.name]}),o("span",{style:U.removeFileButton,onClick:()=>Ht(he),children:"X"})]},he)):o("p",{children:"No files uploaded yet."})})]}),o("button",{onClick:()=>{b("table"),j([])},children:"Back"}),o("button",{style:{display:_.uploads?"inline-block":"none"},onClick:ee,children:"Upload"})]})]})}),F==="Award Credit"&&o("div",{style:{width:"100%"},children:o("div",{style:U.profileContainer,children:d("div",{style:{textAlign:"center",width:"100%"},children:[d("h2",{children:["Credit Award for ",D.title," ",D.lastName," ",D.firstName]}),d("h2",{children:["Credit: ₦",D.credit]}),o("input",{style:U.input,type:"number",min:"0",step:"500",placeholder:"Amount to award",value:Ce,onInput:ie=>{let he=parseFloat(ie.target.value);isNaN(he)||(ie.target.value=he.toFixed(2))},onChange:ie=>Be(ie.target.value)}),o("button",{style:U.button,onClick:()=>{V("Editing Pad")},children:"Back"}),o("button",{style:{...U.button,display:O===1?"inline-block":"none"},onClick:be,children:"Award Credit"})]})})})]})}function am(){const{state:p}=T.useContext(en),{spineUrl:m,token:f,accessLevel:y,allStates:w,clinicianGrades:I,clinicianSpecialties:O}=p,[P,N]=T.useState("page1"),[x,S]=T.useState({}),[F,V]=T.useState([]),[ne,k]=T.useState({photo:null,rightFinger:null,leftFinger:null}),[A,Z]=T.useState({verifiedWatcher:"",emailOTP:"",mobileOTP:"",kp2EmailOTP:""}),[z,q]=T.useState("");fn();const[Y,se]=T.useState(!1),[Ce,Be]=T.useState(""),Oe=T.useRef(null);T.useEffect(()=>{(()=>{if(x.dob){const oe=new Date(x.dob),b=new Date;let Q=b.getFullYear()-oe.getFullYear();const C=b.getMonth()-oe.getMonth(),_=b.getDate()-oe.getDate();(C<0||C===0&&_<0)&&Q--,S({...x,age:Q})}else S({...x,age:null})})()},[x.dob]);const X=async()=>{if(se(!0),!x.title||!x.lastName||!x.firstName||!x.dob||!x.gender||!x.address||!x.state||!x.mobile||!x.email){alert("Complete all fields!");return}try{const te=await fetch(`${m}/clinicians/generate_email_and_mobile_otp?email=${encodeURIComponent(x.email)}&mobile=${x.mobile}`,{method:"GET",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}});if(te.ok){const oe=await te.json();Z({...A,emailOTP:oe.emailOTP,mobileOTP:oe.mobileOTP}),N("page3")}else{const oe=await te.json();alert(oe.message)}}catch(te){console.error("Submission error:",te),alert("An error occurred while generating otp")}finally{se(!1)}},J=async()=>{if(x.emailOTP!==A.emailOTP){alert("Invalid Email OTP!");return}else if(x.mobileOTP!==A.mobileOTP){alert("Invalid Mobile OTP!");return}else alert("Keyperson Email and Mobile number verified!"),N("page4")},Re=async()=>{if(!x.domain||!x.grade||!x.specialty||!x.registrationNumber||!x.folioNumber||!x.licenseExpiry){alert("Complete all fields");return}N("page5")},D=()=>{const te=Oe.current.getScreenshot();k({...ne,photo:te})},Ie=async()=>{if(se(!0),confirm("Confirm submission")){const oe={};Object.entries(x).forEach(([b,Q])=>{oe[b]=Q}),Object.entries(ne).forEach(([b,Q])=>{oe[b]=Q});try{const b=await fetch(`${m}/clinicians/clinician_signup`,{method:"POST",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"},body:JSON.stringify(oe)});if(b.ok){const Q=await b.json();q(Q.message),N("page6")}else{const Q=await b.json();alert(Q.message)}}catch(b){console.error("Submission error:",b),alert("An error occurred signing up new clinician")}finally{se(!1)}}else alert("New clinician signup cancelled!"),se(!1)},we=()=>{S({}),k({}),N("page1")},re={container:{width:"90%",height:"65vh",margin:"0 auto",padding:"20px",backgroundColor:"#ffffff",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",overflowY:"auto",cursor:Y?"wait":"default"},label:{display:"block",fontSize:"0.9em",color:"#555",marginBottom:"8px",width:"98%",cursor:Y?"wait":"default"},input:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1em",backgroundColor:"white",color:"black",cursor:Y?"wait":"default"},TCBody:{height:"60vh",width:"100%",overflowY:"auto",margin:"20px",textAlign:"left",cursor:Y?"wait":"default"},TCButton:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",cursor:Y?"wait":"pointer",borderRadius:"4px",textAlign:"center"}},ae={button:{padding:"10px",backgroundColor:"#007BFF",color:"#FFF",border:"none",cursor:Y?"wait":"pointer"}};return d("div",{style:{cursor:Y?"wait":"default"},children:[P==="page1"&&d("div",{children:[o("h2",{children:"Clinicians Terms And Conditions"}),d("div",{style:re.TCBody,children:[o("h3",{children:"GENERAL"}),d("p",{children:[o("strong",{children:"Minor:"})," All minors are required to be registered under an adult who would be responsible for them at all times"]}),o("br",{})]}),o("span",{style:re.TCButton,onClick:()=>N("page2"),children:"Agree"})]}),P==="page2"&&d("div",{children:[o("h2",{children:"Clinician's Biodata: "}),d("div",{style:re.container,children:[d("label",{style:re.label,children:[o("input",{type:"hidden",value:ne.photo,style:re.input}),o("input",{type:"hidden",value:ne.rightFinger,style:re.input}),o("input",{type:"hidden",value:ne.leftFinger,style:re.input})]}),d("label",{style:re.label,children:["Title:",d("select",{type:"text",value:x.title,onChange:te=>S({...x,title:te.target.value}),style:re.input,children:[o("option",{value:"",children:"Select Title"}),o("option",{value:"Dr.",children:"Dr."}),o("option",{value:"Prof.",children:"Prof."})]})]}),d("label",{style:re.label,children:["Last Name:",o("input",{type:"text",value:x.lastName,onChange:te=>S({...x,lastName:te.target.value}),style:re.input})]}),d("label",{style:re.label,children:["First Name:",o("input",{type:"text",value:x.firstName,onChange:te=>S({...x,firstName:te.target.value}),style:re.input})]}),d("label",{style:re.label,children:["Date of Birth:",o("input",{type:"date",value:x.dob,onChange:te=>S({...x,dob:te.target.value}),style:re.input}),d("p",{style:{display:x.age?"inline-block":"none"},children:[x.age,"years"]})]}),d("label",{style:re.label,children:["Gender:",d("select",{type:"text",value:x.gender,onChange:te=>S({...x,gender:te.target.value}),style:re.input,children:[o("option",{value:"",children:"Select Gender"}),o("option",{value:"male",children:"Male"}),o("option",{value:"female",children:"Female"})]})]}),d("label",{style:re.label,children:["NIN(You would be held liable if you do not thorough verified the accuracy of NIN provided by signee.):",o("input",{type:"text",value:x.nin,onChange:te=>S({...x,nin:te.target.value}),style:re.input})]}),d("label",{style:re.label,children:["Correspondence Address:",o("input",{type:"text",value:x.address,onChange:te=>S({...x,address:te.target.value}),style:re.input})]}),d("label",{style:re.label,children:["State of Residence:",d("select",{type:"text",value:x.state,onChange:te=>S({...x,state:te.target.value}),style:re.input,children:[o("option",{value:"",children:"Select"}),w.map(te=>o("option",{children:te},te))]})]}),d("label",{style:re.label,children:["Telephone:",o("input",{type:"number",value:x.telephone,onChange:te=>S({...x,telephone:te.target.value}),style:re.input})]}),d("label",{style:re.label,children:["Mobile:",o("input",{type:"number",value:x.mobile,onChange:te=>S({...x,mobile:te.target.value}),style:re.input})]}),d("label",{style:re.label,children:["Email (Every client must be linked to an email or mobile number for correspondence purposes):",o("input",{type:"email",value:x.email,onChange:te=>S({...x,email:te.target.value}),style:re.input})]}),o("span",{style:re.TCButton,onClick:X,children:"Next Page"}),o("span",{style:re.TCButton,onClick:()=>N("page1"),children:"Back"})]})]}),P==="page3"&&d("div",{children:[o("h2",{children:"Email/Mobile Number Verification"}),d("div",{style:re.container,children:[o("label",{style:re.label,children:o("input",{type:"text",name:"emailOTP",value:x.emailOTP,onChange:te=>S({...x,emailOTP:te.target.value}),style:re.input,placeholder:"Email Verification code..."})}),o("label",{style:re.label,children:o("input",{type:"text",name:"mobileOTP",value:x.mobileOTP,onChange:te=>S({...x,mobileOTP:te.target.value}),style:re.input,placeholder:"Mobile Verification code..."})}),o("span",{style:re.TCButton,onClick:J,children:"Verify"}),o("span",{style:re.TCButton,onClick:()=>N("page2"),children:"Back"})]})]}),P==="page4"&&d("div",{children:[o("h2",{children:"Professional Data"}),d("div",{style:re.container,children:[d("label",{style:re.label,children:["Domain:",d("select",{type:"text",value:x.domain,onChange:te=>S({...x,domain:te.target.value}),style:re.input,children:[o("option",{value:"",children:"Select Domain"}),o("option",{value:"medical",children:"medical"}),o("option",{value:"dental",children:"dental"})]})]}),d("label",{style:re.label,children:["Grade:",d("select",{type:"text",value:x.grade,onChange:te=>S({...x,grade:te.target.value}),style:re.input,children:[o("option",{value:"",children:"Select Grade"}),I.map(te=>o("option",{children:te},te))]})]}),d("label",{style:re.label,children:["Specialty:",d("select",{type:"text",value:x.specialty,onChange:te=>S({...x,specialty:te.target.value}),style:re.input,children:[o("option",{value:"",children:"Select Specialty"}),O.map(te=>o("option",{children:te},te))]})]}),d("label",{style:re.label,children:["Registration Number:",o("input",{type:"text",value:x.registrationNumber,onChange:te=>S({...x,registrationNumber:te.target.value}),style:re.input,placeholder:"Doctor's MDCN Registration number..."})]}),d("label",{style:re.label,children:["Folio Number:",o("input",{type:"text",value:x.folioNumber,onChange:te=>S({...x,folioNumber:te.target.value}),style:re.input,placeholder:"Doctors MDCN Folio Number..."})]}),d("label",{style:re.label,children:["License Expiry:",o("input",{type:"date",name:"licenseExpiry",value:x.licenseExpiry,onChange:te=>S({...x,licenseExpiry:te.target.value}),style:re.input})]}),o("span",{style:re.TCButton,onClick:Re,children:"Next Page"}),o("span",{style:re.TCButton,onClick:()=>N("page3"),children:"Back"})]})]}),P==="page5"&&o("div",{style:re.container,children:d("div",{style:{display:"flex",flexDirection:"row"},children:[d("div",{style:{width:"50%"},children:[o("h2",{children:"Webcam"}),o(za,{audio:!1,ref:Oe,screenshotFormat:"image/png",width:400}),o("div",{style:{margin:"20px 0"},children:o("button",{onClick:D,children:"Capture Photo"})})]}),d("div",{style:{display:ne.photo?"inline-block":"none"},children:[ne.photo&&d("div",{children:[o("h3",{children:"Photo Preview"}),o("img",{src:ne.photo,alt:"Captured",width:400})]}),d("div",{style:{marginTop:"20px"},children:[o("button",{onClick:Ie,children:"Submit"}),o("span",{style:re.TCButton,onClick:()=>{N("page4"),k({...ne,photo:null})},children:"Back"})]})]}),Ce&&o("p",{children:Ce})]})}),P==="page6"&&d("div",{children:[z,o("div",{style:{margin:"10px 0"},children:o("button",{style:ae.button,onClick:we,children:"Close"})})]})]})}function lm(){const{state:p,logout:m,updatePatient:f}=T.useContext(en),{token:y,spineUrl:w,category:I,accessLevel:O,configurations:P,serviceBranches:N,userID:x,organisation:S}=p,[F,V]=T.useState("Home"),[ne,k]=T.useState("table"),[A,Z]=T.useState({}),[z,q]=T.useState([]),[Y,se]=T.useState({}),[Ce,Be]=T.useState([]),[Oe,X]=T.useState(""),[J,Re]=T.useState(""),[D,Ie]=T.useState(""),[we,re]=T.useState(!1),[ae,te]=T.useState(!1);fn(),T.useEffect(()=>{(async()=>{try{const Pe=await fetch(`${w}/clinicians/fetch_clinicians?q=${encodeURIComponent(D)}`,{method:"GET",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"}});if(console.log(w),Pe.ok){const We=await Pe.json();q(We.clinicians)}else{const We=await Pe.json();alert(We.message),console.error("Failed to fetch keypersons:",Pe.statusText)}}catch(Pe){console.error("Error fetching keypersons:",Pe)}})()},[w,y,D,we]);const oe=async()=>{try{if(!confirm("You are about to modify a clinician. Do you assume responsibility for this change?")){alert("Action cancelled!");return}const Pe=await fetch(`${w}/clinicians/modify_clinician`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify(Y)});if(Pe.ok){const We=await Pe.json();alert(We.message),re(it=>!it)}else{const We=await Pe.json();alert(We.message),console.error("Failed to fetch localities:",Pe.statusText)}}catch(ge){console.error("Error fetching localities:",ge)}},b=T.useRef(null),Q=()=>{const ge=b.current.getScreenshot();se(Pe=>({...Pe,newPhoto:ge}))},C=async()=>{if(!confirm("Confirm Image Upload")){alert("Image Upload cancelled!"),se({...Y,newPhoto:null});return}try{const Pe=await fetch(`${w}/clinicians/photo_upload`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({registrationNumber:Y.registrationNumber,newPhoto:Y.newPhoto})});if(Pe.ok){const We=await Pe.json();We.newPhotoUrl&&se({...Y,photoUrl:We.newPhotoUrl}),V("Editing Pad"),se({...Y,newPhoto:null}),Be([])}else{const We=await Pe.json();alert(We.message)}}catch(Pe){console.error("Submission error:",Pe),alert("An error occurred uploading clinician photo")}},_=ge=>{const{name:Pe,type:We,files:it}=ge.target;if(We==="file"){const Se=Array.from(it);Be(Ht=>({...Ht,[Pe]:[...Ht[Pe]||[],...Se]}))}},j=ge=>{Be(Pe=>{const We=[...Pe.uploads];return We.splice(ge,1),{uploads:We}})},pe=ge=>new Promise((Pe,We)=>{const it=new FileReader;it.onloadend=()=>Pe(it.result.split(",")[1]),it.onerror=We,it.readAsDataURL(ge)}),Te=async()=>{if(confirm("Confirm submission")){const Pe=await Promise.all(Ce.uploads.map(async We=>{const it=await pe(We);return{name:We.name,content:it}}));try{const We=await fetch(`${w}/clinicians/file_upload`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({registrationNumber:Y.registrationNumber,uploads:Pe})});if(We.ok){const it=await We.json();se({...Y,documents:it.documents}),k("table")}else{const it=await We.json();alert(it.message)}}catch(We){console.error("File upload error:",We),alert("An error occurred uploading files")}}else alert("File upload cancelled!")},_e=async()=>{if(!A.validity){alert("Document validity missing!");return}confirm("Ensure due diligence has been done on file before modifying file verification status.")||alert("File verification cancelled!");try{const Pe=await fetch(`${w}/clinicians/file_verification`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({registrationNumber:Y.registrationNumber,fileKey:A.fileKey,validity:A.validity,verification:"verified"})});if(Pe.ok){const We=await Pe.json();se({...Y,documents:We.documents}),k("table"),te(!1)}else{const We=await Pe.json();alert(We.message)}}catch(Pe){console.error("File verification error:",Pe),alert("An error occurred uploading files")}},xe=async()=>{if(!A.validity){alert("Document validity missing!");return}confirm("Ensure due diligence has been done on file before modifying file verification status.")||alert("File verification cancelled!");try{const Pe=await fetch(`${w}/clinicians/file_verification`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({registrationNumber:Y.registrationNumber,fileKey:A.fileKey,validity:A.validity,verification:"unverified"})});if(Pe.ok){const We=await Pe.json();se({...Y,documents:We.documents}),k("table"),te(!1)}else{const We=await Pe.json();alert(We.message)}}catch(Pe){console.error("File verification error:",Pe),alert("An error occurred uploading files")}},me={page:{color:"black",height:"100%",width:"100%",overflowY:"hidden",overflowX:"hidden",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},searchFieldContainer:{display:"flex",flexDirection:"row",backgroundColor:"grey",alignItems:"left",justifyContent:"left"},searchField:{backgroundColor:"white",color:"black",right:"20px",width:"35%",height:"25px",top:"120px"},stateSelector2:{backgroundColor:"#2c3e50",color:"white",right:"20px",width:"15%",height:"25px",top:"120px"},tableContainer:{height:"79vh",backgroundColor:"white",width:"100%"},table:{width:"95%",borderCollapse:"collapse",marginTop:"20px"},thead:{backgroundColor:"#2c3e50",color:"white",position:"sticky",top:"0px",zIndex:2e3},profileContainer:{display:"flex",flexDirection:"row",color:"black",backgroundColor:"#f9f9f9",padding:"20px",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",width:"80%",height:"70vh",margin:"20px auto",textAlign:"center"},photoContainer:{position:"sticky",top:"10px",left:"80px",backgroundColor:"#fff",height:"200px",width:"200px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden"},photoContainer2:{position:"sticky",top:"10px",left:"80px",backgroundColor:"#fff",height:"380px",width:"380px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden"},image:{height:"100%",width:"100%",objectFit:"cover"},placeholderText:{color:"#666",fontSize:"16px",fontStyle:"italic",textAlign:"center"},section:{display:"block",width:"45%",marginBottom:"20px",textAlign:"left",lineHeight:"0.8"},input:{padding:"10px",marginRight:"10px",borderRadius:"5px",border:"1px solid #ccc",width:"200px",backgroundColor:"white",color:"black"},button:{backgroundColor:"#3498db",margin:"5px"},topCloseButton:{height:"30px",width:"100px",backgroundColor:"red",cursor:"pointer"},docVerificationOverlay:{display:ae?"block":"none",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:2e3,pointerEvents:"auto",width:"40%",height:"40%",backgroundColor:"grey",textAlign:"center"},uploadfield:{padding:"20px",border:"1px solid #ccc",borderRadius:"8px"},uploadInput:{marginBottom:"10px"},uploadedFiles:{marginTop:"10px",listStyleType:"none",padding:"0",minHeight:"4vh"},uploadItem:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},removeFileButton:{color:"red",cursor:"pointer"}},Ge=ge=>({backgroundColor:ge%2===0?"#f9f9f9":"#e0e0e0",cursor:"pointer"});return d("div",{style:me.page,children:[F==="Home"&&d("div",{style:me.tableContainer,children:[d("div",{style:me.searchFieldContainer,children:[d("select",{style:me.stateSelector2,value:Oe,onChange:ge=>X(ge.target.value),children:[o("option",{value:"",children:"Select Branch"}),N.map(ge=>o("option",{value:ge.branchID,children:ge.branchName},ge.branchID))]}),o("input",{style:me.searchField,value:D,onChange:ge=>Ie(ge.target.value),placeholder:"Search here for client"})]}),d("table",{style:{width:"100%"},children:[o("thead",{style:me.thead,children:d("tr",{children:[o("th",{}),o("th",{children:"Clinician"}),o("th",{children:"Reg Number"}),o("th",{children:"Folio Number"}),o("th",{children:"Specialty"}),o("th",{children:"Grade"}),o("th",{children:"Email"}),o("th",{children:"License Status"}),o("th",{children:"License Expiry"}),o("th",{children:"Account Status"}),o("th",{children:"Action"})]})}),o("tbody",{children:z.map((ge,Pe)=>d("tr",{style:Ge(Pe),children:[o("td",{children:Pe+1}),o("td",{children:ge.clinician}),o("td",{children:ge.registrationNumber}),o("td",{children:ge.folioNumber}),o("td",{children:ge.specialty}),o("td",{children:ge.grade}),o("td",{children:ge.email}),o("td",{children:ge.licenseStatus}),o("td",{children:ge.licenseExpiry}),o("td",{children:ge.accountStatus}),o("td",{children:o("button",{onClick:()=>{se(ge),V("Editing Pad")},children:"Open Profile"})})]},ge))})]})]}),F==="Editing Pad"&&d("div",{style:{width:"100%"},children:[d("div",{style:me.profileContainer,children:[d("div",{style:me.section,children:[o("div",{style:me.photoContainer,children:Y.photoUrl?o("img",{src:Y.photoUrl,style:me.image,alt:"User's photo"}):o("div",{style:me.placeholderText,children:"Photo Not Found"})}),o("span",{style:{textDecoration:"underline",color:"green",cursor:"pointer"},onClick:()=>V("Photo Upload"),children:"Change Photo"}),d("p",{children:[o("strong",{children:"Clinician:"})," ",Y.clinician]}),d("p",{children:[o("strong",{children:"MDCN Registration:"})," ",Y.registrationNumber]}),d("p",{children:[o("strong",{children:"Folio Number:"})," ",Y.folioNumber]}),d("p",{children:[o("strong",{children:"License Status:"})," ",Y.licenseStatus]}),d("p",{children:[o("strong",{children:"License Expiry:"})," ",Y.licenseExpiry]}),d("div",{style:{marginBottom:"20px",display:O>=5?"inline-block":"none"},children:["Vetting:",Y.vettingStatus]}),d("div",{style:{marginBottom:"20px",display:O>=5?"inline-block":"none"},children:["Account Status:",Y.accountStatus]}),d("div",{style:{marginBottom:"20px",display:O<=4?"inline-block":"none"},children:["Vetting:",d("select",{style:me.input,value:Y.vettingStatus||"",onChange:ge=>se({...Y,vettingStatus:ge.target.value}),children:[o("option",{value:"pending",children:"Pending"}),o("option",{value:"completed",children:"Completed"})]})]}),d("div",{style:{marginBottom:"20px",display:O<=4?"inline-block":"none"},children:["Account Status:",d("select",{style:me.input,value:Y.accountStatus||"",onChange:ge=>se({...Y,accountStatus:ge.target.value}),children:[o("option",{value:"pending",children:"Pending"}),o("option",{value:"approved",children:"Approved"}),o("option",{value:"reported",children:"Reported"}),o("option",{value:"banned",children:"Banned"}),o("option",{value:"license withdrawn",children:"License Withdrawn"})]})]}),o("button",{style:{...me.button,display:O<=4?"inline-block":"none"},onClick:oe,children:"Save Changes"}),o("button",{style:me.button,onClick:()=>V("Documents"),children:"Documents"})]}),o("div",{style:{...me.section,width:"60%"},children:o("div",{style:{height:"40%",width:"100%"},children:d("table",{style:me.table,children:[o("thead",{style:me.thead,children:d("tr",{children:[o("th",{children:"Role"}),o("th",{children:"Employer"}),o("th",{children:"Category"}),o("th",{children:"Contact"})]})}),o("tbody",{children:Y.employers&&Y.employers.length>0?Y.employers.map((ge,Pe)=>d("tr",{children:[o("td",{children:ge.role}),o("td",{children:ge.organisation}),o("td",{children:ge.category}),o("td",{children:ge.telephone})]},Pe)):o("tr",{colSpan:"4",style:{textAlign:"right"},children:"No active employment"})})]})})})]}),o("button",{onClick:()=>{V("Home"),se({})},children:"Close"})]}),F==="Photo Upload"&&o("div",{style:{width:"100%"},children:d("div",{style:me.profileContainer,children:[d("div",{style:{...me.section,width:"50%"},children:[o("h2",{children:"Web Cam"}),o("div",{style:me.photoContainer2,children:o(za,{audio:!1,ref:b,screenshotFormat:"image/png",width:400})}),o("button",{style:me.button,onClick:Q,children:"Capture"}),o("button",{style:me.button,onClick:()=>{V("Editing Pad"),se({...Y,newPhoto:null})},children:"Back"})]}),d("div",{style:{...me.section,width:"50%",display:Y.newPhoto?"inline-block":"none"},children:[d("h2",{children:["Preview (",Y.clinician,")"]}),o("div",{style:me.photoContainer2,children:Y.newPhoto?o("img",{src:Y.newPhoto,alt:"Captured",width:400}):o("div",{style:me.placeholderText,children:"No image captured"})}),o("button",{style:me.button,onClick:C,children:"Upload"})]})]})}),F==="Documents"&&o("div",{style:{width:"100%"},children:d("div",{style:me.profileContainer,children:[ne==="table"&&d("div",{style:{...me.section,width:"100%"},children:[o("div",{style:{height:"40%",width:"100%"},children:d("table",{style:me.table,children:[o("thead",{style:me.thead,children:d("tr",{children:[o("th",{children:"Document"}),o("th",{children:"Validity"}),o("th",{children:"Verification"}),o("th",{children:"Action"})]})}),o("tbody",{children:Y.documents&&Y.documents.length>0?Y.documents.map((ge,Pe)=>d("tr",{children:[o("td",{children:ge.fileName}),o("td",{children:ge.validity||"not set"}),o("td",{children:ge.verification||"unverified"}),o("td",{children:o("button",{onClick:()=>{k("iframe"),Z(ge)},children:"View"})})]},Pe)):o("tr",{colSpan:"4",style:{textAlign:"right"},children:"No documents uploaded"})})]})}),o("button",{onClick:()=>{V("Editing Pad")},children:"Close"}),o("button",{onClick:()=>{k("upload")},children:"Upload Document"})]}),ne==="iframe"&&o("div",{style:{...me.section,width:"100%",position:"relative",zIndex:1e3,pointerEvents:ae?"none":"auto"},children:d("div",{children:[o("span",{style:me.topCloseButton,onClick:()=>{k("table"),A({}),te(!1)},children:"Close"}),o("iframe",{style:{height:"60vh",width:"100%"},src:A.fileUrl}),d("div",{style:me.docVerificationOverlay,children:[d("div",{children:[o("h3",{children:"When does this document expire?"}),o("input",{style:me.input,type:"date",value:A.validity||"",onChange:ge=>Z({...A,validity:ge.target.value})}),o("button",{style:{...me.button,display:A.verification==="unverified"?"inline-block":"none"},onClick:_e,children:"Verify"}),o("button",{style:{...me.button,display:A.verification==="verified"?"inline-block":"none"},onClick:xe,children:"De-Verify"})]}),o("span",{style:me.topCloseButton,onClick:()=>te(!1),children:"Close"})]}),o("button",{style:{...me.button,display:A.verification==="verified"?"none":"inline-block"},onClick:()=>te(!0),children:"Verify"}),o("button",{style:{...me.button,display:A.verification==="verified"&&O<=3?"inline-block":"none"},onClick:()=>te(!0),children:"De-Verify"})]})}),ne==="upload"&&d("div",{style:{...me.section,width:"100%"},children:[d("div",{style:me.uploadfield,children:[d("div",{style:me.uploadInput,children:[o("label",{children:"Upload File"}),o("input",{name:"uploads",type:"file",onChange:_,multiple:!0})]}),o("div",{style:me.uploadedFiles,children:Ce.uploads&&Ce.uploads.length>0?Ce.uploads.map((ge,Pe)=>d("div",{style:me.uploadItem,children:[d("span",{children:[Pe+1,". ",ge.name]}),o("span",{style:me.removeFileButton,onClick:()=>j(Pe),children:"X"})]},Pe)):o("p",{children:"No files uploaded yet."})})]}),o("button",{onClick:()=>{k("table"),Be([])},children:"Back"}),o("button",{style:{display:Ce.uploads?"inline-block":"none"},onClick:Te,children:"Upload"})]})]})})]})}function sm(){const{state:p}=T.useContext(en),{spineUrl:m,token:f,accessLevel:y,allStates:w,referenceLibrary:I}=p,[O,P]=T.useState("page1"),[N,x]=T.useState("home"),[S,F]=T.useState({}),[V,ne]=T.useState([]),[k,A]=T.useState({}),[Z,z]=T.useState(""),[q,Y]=T.useState(""),[se,Ce]=T.useState("");fn();const[Be,Oe]=T.useState(!1),X=["ambulance","clinic","dental","diagnostics","hospital","pharmacy","physiotherapy"];T.useEffect(()=>{(async()=>{try{const Q=await fetch(`${m}/services/fetch_public_reference_inventory?serviceType=${encodeURIComponent(q)}&q=${encodeURIComponent(Z)}`,{method:"GET",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}});if(Q.ok){const C=await Q.json();ne(C.prescribeNgServices)}else{const C=await Q.json();alert(C.message)}}catch(Q){console.error("Error checking duplicate service:",Q),alert("could not check for duplicate service")}finally{Oe(!1)}})()},[m,q,Z]);const J=b=>{A(b),P("productPage")};T.useEffect(()=>{(async()=>{try{const Q=await fetch(`${m}/services/check_for_duplicate_service?serviceType=${encodeURIComponent(S.serviceType)}&nonproprietaryName=${encodeURIComponent(S.nonproprietaryName)}`,{method:"GET",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}});if(Q.ok){const C=await Q.json();Ce(C.duplicateService)}else{const C=await Q.json();alert(C.message)}}catch(Q){console.error("Error checking duplicate service:",Q),alert("could not check for duplicate service")}finally{Oe(!1)}})()},[S.nonproprietaryName]);const Re=async()=>{if(se){alert("Duplicated service!");return}if(!S.serviceType||!S.itemClass||!S.itemSubclass||!S.legalClass||!S.nonproprietaryName||!S.description){alert("All fields are required!");return}if(confirm("Confirm submission")){const Q={};if(Object.entries(S).forEach(([C,_])=>{Q[C]=_}),Q.serviceType==="pathology"&&!Q.testCode){alert("All laboratory tests must have a valid testCode");return}try{const C=await fetch(`${m}/services/create_new_reference_inventory_item`,{method:"POST",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"},body:JSON.stringify(Q)});if(C.ok){const _=await C.json();alert(_.message)}else{const _=await C.json();alert(_.message)}}catch(C){console.error("Submission error:",C),alert("An error occurred creating new service")}}else alert("New service creation cancelled!")},D=async b=>{let Q=b;if(!confirm(`You are about to set service authorization status to ${b}. Do you want to procede?`)){alert("Action cancelled!");return}try{const _=await fetch(`${m}/services/service_authorization`,{method:"POST",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"},body:JSON.stringify({sku:k.sku,authorizationStatus:Q})});if(_.ok){const j=await _.json();alert(j.message)}else{const j=await _.json();alert(j.message)}}catch(_){console.error("Authorization error:",_),alert("An error occurred authorizing service")}},Ie=async()=>{if(!confirm("Confirm submission")){alert("Action cancelled!");return}try{const Q=await fetch(`${m}/services/update_allowed_categories`,{method:"POST",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"},body:JSON.stringify({sku:k.sku,allowedCategories:k.allowedCategories})});if(Q.ok){const C=await Q.json();alert(C.message)}else{const C=await Q.json();alert(C.message)}}catch(Q){console.error("Submission error:",Q),alert("An error occurred updating allowed categories")}},we=b=>{const Q=[...k.allowedCategories,b];A({...k,allowedCategories:Q})},re=b=>{const Q=k.allowedCategories.filter(C=>C!==b);A({...k,allowedCategories:Q})},ae={container:{width:"90%",height:"65vh",margin:"0 auto",padding:"20px",backgroundColor:"#ffffff",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",overflowY:"auto"},productContainer:{width:"90%",height:"60vh",textAlign:"left",margin:"0 auto",padding:"20px",backgroundColor:"#ffffff",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",overflowY:"auto"},label:{display:"block",fontSize:"0.9em",color:"#555",marginBottom:"8px",width:"98%"},input:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1em",backgroundColor:"white",color:"black"},textarea:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1em",resize:"vertical",minHeight:"80px",backgroundColor:"white",color:"black"},TCBody:{height:"60vh",width:"100%",overflowY:"auto",margin:"20px",textAlign:"left"},TCButton:{padding:"10px 20px",backgroundColor:"#007bff",margin:"5px",color:"white",cursor:"pointer",borderRadius:"4px",textAlign:"center"},tableContainer:{height:"79vh",backgroundColor:"white",width:"100%"},thead:{backgroundColor:"grey",position:"sticky",top:"0px",zIndex:2e3},serviceTypeSelector:{backgroundColor:"orange",color:"white",right:"20px",width:"25%",height:"25px",top:"120px"},searchContainer:{backgroundColor:"grey",alignItems:"left",justifyContent:"left"},searchField:{backgroundColor:"white",color:"black",right:"20px",width:"25%",height:"25px",top:"120px"},categoryContainer:{padding:"20px",display:"grid",gap:"20px",gridTemplateRows:"auto auto",gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))",height:"80%",width:"100%",overflowY:"auto"}},te=b=>({backgroundColor:b%2===0?"#f9f9f9":"#e0e0e0",cursor:"pointer"}),oe=b=>{const Q=k.allowedCategories.some(C=>C===b);return{display:"flex",justifyContent:"center",alignItems:"center",border:"0.5px solid",width:"120px",height:"60px",aspectRatio:"1",textAlign:"center",cursor:Be?"wait":"pointer",backgroundColor:Q?"#3498db":"white",transition:"background-color 0.3s ease"}};return d("div",{children:[O==="page1"&&d("div",{children:[o("h2",{children:"PRESCRIBENG SERVICES SECTION"}),d("div",{style:ae.TCBody,children:[o("h3",{children:"WARNING"}),o("p",{children:"This page is strictly for personnels of the medical department and includes the following roles: doctor, nurse, pharmacies, radiographers, laboratory scientist"}),o("p",{children:"If you do not belong to the medical department and one of the mentioned roles, exit the page immediately and report to the technical team."})]}),o("span",{style:ae.TCButton,onClick:()=>P("page2"),children:"View Existing Services "}),o("span",{style:ae.TCButton,onClick:()=>P("newServiceForm1"),children:"Create New Services"}),o("span",{style:{...ae.TCButton,display:y<3?"inline-block":"none"},onClick:()=>P("newServiceForm2"),children:"Create New Scheme"})]}),O==="page2"&&o("div",{children:o("div",{style:ae.container,children:d("div",{style:ae.tableContainer,children:[d("div",{style:ae.searchContainer,children:[d("select",{style:ae.serviceTypeSelector,value:q,onChange:b=>Y(b.target.value),children:[o("option",{value:"",children:"Select Service Type"}),I.serviceTypes.map(b=>o("option",{children:b},b))]}),o("input",{style:ae.searchField,value:Z,onChange:b=>z(b.target.value),placeholder:"Search here for services"}),o("span",{onClick:()=>P("page1"),style:{position:"relative",top:"0px",right:"0px"},children:"Close"})]}),d("table",{style:{width:"100%"},children:[o("thead",{style:ae.thead,children:d("tr",{children:[o("th",{children:"S/N"}),o("th",{children:"Service Type"}),o("th",{children:"Class"}),o("th",{children:"Subclass"}),o("th",{children:"Legal Class"}),o("th",{children:"Generic Name"}),o("th",{children:"Description"}),o("th",{children:"Scheme"}),o("th",{children:"Status"})]})}),o("tbody",{children:V.map((b,Q)=>d("tr",{style:te(Q),onClick:()=>J(b),children:[o("td",{children:Q+1}),o("td",{children:b.serviceType}),o("td",{children:b.itemClass}),o("td",{children:b.itemSubclass}),o("td",{children:b.legalClass}),o("td",{children:b.nonproprietaryName}),o("td",{children:b.description}),o("td",{children:b.scheme}),o("td",{children:b.authorizationStatus})]},b))})]})]})})}),O==="productPage"&&o("div",{children:d("div",{children:[N==="home"&&d("div",{children:[o("h3",{children:"Product Page"}),d("div",{style:ae.productContainer,children:[o("span",{style:{textDecoration:"underline",color:"red"},onClick:()=>P("page2"),children:"Back"}),d("div",{style:{display:"flex",flexDirection:"row",height:"80%",overflowY:"hidden"},children:[d("div",{style:{width:"70%",height:"100%",overflowY:"auto"},children:[d("p",{children:[o("strong",{children:"Service Item: "}),k.nonproprietaryName]}),d("p",{children:[o("strong",{children:"Type: "}),k.serviceType]}),d("p",{children:[o("strong",{children:"Class: "}),k.itemClass]}),d("p",{children:[o("strong",{children:"Subclass: "}),k.itemSubclass]}),o("br",{}),d("p",{children:[o("strong",{children:"Scheme: "}),k.scheme]}),d("p",{children:[o("strong",{children:"Item Description: "}),k.description]}),o("br",{}),d("p",{children:[o("strong",{children:"Status: "}),k.authorizationStatus]}),d("p",{children:[o("strong",{children:"Added On: "}),k.createdOn]}),o("br",{}),d("p",{children:[o("strong",{children:"Added By: "}),k.createdBy]}),o("br",{}),d("p",{style:{display:k.authorizationStation==="authorized"?"inline-block":"none"},children:[o("strong",{children:"Authorized By: "}),k.authorizedBy]}),o("br",{})]}),d("div",{style:{display:"block",width:"23%",height:"100%",overflowY:"auto"},children:[o("button",{style:{...ae.TCButton},onClick:()=>x("allowedCategories"),children:"Allowed Categories"}),o("br",{}),o("button",{style:{...ae.TCButton,display:k.authorizationStation==="authorized"?"none":"inline-block"},onClick:()=>D("authorized"),children:"Authorize"}),o("br",{}),o("button",{style:{...ae.TCButton,display:k.authorizationStation==="authorized"?"none":"inline-block"},onClick:()=>D("unauthorized"),children:"De-Authorize"}),o("br",{}),o("button",{style:{...ae.TCButton,display:k.authorizationStation==="authorized"?"none":"inline-block"},onClick:()=>D("withdrawn"),children:"Withdraw"}),o("br",{}),o("button",{style:{...ae.TCButton,display:k.authorizationStation==="authorized"?"none":"inline-block"},onClick:()=>D("rejected"),children:"Reject"}),o("br",{})]})]})]})]}),N==="allowedCategories"&&d("div",{children:[o("h3",{children:"Allowed Categories"}),d("div",{style:ae.productContainer,children:[o("span",{style:{textDecoration:"underline",color:"red"},onClick:()=>x("home"),children:"Close"}),d("div",{style:{display:"flex",flexDirection:"row",height:"80%",overflowY:"hidden",backgroundColor:"grey"},children:[d("div",{style:{display:"block",width:"45%",margin:"20px",height:"100%"},children:[o("h3",{children:"Categories"}),o("div",{style:ae.categoryContainer,children:X.map(b=>o("div",{style:oe(b),onClick:()=>we(b),children:o("p",{children:b})},b))})]}),d("div",{style:{display:"block",width:"45%",margin:"20px",height:"100%"},children:[o("h3",{children:"Allowed Categories"}),o("div",{style:ae.categoryContainer,children:(k==null?void 0:k.allowedCategories.length)>0?k.allowedCategories.map(b=>o("div",{style:oe(b),onClick:()=>re(b),children:o("p",{children:b})},b)):o("p",{children:"No categories selected"})})]})]}),o("button",{style:ae.TCButton,onClick:Ie,children:"Save"})]})]})]})}),O==="newServiceForm1"&&d("div",{children:[o("h3",{children:"New Service Form "}),d("div",{style:ae.container,children:[o("label",{style:ae.label,children:o("p",{style:{display:se?"inline-block":"none",color:"red"},children:o("strong",{children:"Duplicate Service!!! "})})}),d("label",{style:ae.label,children:["Service Type:",d("select",{type:"text",value:S.serviceType,onChange:b=>F({...S,serviceType:b.target.value}),style:ae.input,children:[o("option",{value:"",children:"Select Service Type"}),I.serviceTypes.map(b=>o("option",{children:b},b))]})]}),d("label",{style:ae.label,children:["Service Class:",d("select",{type:"text",value:S.itemClass,onChange:b=>F({...S,itemClass:b.target.value}),style:ae.input,children:[o("option",{value:"",children:"Select Service Class"}),I.serviceClasses.map(b=>o("option",{children:b},b))]})]}),d("label",{style:ae.label,children:["Subclass:",d("select",{type:"text",value:S.itemSubclass,onChange:b=>F({...S,itemSubclass:b.target.value}),style:ae.input,children:[o("option",{value:"",children:"Select Service Subclass"}),I.serviceSubclasses.map(b=>o("option",{children:b},b))]})]}),d("label",{style:ae.label,children:["Legal Classification of Service:",d("select",{type:"text",value:S.legalClass,onChange:b=>F({...S,legalClass:b.target.value}),style:ae.input,children:[o("option",{value:"",children:"Select Legal Class"}),o("option",{value:"GSL",children:"General Sales List"}),o("option",{value:"PO",children:"Pharmacy Only"}),o("option",{value:"POM",children:"Prescription Only Medication"}),o("option",{value:"CD",children:"Controlled Drug"}),o("option",{value:"not applicable",children:"Not Applicable"})]})]}),d("label",{style:ae.label,children:["Nonproprietary/Generic Name:",o("input",{type:"text",value:S.nonproprietaryName,onChange:b=>F({...S,nonproprietaryName:b.target.value}),style:ae.input})]}),d("label",{style:ae.label,children:["Description:",o("textarea",{type:"text",value:S.description,onChange:b=>F({...S,description:b.target.value}),style:ae.textarea,placeholder:"Detailed description of service item, including potential hazards/adverse effects/contraindications"})]}),d("label",{style:ae.label,children:["Sample Container (Where applicable):",o("input",{type:"text",value:S.sampleContainer,onChange:b=>F({...S,sampleContainer:b.target.value}),style:ae.input,placeholder:"'Not applicable' if not required"})]}),d("label",{style:{...ae.label,display:(S==null?void 0:S.serviceType)==="pathology"?"inline-block":"none"},children:["Test Code (This is a unique number perculiar to each pathology tests):",o("input",{type:"text",value:S.testCode,onChange:b=>F({...S,testCode:b.target.value}),style:ae.input,placeholder:"Compulsory!!!"})]}),o("span",{style:ae.TCButton,onClick:()=>P("page1"),children:"Close"}),o("span",{style:ae.TCButton,onClick:Re,children:"Create Service"})]})]}),O==="newServiceForm2"&&d("div",{children:[o("h3",{children:"New Scheme Form "}),d("div",{style:ae.container,children:[o("label",{style:ae.label,children:o("p",{style:{display:se?"inline-block":"none",color:"red"},children:o("strong",{children:"Duplicate Service!!! "})})}),d("label",{style:ae.label,children:["Scheme Sponsor's 'Dispensary ID':",o("input",{type:"text",value:S.schemeSponsorID,onChange:b=>F({...S,schemeSponsorID:b.target.value}),style:ae.input})]}),d("label",{style:ae.label,children:["Service Type:",d("select",{type:"text",value:S.serviceType,onChange:b=>F({...S,serviceType:b.target.value}),style:ae.input,children:[o("option",{value:"",children:"Select Service Type"}),I.serviceTypes.map(b=>o("option",{style:{display:["pathology","procedure","pharmaceutical","radiology"].includes(b)?"inline-block":"none"},children:b},b))]})]}),d("label",{style:ae.label,children:["Service Class:",d("select",{type:"text",value:S.itemClass,onChange:b=>F({...S,itemClass:b.target.value}),style:ae.input,children:[o("option",{value:"",children:"Select Service Class"}),I.serviceClasses.map(b=>o("option",{children:b},b))]})]}),d("label",{style:ae.label,children:["Subclass:",d("select",{type:"text",value:S.itemSubclass,onChange:b=>F({...S,itemSubclass:b.target.value}),style:ae.input,children:[o("option",{value:"",children:"Select Service Subclass"}),I.serviceSubclasses.map(b=>o("option",{children:b},b))]})]}),d("label",{style:ae.label,children:["Legal Classification of Service:",d("select",{type:"text",value:S.legalClass,onChange:b=>F({...S,legalClass:b.target.value}),style:ae.input,children:[o("option",{value:"",children:"Select Legal Class"}),o("option",{value:"GSL",children:"General Sales List"}),o("option",{value:"PO",children:"Pharmacy Only"}),o("option",{value:"POM",children:"Prescription Only Medication"}),o("option",{value:"CD",children:"Controlled Drug"}),o("option",{value:"not applicable",children:"Not Applicable"})]})]}),d("label",{style:ae.label,children:["Nonproprietary/Generic Name:",o("input",{type:"text",value:S.nonproprietaryName,onChange:b=>F({...S,nonproprietaryName:b.target.value}),style:ae.input})]}),d("label",{style:ae.label,children:["Description:",o("textarea",{type:"text",value:S.description,onChange:b=>F({...S,description:b.target.value}),style:ae.textarea,placeholder:"Detailed description of service item, including potential hazards/adverse effects/contraindications"})]}),d("label",{style:ae.label,children:["Sample Container (Where applicable):",o("input",{type:"text",value:S.sampleContainer,onChange:b=>F({...S,sampleContainer:b.target.value}),style:ae.input,placeholder:"'Not applicable' if not required"})]}),o("span",{style:ae.TCButton,onClick:()=>P("page1"),children:"Close"}),o("span",{style:ae.TCButton,onClick:Re,children:"Create Scheme"})]})]})]})}function um(){const{state:p,logout:m,updatePatient:f}=T.useContext(en),{token:y,spineUrl:w,category:I,accessLevel:O,allStates:P,userID:N,organisation:x}=p,[S,F]=T.useState("Home"),[V,ne]=T.useState([]),[k,A]=T.useState({}),[Z,z]=T.useState({}),[q,Y]=T.useState(""),[se,Ce]=T.useState([]),[Be,Oe]=T.useState(""),[X,J]=T.useState(""),[Re,D]=T.useState(""),[Ie,we]=T.useState(!1),[re,ae]=T.useState(!1),[te,oe]=T.useState("table"),[b,Q]=T.useState({}),[C,_]=T.useState([]);fn(),T.useEffect(()=>{(async()=>{try{const ee=await fetch(`${w}/staffing/fetch_administrators?state=${encodeURIComponent(q)}&q=${encodeURIComponent(Re)}`,{method:"GET",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"}});if(console.log(w),ee.ok){const Fe=await ee.json();ne(Fe.administrators)}else{const Fe=await ee.json();alert(Fe.message),console.error("Failed to fetch keypersons:",ee.statusText)}}catch(ee){console.error("Error fetching keypersons:",ee)}})()},[w,y,q,Re,Ie]),T.useEffect(()=>{(async()=>{try{const ee=await fetch(`${w}/staffing/fetch_configurations?category=${encodeURIComponent(Z.category)}`,{method:"GET",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"}});if(console.log(w),ee.ok){const Fe=await ee.json();Ce(Fe.configurations)}else{const Fe=await ee.json();alert(Fe.message),console.error("Failed to fetch localities:",ee.statusText)}}catch(ee){console.error("Error fetching localities:",ee)}})()},[w,y,Z.category,k.category]);const j=async ye=>{if(ye.preventDefault(),!confirm("You are about to add a new administrator to your organisation. Confirm action.")){alert("Action cancelled!");return}try{const Fe=new FormData(ye.target),de={};if(Fe.forEach((U,ie)=>{de[ie]=U}),!de.configID){alert("'Job Role' is missing");return}const be=await fetch(`${w}/staffing/create_new_administrator`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify(de)});if(be.ok){const U=await be.json();alert(U.message),we(ie=>!ie),F("Home")}else{const U=await be.json();alert(U.message),console.error("Failed to fetch localities:",be.statusText)}}catch(Fe){console.error("Error fetching localities:",Fe)}},pe=async()=>{try{if(!confirm("You are about to modify a administrator. Do you want to procede?")){alert("Action cancelled!");return}const ee=await fetch(`${w}/staffing/modify_administrator`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify(k)});if(ee.ok){const Fe=await ee.json();alert(Fe.message),we(de=>!de)}else{const Fe=await ee.json();alert(Fe.message),console.error("Failed to fetch localities:",ee.statusText)}}catch(ye){console.error("Error fetching localities:",ye)}},Te=T.useRef(null),_e=()=>{const ye=Te.current.getScreenshot();A(ee=>({...ee,newPhoto:ye}))},xe=async()=>{if(!confirm("Confirm Image Upload")){alert("Image Upload cancelled!"),A({...k,newPhoto:null});return}try{const ee=await fetch(`${w}/staffing/photo_upload`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({staffID:k.staffID,newPhoto:k.newPhoto})});if(ee.ok){const Fe=await ee.json();Fe.newPhotoUrl&&A({...k,photoUrl:Fe.newPhotoUrl}),F("Editing Pad"),A({...k,newPhoto:null}),_([])}else{const Fe=await ee.json();alert(Fe.message)}}catch(ee){console.error("Submission error:",ee),alert("An error occurred uploading clinician photo")}},me=ye=>{const{name:ee,type:Fe,files:de}=ye.target;if(Fe==="file"){const be=Array.from(de);_(U=>({...U,[ee]:[...U[ee]||[],...be]}))}},Ge=ye=>{_(ee=>{const Fe=[...ee.uploads];return Fe.splice(ye,1),{uploads:Fe}})},ge=ye=>new Promise((ee,Fe)=>{const de=new FileReader;de.onloadend=()=>ee(de.result.split(",")[1]),de.onerror=Fe,de.readAsDataURL(ye)}),Pe=async()=>{if(confirm("Confirm submission")){const ee=await Promise.all(C.uploads.map(async Fe=>{const de=await ge(Fe);return{name:Fe.name,content:de}}));try{const Fe=await fetch(`${w}/staffing/file_upload`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({staffID:k.staffID,uploads:ee})});if(Fe.ok){const de=await Fe.json();A({...k,documents:de.documents}),oe("table")}else{const de=await Fe.json();alert(de.message)}}catch(Fe){console.error("File upload error:",Fe),alert("An error occurred uploading files")}}else alert("File upload cancelled!")},We=async()=>{if(!b.validity){alert("Document validity missing!");return}confirm("Ensure due diligence has been done on file before modifying file verification status.")||alert("File verification cancelled!");try{const ee=await fetch(`${w}/staffing/file_verification`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({staffID:k.staffID,fileKey:b.fileKey,validity:b.validity,verification:"verified"})});if(ee.ok){const Fe=await ee.json();A({...k,documents:Fe.documents}),oe("table"),ae(!1)}else{const Fe=await ee.json();alert(Fe.message)}}catch(ee){console.error("File verification error:",ee),alert("An error occurred uploading files")}},it=async()=>{if(!b.validity){alert("Document validity missing!");return}confirm("Ensure due diligence has been done on file before modifying file verification status.")||alert("File verification cancelled!");try{const ee=await fetch(`${w}/staffing/file_verification`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify({staffID:k.staffID,fileKey:b.fileKey,validity:b.validity,verification:"unverified"})});if(ee.ok){const Fe=await ee.json();A({...k,documents:Fe.documents}),oe("table"),ae(!1)}else{const Fe=await ee.json();alert(Fe.message)}}catch(ee){console.error("File verification error:",ee),alert("An error occurred uploading files")}},Se={page:{color:"black",height:"100%",width:"100%",overflowY:"hidden",overflowX:"hidden",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},searchFieldContainer:{display:"flex",flexDirection:"row",backgroundColor:"grey",alignItems:"left",justifyContent:"left"},searchField:{backgroundColor:"white",color:"black",right:"20px",width:"35%",height:"25px",top:"120px"},stateSelector2:{backgroundColor:"#2c3e50",color:"white",right:"20px",width:"15%",height:"25px",top:"120px"},tableContainer:{height:"79vh",backgroundColor:"white",width:"100%"},table:{width:"95%",borderCollapse:"collapse",marginTop:"20px"},thead:{backgroundColor:"#2c3e50",color:"white",position:"sticky",top:"0px",zIndex:2e3},profileContainer:{display:"flex",flexDirection:"row",color:"black",backgroundColor:"#f9f9f9",padding:"20px",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",width:"80%",height:"65vh",margin:"20px auto",textAlign:"center"},photoContainer:{position:"sticky",top:"10px",left:"80px",backgroundColor:"#fff",height:"200px",width:"200px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden"},photoContainer2:{position:"sticky",top:"10px",left:"80px",backgroundColor:"#fff",height:"380px",width:"380px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",border:"1px solid #ddd",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",overflow:"hidden"},image:{height:"100%",width:"100%",objectFit:"cover"},placeholderText:{color:"#666",fontSize:"16px",fontStyle:"italic",textAlign:"center"},section:{display:"block",width:"45%",marginBottom:"20px",textAlign:"left",lineHeight:"0.8"},input:{padding:"10px",marginRight:"10px",borderRadius:"5px",border:"1px solid #ccc",width:"200px",backgroundColor:"white",color:"black"},button:{backgroundColor:"#3498db",margin:"5px"},topCloseButton:{height:"30px",width:"100px",backgroundColor:"red",cursor:"pointer"},docVerificationOverlay:{display:re?"block":"none",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:2e3,pointerEvents:"auto",width:"40%",height:"40%",backgroundColor:"grey",textAlign:"center"},uploadfield:{padding:"20px",border:"1px solid #ccc",borderRadius:"8px"},uploadInput:{marginBottom:"10px"},uploadedFiles:{marginTop:"10px",listStyleType:"none",padding:"0",minHeight:"4vh"},uploadItem:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},removeFileButton:{color:"red",cursor:"pointer"}},Ht=ye=>({backgroundColor:ye%2===0?"#f9f9f9":"#e0e0e0",cursor:"pointer"});return d("div",{style:Se.page,children:[S==="Home"&&d("div",{style:Se.tableContainer,children:[d("div",{style:Se.searchFieldContainer,children:[d("select",{style:Se.stateSelector2,value:q,onChange:ye=>Y(ye.target.value),children:[o("option",{value:"",children:"Select Branch"}),P.map(ye=>o("option",{value:ye,children:ye},ye))]}),o("input",{style:Se.searchField,value:Re,onChange:ye=>D(ye.target.value),placeholder:"Search here for client"})]}),d("table",{style:{width:"100%"},children:[o("thead",{style:Se.thead,children:d("tr",{children:[o("th",{}),o("th",{children:"State"}),o("th",{children:"Administrator"}),o("th",{children:"Department"}),o("th",{children:"Role"}),o("th",{children:"Email"}),o("th",{children:"Access Level"}),o("th",{children:"Action"})]})}),o("tbody",{children:V.map((ye,ee)=>d("tr",{style:Ht(ee),children:[o("td",{children:ee+1}),o("td",{children:ye.state}),o("td",{children:ye.user}),o("td",{children:ye.department}),o("td",{children:ye.role}),o("td",{children:ye.email}),o("td",{children:ye.accessLevel}),o("td",{children:o("button",{onClick:()=>{A(ye),F("Editing Pad")},children:"Open Profile"})})]},ye))})]}),o("button",{style:Se.button,onClick:()=>F("New Administrator"),children:"Add New Administrator"})]}),S==="Editing Pad"&&o("div",{style:{width:"100%"},children:d("div",{style:Se.profileContainer,children:[d("div",{style:Se.section,children:[o("div",{style:Se.photoContainer,children:k.photoUrl?o("img",{src:k.photoUrl,style:Se.image,alt:"Administrator's photo"}):o("div",{style:Se.placeholderText,children:"Photo Not Found"})}),o("span",{style:{textDecoration:"underline",color:"green",cursor:"pointer"},onClick:()=>F("Photo Upload"),children:"Change Photo"}),d("p",{children:[o("strong",{children:"Administrator:"})," ",k.user,"(",k.category,")"]}),d("p",{children:[o("strong",{children:"Staff ID:"})," ",k.staffID]}),d("p",{children:[o("strong",{children:"Added On:"})," ",k.createdOn]}),d("p",{children:[o("strong",{children:"Department:"})," ",k.department.toUpperCase()]}),d("p",{children:[o("strong",{children:"Job Role:"})," ",k.role.toUpperCase()]}),d("p",{children:[o("strong",{children:"Access Level:"})," ",k.accessLevel]}),d("p",{children:[o("strong",{children:"Email:"})," ",k.email]}),d("p",{children:[o("strong",{children:"Mobile:"})," ",k.mobile]}),o("button",{style:Se.button,onClick:()=>{F("Documents")},children:"Documents"}),o("button",{style:Se.button,onClick:()=>{F("Home"),A({})},children:"Close"})]}),d("div",{style:Se.section,children:[d("div",{style:{marginBottom:"20px"},children:["State:",d("select",{style:Se.input,name:"state",value:k.state,onChange:ye=>A({...k,state:ye.target.value}),children:[o("option",{value:"",children:"Select State"}),P.map(ye=>o("option",{value:ye,children:ye},ye))]})]}),d("div",{style:{marginBottom:"20px"},children:["Category:",d("select",{style:Se.input,value:k.category||"",onChange:ye=>{A({...k,category:ye.target.value}),z({...Z,category:ye.target.value})},children:[o("option",{value:"",children:"Select Category"}),o("option",{value:"executive",children:"Executive"}),o("option",{value:"employee",children:"Employee"}),o("option",{value:"agent",children:"Agent"})]})]}),d("div",{style:{marginBottom:"20px"},children:["Role:",d("select",{style:Se.input,name:"configID",value:k.configID||"",onChange:ye=>A({...k,configID:ye.target.value}),children:[o("option",{value:"",children:"Select Role"}),se.map(ye=>o("option",{value:ye.configID,children:ye.role},ye.configID))]})]}),d("div",{style:{marginBottom:"20px"},children:["Status:",d("select",{style:Se.input,value:k.staffStatus||"",onChange:ye=>A({...k,staffStatus:ye.target.value}),children:[o("option",{value:"active",children:"Active"}),o("option",{value:"inactive",children:"Inactivated"}),o("option",{value:"suspended",children:"Suspended"}),o("option",{value:"resigned",children:"Resigned"}),o("option",{value:"dismissed",children:"Dismissed"})]})]}),o("button",{style:Se.button,onClick:pe,children:"Save Changes"})]})]})}),S==="New Administrator"&&o("div",{style:{width:"100%"},children:o("div",{style:Se.profileContainer,children:d("form",{style:{width:"100%",display:"flex",flexDirection:"row"},onSubmit:j,children:[d("div",{style:Se.section,children:[d("div",{style:{marginBottom:"20px"},children:["Title:",d("select",{type:"text",name:"title",style:Se.input,required:!0,children:[o("option",{value:"",children:"Select Title"}),o("option",{value:"Dr.",children:"Dr."}),o("option",{value:"Mr.",children:"Mr."}),o("option",{value:"Mrs.",children:"Mrs."}),o("option",{value:"Ms.",children:"Ms."}),o("option",{value:"Prof.",children:"Prof."})]})]}),d("div",{style:{marginBottom:"20px"},children:["Gender:",d("select",{type:"text",name:"gender",style:Se.input,required:!0,children:[o("option",{value:"",children:"Select Gender"}),o("option",{value:"male",children:"Male"}),o("option",{value:"female",children:"Female"})]})]}),d("div",{style:{marginBottom:"20px"},children:["Last Name:",o("input",{type:"text",name:"lastName",style:Se.input,required:!0})]}),d("div",{style:{marginBottom:"20px"},children:["First Name:",o("input",{type:"text",name:"firstName",style:Se.input,required:!0})]}),d("div",{style:{marginBottom:"20px"},children:["Date of Birth:",o("input",{type:"date",name:"dob",style:Se.input,required:!0})]}),d("div",{style:{marginBottom:"20px"},children:["Emergency Contact:",o("input",{type:"text",name:"emergencyContact",style:Se.input,required:!0})]}),d("div",{style:{marginBottom:"20px"},children:["Work Email:",o("input",{type:"email",name:"email",style:Se.input,required:!0})]}),d("div",{style:{marginBottom:"20px"},children:["Mobile Number:",o("input",{type:"tel",name:"mobile",style:Se.input,required:!0})]}),d("div",{style:{marginBottom:"20px"},children:["Employer:",o("input",{type:"text",name:"employer",style:Se.input,placeholder:"Leave blank for PrescribeNg employees"})]})]}),d("div",{style:Se.section,children:[d("div",{style:{marginBottom:"20px"},children:["State:",d("select",{style:Se.input,name:"state",value:Z.state,onChange:ye=>z({...Z,state:ye.target.value}),children:[o("option",{value:"",children:"Select State"}),P.map(ye=>o("option",{value:ye,children:ye},ye))]})]}),d("div",{style:{marginBottom:"20px"},children:["Category:",d("select",{style:Se.input,value:Z.category||"",onChange:ye=>z({...Z,category:ye.target.value}),children:[o("option",{value:"",children:"Select Category"}),o("option",{value:"executive",children:"Executive"}),o("option",{value:"employee",children:"Employee"}),o("option",{value:"agent",children:"Agent"})]})]}),d("div",{style:{marginBottom:"20px"},children:["Role:",d("select",{style:Se.input,name:"configID",value:Z.configID||"",onChange:ye=>z({...Z,configID:ye.target.value}),children:[o("option",{value:"",children:"Select Role"}),se.map(ye=>o("option",{value:ye.configID,children:ye.role},ye.configID))]})]}),o("button",{style:Se.button,type:"submit",children:"Add New Administrator"}),o("button",{onClick:()=>{F("Home"),z({})},children:"Cancel"})]})]})})}),S==="Photo Upload"&&o("div",{style:{width:"100%"},children:d("div",{style:Se.profileContainer,children:[d("div",{style:{...Se.section,width:"50%"},children:[o("h2",{children:"Web Cam"}),o("div",{style:Se.photoContainer2,children:o(za,{audio:!1,ref:Te,screenshotFormat:"image/png",width:400})}),o("button",{style:Se.button,onClick:_e,children:"Capture"}),o("button",{style:Se.button,onClick:()=>{F("Editing Pad"),A({...k,newPhoto:null})},children:"Back"})]}),d("div",{style:{...Se.section,width:"50%",display:k.newPhoto?"inline-block":"none"},children:[d("h2",{children:["Preview (",k.clinician,")"]}),o("div",{style:Se.photoContainer2,children:k.newPhoto?o("img",{src:k.newPhoto,alt:"Captured",width:400}):o("div",{style:Se.placeholderText,children:"No image captured"})}),o("button",{style:Se.button,onClick:xe,children:"Upload"})]})]})}),S==="Documents"&&o("div",{style:{width:"100%"},children:d("div",{style:Se.profileContainer,children:[te==="table"&&d("div",{style:{...Se.section,width:"100%"},children:[o("div",{style:{height:"40%",width:"100%"},children:d("table",{style:Se.table,children:[o("thead",{style:Se.thead,children:d("tr",{children:[o("th",{children:"Document"}),o("th",{children:"Validity"}),o("th",{children:"Verification"}),o("th",{children:"Action"})]})}),o("tbody",{children:k.documents&&k.documents.length>0?k.documents.map((ye,ee)=>d("tr",{children:[o("td",{children:ye.fileName}),o("td",{children:ye.validity||"not set"}),o("td",{children:ye.verification||"unverified"}),o("td",{children:o("button",{onClick:()=>{oe("iframe"),Q(ye)},children:"View"})})]},ee)):o("tr",{colSpan:"4",style:{textAlign:"right"},children:"No documents uploaded"})})]})}),o("button",{onClick:()=>{F("Editing Pad")},children:"Close"}),o("button",{onClick:()=>{oe("upload")},children:"Upload Document"})]}),te==="iframe"&&o("div",{style:{...Se.section,width:"100%",position:"relative",zIndex:1e3,pointerEvents:re?"none":"auto"},children:d("div",{children:[o("span",{style:Se.topCloseButton,onClick:()=>{oe("table"),b({}),ae(!1)},children:"Close"}),o("iframe",{style:{height:"60vh",width:"100%"},src:b.fileUrl}),d("div",{style:Se.docVerificationOverlay,children:[d("div",{children:[o("h3",{children:"When does this document expire?"}),o("input",{style:Se.input,type:"date",value:b.validity||"",onChange:ye=>Q({...b,validity:ye.target.value})}),o("button",{style:{...Se.button,display:b.verification==="unverified"?"inline-block":"none"},onClick:We,children:"Verify"}),o("button",{style:{...Se.button,display:b.verification==="verified"?"inline-block":"none"},onClick:it,children:"De-Verify"})]}),o("span",{style:Se.topCloseButton,onClick:()=>ae(!1),children:"Close"})]}),o("button",{style:{...Se.button,display:b.verification==="verified"?"none":"inline-block"},onClick:()=>ae(!0),children:"Verify"}),o("button",{style:{...Se.button,display:b.verification==="verified"&&O<=3?"inline-block":"none"},onClick:()=>ae(!0),children:"De-Verify"})]})}),te==="upload"&&d("div",{style:{...Se.section,width:"100%"},children:[d("div",{style:Se.uploadfield,children:[d("div",{style:Se.uploadInput,children:[o("label",{children:"Upload File"}),o("input",{name:"uploads",type:"file",onChange:me,multiple:!0})]}),o("div",{style:Se.uploadedFiles,children:C.uploads&&C.uploads.length>0?C.uploads.map((ye,ee)=>d("div",{style:Se.uploadItem,children:[d("span",{children:[ee+1,". ",ye.name]}),o("span",{style:Se.removeFileButton,onClick:()=>Ge(ee),children:"X"})]},ee)):o("p",{children:"No files uploaded yet."})})]}),o("button",{onClick:()=>{oe("table"),_([])},children:"Back"}),o("button",{style:{display:C.uploads?"inline-block":"none"},onClick:Pe,children:"Upload"})]})]})})]})}const cm=()=>(T.useEffect(()=>((()=>{if(!document.getElementById("ze-snippet")){const m=document.createElement("script");m.id="ze-snippet",m.src="https://static.zdassets.com/ekr/snippet.js?key=YOUR_UNIQUE_KEY",m.async=!0,document.body.appendChild(m),m.onload=()=>{window.zE("webWidget","updateSettings",{webWidget:{color:{theme:"#1a73e8"},launcher:{chatLabel:{"*":"Chat with us"}},position:{horizontal:"right",vertical:"bottom"}}})}}})(),()=>{const m=document.getElementById("ze-snippet");m&&m.remove(),delete window.zESettings,window.zE&&window.zE("webWidget","destroy")}),[]),null);function dm(){return o(vp,{children:o(up,{children:o("div",{className:"App",children:d(np,{children:[o(Ft,{path:"/",element:o(yp,{})}),o(Ft,{path:"/totp-page",element:o(_p,{})}),d(Ft,{path:"/home",element:o(Op,{}),children:[o(Ft,{path:"",element:o(Np,{})}),o(Ft,{path:"ambulance-call-center",element:o(Jp,{})}),o(Ft,{path:"ambulance-fleet",element:o(tm,{})}),o(Ft,{path:"clinician-signup",element:o(am,{})}),o(Ft,{path:"manage-organisations",element:o(nm,{})}),o(Ft,{path:"manage-clinicians",element:o(lm,{})}),o(Ft,{path:"organisation-signup",element:o(im,{})}),o(Ft,{path:"patient-signup",element:o(rm,{})}),o(Ft,{path:"manage-patients",element:o(om,{})}),o(Ft,{path:"prescribeng-services",element:o(sm,{})}),o(Ft,{path:"manage-administrators",element:o(um,{})}),o(Ft,{path:"zendesk-chat",element:o(cm,{})})]})]})})})})}sf.createRoot(document.getElementById("root")).render(o(T.StrictMode,{children:o(dm,{})}));
